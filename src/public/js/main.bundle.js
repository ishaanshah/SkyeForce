/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,r)=>{"use strict";r.r(t);var a=r("./src/js/data/config.js"),n=r("./src/js/utils/detector.js"),s=r("./src/js/app/main.js");r("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),a.default.isDev=!0,function(){if(n.default.webgl){var e=document.getElementById("appContainer");new s.default(e)}else n.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r("./node_modules/three/build/three.module.js"),n=r("./src/js/data/config.js");function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=t.domElement.width,i=t.domElement.height;this.threeCamera=new a.PerspectiveCamera(n.default.camera.fov,s/i,n.default.camera.near,n.default.camera.far),this.threeCamera.position.set(n.default.camera.posX,n.default.camera.posY,n.default.camera.posZ),this.updateSize(t),window.addEventListener("resize",(function(){return r.updateSize(t)}),!1)}var t,r,i;return t=e,(r=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&s(t.prototype,r),i&&s(t,i),e}()},"./src/js/app/components/light.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r("./node_modules/three/build/three.module.js"),n=r("./src/js/data/config.js");function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.init()}var t,r,i;return t=e,(r=[{key:"init",value:function(){this.ambientLight=new a.AmbientLight(n.default.ambientLight.color),this.ambientLight.visible=n.default.ambientLight.enabled,this.pointLight=new a.PointLight(n.default.pointLight.color,n.default.pointLight.intensity,n.default.pointLight.distance),this.pointLight.position.set(n.default.pointLight.x,n.default.pointLight.y,n.default.pointLight.z),this.pointLight.visible=n.default.pointLight.enabled,this.directionalLight=new a.DirectionalLight(n.default.directionalLight.color,n.default.directionalLight.intensity),this.directionalLight.position.set(n.default.directionalLight.x,n.default.directionalLight.y,n.default.directionalLight.z),this.directionalLight.visible=n.default.directionalLight.enabled,this.directionalLight.castShadow=n.default.shadow.enabled,this.directionalLight.shadow.bias=n.default.shadow.bias,this.directionalLight.shadow.camera.near=n.default.shadow.near,this.directionalLight.shadow.camera.far=n.default.shadow.far,this.directionalLight.shadow.camera.left=n.default.shadow.left,this.directionalLight.shadow.camera.right=n.default.shadow.right,this.directionalLight.shadow.camera.top=n.default.shadow.top,this.directionalLight.shadow.camera.bottom=n.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=n.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=n.default.shadow.mapHeight,n.default.isDev&&(this.directionalLightHelper=new a.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=n.default.shadow.helperEnabled),this.hemiLight=new a.HemisphereLight(n.default.hemiLight.color,n.default.hemiLight.groundColor,n.default.hemiLight.intensity),this.hemiLight.position.set(n.default.hemiLight.x,n.default.hemiLight.y,n.default.hemiLight.z),this.hemiLight.visible=n.default.hemiLight.enabled}},{key:"place",value:function(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),n.default.isDev&&this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}])&&s(t.prototype,r),i&&s(t,i),e}()},"./src/js/app/components/material.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r("./node_modules/three/build/three.module.js");var n=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.basic=new a.MeshBasicMaterial({color:t,side:a.DoubleSide}),this.standard=new a.MeshStandardMaterial({color:t,shading:a.FlatShading,roughness:1,metalness:0,side:a.DoubleSide}),this.wire=new a.MeshBasicMaterial({wireframe:!0})}},"./src/js/app/components/renderer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r("./node_modules/three/build/three.module.js"),n=r("./src/js/data/config.js");function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t,r){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.container=r,this.threeRenderer=new a.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(t.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),r.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=a.PCFSoftShadowMap,n.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return s.updateSize()}),!1),window.addEventListener("resize",(function(){return s.updateSize()}),!1)}var t,r,i;return t=e,(r=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&s(t.prototype,r),i&&s(t,i),e}()},"./src/js/app/helpers/stats.js":(e,t,r)=>{"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n,s,i,o;r.r(t),r.d(t,{default:()=>l});var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}var t,r,l;return t=e,l=[{key:"start",value:function(){n("frame").start(),i.start(),n("rAF").tick(),n("FPS").frame(),n("render").start()}},{key:"end",value:function(){n("render").end(),n("frame").end(),n("rStats").start(),n().update(),n("rStats").end()}}],(r=[{key:"setUp",value:function(){s=new BrowserStats,i=new glStats,o=new threeStats(this.renderer.threeRenderer),n=new rStats({CSSPath:"./css/",userTimingAPI:!0,values:{frame:{caption:"Total frame time (ms)",over:16,average:!0,avgMs:100},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:100},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},texture:{caption:"GenTex",average:!0,avgMs:100}},groups:[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","texture","setup","render"]}],fractions:[{base:"frame",steps:["texture","setup","render"]}],plugins:[s,o]})}}])&&a(t.prototype,r),l&&a(t,l),e}()},"./src/js/app/loaders/GLTFLoader.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLTFLoader:()=>s});var a=r("./node_modules/three/build/three.module.js");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(){function e(e){a.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(a.Loader.prototype),{constructor:e,load:function(e,t,r,n){var s,i=this;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:a.LoaderUtils.extractUrlBase(e),i.manager.itemStart(e);var o=function(t){n?n(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},l=new a.FileLoader(i.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===i.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(r){try{i.parse(r,s,(function(r){t(r),i.manager.itemEnd(e)}),o)}catch(e){o(e)}}),r,o)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,n,c){var d,m={};if("string"==typeof e)d=e;else if(a.LoaderUtils.decodeText(new Uint8Array(e,0,4))===u){try{m[r.KHR_BINARY_GLTF]=new h(e)}catch(e){return void(c&&c(e))}d=m[r.KHR_BINARY_GLTF].content}else d=a.LoaderUtils.decodeText(new Uint8Array(e));var y=JSON.parse(d);if(void 0===y.asset||y.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(y.extensionsUsed)for(var b=0;b<y.extensionsUsed.length;++b){var w=y.extensionsUsed[b],T=y.extensionsRequired||[];switch(w){case r.KHR_LIGHTS_PUNCTUAL:m[w]=new i(y);break;case r.KHR_MATERIALS_CLEARCOAT:m[w]=new l;break;case r.KHR_MATERIALS_UNLIT:m[w]=new o;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[w]=new g;break;case r.KHR_DRACO_MESH_COMPRESSION:m[w]=new f(y,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:m[w]=new s(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:m[w]=new p;break;case r.KHR_MESH_QUANTIZATION:m[w]=new v;break;default:T.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new N(y,m,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(n,c)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function s(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=r.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=r.KHR_MATERIALS_UNLIT}function l(){this.name=r.KHR_MATERIALS_CLEARCOAT}i.prototype.loadLight=function(e){var t,r=this.lightDefs[e],n=new a.Color(16777215);void 0!==r.color&&n.fromArray(r.color);var s=void 0!==r.range?r.range:0;switch(r.type){case"directional":(t=new a.DirectionalLight(n)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new a.PointLight(n)).distance=s;break;case"spot":(t=new a.SpotLight(n)).distance=s,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return a.MeshBasicMaterial},o.prototype.extendParams=function(e,t,r){var n=[];e.color=new a.Color(1,1,1),e.opacity=1;var s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){var i=s.baseColorFactor;e.color.fromArray(i),e.opacity=i[3]}void 0!==s.baseColorTexture&&n.push(r.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(n)},l.prototype.getMaterialType=function(){return a.MeshPhysicalMaterial},l.prototype.extendParams=function(e,t,r){var n=[],s=t.extensions[this.name];if(void 0!==s.clearcoatFactor&&(e.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&n.push(r.assignTexture(e,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(e.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&n.push(r.assignTexture(e,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(n.push(r.assignTexture(e,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){var i=s.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new a.Vector2(i,i)}return Promise.all(n)};var u="glTF",c=1313821514,d=5130562;function h(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:a.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=new DataView(e,12),s=0;s<n.byteLength;){var i=n.getUint32(s,!0);s+=4;var o=n.getUint32(s,!0);if(s+=4,o===c){var l=new Uint8Array(e,12+s,i);this.content=a.LoaderUtils.decodeText(l)}else if(o===d){var h=12+s;this.body=e.slice(h,h+i)}s+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function p(){this.name=r.KHR_TEXTURE_TRANSFORM}function m(e){a.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),i=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),o={specular:{value:(new a.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(var a in o)e.uniforms[a]=o[a];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",s),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",i)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return m},extendParams:function(e,t,r){var n=t.extensions[this.name];e.color=new a.Color(1,1,1),e.opacity=1;var s=[];if(Array.isArray(n.diffuseFactor)){var i=n.diffuseFactor;e.color.fromArray(i),e.opacity=i[3]}if(void 0!==n.diffuseTexture&&s.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new a.Color(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new a.Color(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var o=n.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o))}return Promise.all(s)},createMaterial:function(e){var t=new m(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=a.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=r.KHR_MESH_QUANTIZATION}function y(e,t,r,n){a.Interpolant.call(this,e,t,r,n)}f.prototype.decodePrimitive=function(e,t){var r=this.json,a=this.dracoLoader,n=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,i={},o={},l={};for(var u in s){var c=j[u]||u.toLowerCase();i[c]=s[u]}for(u in e.attributes){c=j[u]||u.toLowerCase();if(void 0!==s[u]){var d=r.accessors[e.attributes[u]],h=x[d.componentType];l[c]=h,o[c]=!0===d.normalized}}return t.getDependency("bufferView",n).then((function(e){return new Promise((function(t){a.decodeDracoFile(e,(function(e){for(var r in e.attributes){var a=e.attributes[r],n=o[r];void 0!==n&&(a.normalized=n)}t(e)}),i,l)}))}))},p.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(a.MeshStandardMaterial.prototype),m.prototype.constructor=m,m.prototype.copy=function(e){return a.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},y.prototype=Object.create(a.Interpolant.prototype),y.prototype.constructor=y,y.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,a=this.valueSize,n=e*a*3+a,s=0;s!==a;s++)t[s]=r[n+s];return t},y.prototype.beforeStart_=y.prototype.copySampleValue_,y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(e,t,r,a){for(var n=this.resultBuffer,s=this.sampleValues,i=this.valueSize,o=2*i,l=3*i,u=a-t,c=(r-t)/u,d=c*c,h=d*c,f=e*l,p=f-l,m=-2*h+3*d,g=h-d,v=1-m,y=g-d+c,b=0;b!==i;b++){var w=s[p+b+i],T=s[p+b+o]*u,M=s[f+b+i],S=s[f+b]*u;n[b]=v*w+y*T+m*M+g*S}return n};var b=0,w=1,T=2,M=3,S=4,L=5,E=6,x={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},R={9728:a.NearestFilter,9729:a.LinearFilter,9984:a.NearestMipmapNearestFilter,9985:a.LinearMipmapNearestFilter,9986:a.NearestMipmapLinearFilter,9987:a.LinearMipmapLinearFilter},A={33071:a.ClampToEdgeWrapping,33648:a.MirroredRepeatWrapping,10497:a.RepeatWrapping},_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},j={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},C={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},P={CUBICSPLINE:void 0,LINEAR:a.InterpolateLinear,STEP:a.InterpolateDiscrete},k="OPAQUE",I="MASK",U="BLEND",G={"image/png":a.RGBAFormat,"image/jpeg":a.RGBFormat};function F(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function O(e,t,r){for(var a in r.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=r.extensions[a])}function D(e,t){void 0!==t.extras&&("object"===n(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function H(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,a=t.weights.length;r<a;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(r=0,a=n.length;r<a;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function B(e){for(var t="",r=Object.keys(e).sort(),a=0,n=r.length;a<n;a++)t+=r[a]+":"+e[r[a]]+";";return t}function N(e,r,n){this.json=e||{},this.extensions=r||{},this.options=n||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new a.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new a.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function V(e,t,r){var n=t.attributes,s=[];function i(t,a){return r.getDependency("accessor",t).then((function(t){e.setAttribute(a,t)}))}for(var o in n){var l=j[o]||o.toLowerCase();l in e.attributes||s.push(i(n[o],l))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));s.push(u)}return D(e,t),function(e,t,r){var n=t.attributes,s=new a.Box3;if(void 0!==n.POSITION){var i=(f=r.json.accessors[n.POSITION]).min,o=f.max;if(void 0!==i&&void 0!==o){s.set(new a.Vector3(i[0],i[1],i[2]),new a.Vector3(o[0],o[1],o[2]));var l=t.targets;if(void 0!==l){for(var u=new a.Vector3,c=new a.Vector3,d=0,h=l.length;d<h;d++){var f,p=l[d];if(void 0!==p.POSITION)i=(f=r.json.accessors[p.POSITION]).min,o=f.max,void 0!==i&&void 0!==o?(c.setX(Math.max(Math.abs(i[0]),Math.abs(o[0]))),c.setY(Math.max(Math.abs(i[1]),Math.abs(o[1]))),c.setZ(Math.max(Math.abs(i[2]),Math.abs(o[2]))),u.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}s.expandByVector(u)}e.boundingBox=s;var m=new a.Sphere;s.getCenter(m.center),m.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(s).then((function(){return void 0!==t.targets?function(e,t,r){for(var a=!1,n=!1,s=0,i=t.length;s<i&&(void 0!==(u=t[s]).POSITION&&(a=!0),void 0!==u.NORMAL&&(n=!0),!a||!n);s++);if(!a&&!n)return Promise.resolve(e);var o=[],l=[];for(s=0,i=t.length;s<i;s++){var u=t[s];if(a){var c=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;o.push(c)}n&&(c=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(o),Promise.all(l)]).then((function(t){var r=t[0],s=t[1];return a&&(e.morphAttributes.position=r),n&&(e.morphAttributes.normal=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function K(e,t){var r=e.getIndex();if(null===r){var n=[],s=e.getAttribute("position");if(void 0===s)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<s.count;i++)n.push(i);e.setIndex(n),r=e.getIndex()}var o=r.count-2,l=[];if(t===a.TriangleFanDrawMode)for(i=1;i<=o;i++)l.push(r.getX(0)),l.push(r.getX(i)),l.push(r.getX(i+1));else for(i=0;i<o;i++)i%2==0?(l.push(r.getX(i)),l.push(r.getX(i+1)),l.push(r.getX(i+2))):(l.push(r.getX(i+2)),l.push(r.getX(i+1)),l.push(r.getX(i)));l.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u}return N.prototype.parse=function(e,t){var r=this,a=this.json,n=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var s={scene:t[0][a.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:a.asset,parser:r,userData:{}};O(n,s,a),D(s,a),e(s)})).catch(t)},N.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],a={},n={},s=0,i=t.length;s<i;s++)for(var o=t[s].joints,l=0,u=o.length;l<u;l++)e[o[l]].isBone=!0;for(var c=0,d=e.length;c<d;c++){var h=e[c];void 0!==h.mesh&&(void 0===a[h.mesh]&&(a[h.mesh]=n[h.mesh]=0),a[h.mesh]++,void 0!==h.skin&&(r[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=a,this.json.meshUses=n},N.prototype.getDependency=function(e,t){var a=e+":"+t,n=this.cache.get(a);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this.loadMesh(t);break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this.loadBufferView(t);break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this.loadMaterial(t);break;case"texture":n=this.loadTexture(t);break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;case"light":n=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(a,n)}return n},N.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,a=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(a.map((function(t,a){return r.getDependency(e,a)}))),this.cache.add(e,t)}return t},N.prototype.loadBuffer=function(e){var t=this.json.buffers[e],a=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var n=this.options;return new Promise((function(e,r){a.load(F(t.uri,n.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},N.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,a=t.byteOffset||0;return e.slice(a,a+r)}))},N.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var s=[];return void 0!==n.bufferView?s.push(this.getDependency("bufferView",n.bufferView)):s.push(null),void 0!==n.sparse&&(s.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(s).then((function(e){var s,i,o=e[0],l=_[n.type],u=x[n.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,h=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,p=!0===n.normalized;if(f&&f!==d){var m=Math.floor(h/f),g="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+m+":"+n.count,v=t.cache.get(g);v||(s=new u(o,m*f,n.count*f/c),v=new a.InterleavedBuffer(s,f/c),t.cache.add(g,v)),i=new a.InterleavedBufferAttribute(v,l,h%f/c,p)}else s=null===o?new u(n.count*l):new u(o,h,n.count*l),i=new a.BufferAttribute(s,l,p);if(void 0!==n.sparse){var y=_.SCALAR,b=x[n.sparse.indices.componentType],w=n.sparse.indices.byteOffset||0,T=n.sparse.values.byteOffset||0,M=new b(e[1],w,n.sparse.count*y),S=new u(e[2],T,n.sparse.count*l);null!==o&&(i=new a.BufferAttribute(i.array.slice(),i.itemSize,i.normalized));for(var L=0,E=M.length;L<E;L++){var R=M[L];if(i.setX(R,S[L*l]),l>=2&&i.setY(R,S[L*l+1]),l>=3&&i.setZ(R,S[L*l+2]),l>=4&&i.setW(R,S[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))},N.prototype.loadTexture=function(e){var t,n=this,s=this.json,i=this.options,o=this.textureLoader,l=self.URL||self.webkitURL,u=s.textures[e],c=u.extensions||{},d=(t=c[r.MSFT_TEXTURE_DDS]?s.images[c[r.MSFT_TEXTURE_DDS].source]:s.images[u.source]).uri,h=!1;return void 0!==t.bufferView&&(d=n.getDependency("bufferView",t.bufferView).then((function(e){h=!0;var r=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(r)}))),Promise.resolve(d).then((function(e){var t=i.manager.getHandler(e);return t||(t=c[r.MSFT_TEXTURE_DDS]?n.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise((function(r,a){t.load(F(e,i.path),r,void 0,a)}))})).then((function(e){!0===h&&l.revokeObjectURL(d),e.flipY=!1,u.name&&(e.name=u.name),t.mimeType in G&&(e.format=G[t.mimeType]);var r=(s.samplers||{})[u.sampler]||{};return e.magFilter=R[r.magFilter]||a.LinearFilter,e.minFilter=R[r.minFilter]||a.LinearMipmapLinearFilter,e.wrapS=A[r.wrapS]||a.RepeatWrapping,e.wrapT=A[r.wrapT]||a.RepeatWrapping,e}))},N.prototype.assignTexture=function(e,t,n){var s=this;return this.getDependency("texture",n.index).then((function(i){if(!i.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":i.format=a.RGBFormat}if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),s.extensions[r.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;o&&(i=s.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(i,o))}e[t]=i}))},N.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,n=void 0!==t.attributes.tangent,s=void 0!==t.attributes.color,i=void 0===t.attributes.normal,o=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,u=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c="PointsMaterial:"+r.uuid,d=this.cache.get(c);d||(d=new a.PointsMaterial,a.Material.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.sizeAttenuation=!1,this.cache.add(c,d)),r=d}else if(e.isLine){c="LineBasicMaterial:"+r.uuid;var h=this.cache.get(c);h||(h=new a.LineBasicMaterial,a.Material.prototype.copy.call(h,r),h.color.copy(r.color),this.cache.add(c,h)),r=h}if(n||s||i||o||l){c="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),o&&(c+="skinning:"),n&&(c+="vertex-tangents:"),s&&(c+="vertex-colors:"),i&&(c+="flat-shading:"),l&&(c+="morph-targets:"),u&&(c+="morph-normals:");var f=this.cache.get(c);f||(f=r.clone(),o&&(f.skinning=!0),n&&(f.vertexTangents=!0),s&&(f.vertexColors=!0),i&&(f.flatShading=!0),l&&(f.morphTargets=!0),u&&(f.morphNormals=!0),this.cache.add(c,f)),r=f}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),r.normalScale&&!n&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!n&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},N.prototype.loadMaterial=function(e){var t,n=this,s=this.json,i=this.extensions,o=s.materials[e],l={},u=o.extensions||{},c=[];if(u[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var d=i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=d.getMaterialType(),c.push(d.extendParams(l,o,n))}else if(u[r.KHR_MATERIALS_UNLIT]){var h=i[r.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),c.push(h.extendParams(l,o,n))}else{t=a.MeshStandardMaterial;var f=o.pbrMetallicRoughness||{};if(l.color=new a.Color(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){var p=f.baseColorFactor;l.color.fromArray(p),l.opacity=p[3]}void 0!==f.baseColorTexture&&c.push(n.assignTexture(l,"map",f.baseColorTexture)),l.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,l.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(c.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture)))}!0===o.doubleSided&&(l.side=a.DoubleSide);var g=o.alphaMode||k;if(g===U?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,g===I&&(l.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==a.MeshBasicMaterial&&(c.push(n.assignTexture(l,"normalMap",o.normalTexture)),l.normalScale=new a.Vector2(1,1),void 0!==o.normalTexture.scale&&l.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==a.MeshBasicMaterial&&(c.push(n.assignTexture(l,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(l.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==a.MeshBasicMaterial&&(l.emissive=(new a.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==a.MeshBasicMaterial&&c.push(n.assignTexture(l,"emissiveMap",o.emissiveTexture)),u[r.KHR_MATERIALS_CLEARCOAT]){var v=i[r.KHR_MATERIALS_CLEARCOAT];t=v.getMaterialType(),c.push(v.extendParams(l,{extensions:u},n))}return Promise.all(c).then((function(){var e;return e=t===m?i[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),o.name&&(e.name=o.name),e.map&&(e.map.encoding=a.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=a.sRGBEncoding),D(e,o),o.extensions&&O(i,e,o),e}))},N.prototype.loadGeometries=function(e){var t=this,n=this.extensions,s=this.primitiveCache;function i(e){return n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return V(r,e,t)}))}for(var o,l,u=[],c=0,d=e.length;c<d;c++){var h,f=e[c],p=(l=void 0,(l=(o=f).extensions&&o.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+B(l.attributes):o.indices+":"+B(o.attributes)+":"+o.mode),m=s[p];if(m)u.push(m.promise);else h=f.extensions&&f.extensions[r.KHR_DRACO_MESH_COMPRESSION]?i(f):V(new a.BufferGeometry,f,t),s[p]={primitive:f,promise:h},u.push(h)}return Promise.all(u)},N.prototype.loadMesh=function(e){for(var t,r=this,n=this.json.meshes[e],s=n.primitives,i=[],o=0,l=s.length;o<l;o++){var u=void 0===s[o].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new a.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:a.FrontSide})),t.DefaultMaterial):this.getDependency("material",s[o].material);i.push(u)}return i.push(r.loadGeometries(s)),Promise.all(i).then((function(t){for(var i=t.slice(0,t.length-1),o=t[t.length-1],l=[],u=0,c=o.length;u<c;u++){var d,h=o[u],f=s[u],p=i[u];if(f.mode===S||f.mode===L||f.mode===E||void 0===f.mode)!0!==(d=!0===n.isSkinnedMesh?new a.SkinnedMesh(h,p):new a.Mesh(h,p)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===L?d.geometry=K(d.geometry,a.TriangleStripDrawMode):f.mode===E&&(d.geometry=K(d.geometry,a.TriangleFanDrawMode));else if(f.mode===w)d=new a.LineSegments(h,p);else if(f.mode===M)d=new a.Line(h,p);else if(f.mode===T)d=new a.LineLoop(h,p);else{if(f.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new a.Points(h,p)}Object.keys(d.geometry.morphAttributes).length>0&&H(d,n),d.name=n.name||"mesh_"+e,o.length>1&&(d.name+="_"+u),D(d,n),r.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var m=new a.Group;for(u=0,c=l.length;u<c;u++)m.add(l[u]);return m}))},N.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new a.PerspectiveCamera(a.MathUtils.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new a.OrthographicCamera(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=r.name),D(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},N.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},N.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],n=[],s=[],i=[],o=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],d=t.samplers[c.sampler],h=c.target,f=void 0!==h.node?h.node:h.id,p=void 0!==t.parameters?t.parameters[d.input]:d.input,m=void 0!==t.parameters?t.parameters[d.output]:d.output;r.push(this.getDependency("node",f)),n.push(this.getDependency("accessor",p)),s.push(this.getDependency("accessor",m)),i.push(d),o.push(h)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(s),Promise.all(i),Promise.all(o)]).then((function(r){for(var n=r[0],s=r[1],i=r[2],o=r[3],l=r[4],u=[],c=0,d=n.length;c<d;c++){var h=n[c],f=s[c],p=i[c],m=o[c],g=l[c];if(void 0!==h){var v;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,C[g.path]){case C.weights:v=a.NumberKeyframeTrack;break;case C.rotation:v=a.QuaternionKeyframeTrack;break;case C.position:case C.scale:default:v=a.VectorKeyframeTrack}var b=h.name?h.name:h.uuid,w=void 0!==m.interpolation?P[m.interpolation]:a.InterpolateLinear,T=[];C[g.path]===C.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&T.push(e.name?e.name:e.uuid)})):T.push(b);var M=p.array;if(p.normalized){var S;if(M.constructor===Int8Array)S=1/127;else if(M.constructor===Uint8Array)S=1/255;else if(M.constructor==Int16Array)S=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");S=1/65535}for(var L=new Float32Array(M.length),E=0,x=M.length;E<x;E++)L[E]=M[E]*S;M=L}for(E=0,x=T.length;E<x;E++){var R=new v(T[E]+"."+C[g.path],f.array,M,w);"CUBICSPLINE"===m.interpolation&&(R.createInterpolant=function(e){return new y(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(R)}}}var A=t.name?t.name:"animation_"+e;return new a.AnimationClip(A,void 0,u)}))},N.prototype.loadNode=function(e){var t,n=this.json,s=this.extensions,i=this,o=n.meshReferences,l=n.meshUses,u=n.nodes[e];return(t=[],void 0!==u.mesh&&t.push(i.getDependency("mesh",u.mesh).then((function(e){var t;if(o[u.mesh]>1){var r=l[u.mesh]++;(t=e.clone()).name+="_instance_"+r}else t=e;return void 0!==u.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=u.weights.length;t<r;t++)e.morphTargetInfluences[t]=u.weights[t]})),t}))),void 0!==u.camera&&t.push(i.getDependency("camera",u.camera)),u.extensions&&u.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==u.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&t.push(i.getDependency("light",u.extensions[r.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===u.isBone?new a.Bone:e.length>1?new a.Group:1===e.length?e[0]:new a.Object3D)!==e[0])for(var r=0,n=e.length;r<n;r++)t.add(e[r]);if(u.name&&(t.userData.name=u.name,t.name=a.PropertyBinding.sanitizeNodeName(u.name)),D(t,u),u.extensions&&O(s,t,u),void 0!==u.matrix){var i=new a.Matrix4;i.fromArray(u.matrix),t.applyMatrix4(i)}else void 0!==u.translation&&t.position.fromArray(u.translation),void 0!==u.rotation&&t.quaternion.fromArray(u.rotation),void 0!==u.scale&&t.scale.fromArray(u.scale);return t}))},N.prototype.loadScene=function(){function e(t,r,n,s){var i=n.nodes[t];return s.getDependency("node",t).then((function(e){return void 0===i.skin?e:s.getDependency("skin",i.skin).then((function(e){for(var r=[],a=0,n=(t=e).joints.length;a<n;a++)r.push(s.getDependency("node",t.joints[a]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],s=[],i=0,o=r.length;i<o;i++){var l=r[i];if(l){n.push(l);var u=new a.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*i),s.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new a.Skeleton(n,s),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var a=[];if(i.children)for(var o=i.children,l=0,u=o.length;l<u;l++){var c=o[l];a.push(e(c,t,n,s))}return Promise.all(a)}))}return function(t){var r=this.json,n=this.extensions,s=this.json.scenes[t],i=new a.Group;s.name&&(i.name=s.name),D(i,s),s.extensions&&O(n,i,s);for(var o=s.nodes||[],l=[],u=0,c=o.length;u<c;u++)l.push(e(o[u],i,r,this));return Promise.all(l).then((function(){return i}))}}(),e}()},"./src/js/app/main.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r("./node_modules/three/build/three.module.js"),n=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),s=r("./src/js/app/components/renderer.js"),i=r("./src/js/app/components/camera.js"),o=r("./src/js/app/components/light.js"),l=r("./src/js/app/helpers/stats.js"),u=r("./src/js/app/model/texture.js"),c=r("./src/js/app/model/model.js"),d=r("./src/js/app/managers/interaction.js"),h=r("./src/js/data/config.js");function f(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var p=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.clock=new a.Clock,this.scene=new a.Scene,this.scene.fog=new a.FogExp2(h.default.fog.color,h.default.fog.near),window.devicePixelRatio&&(h.default.dpr=window.devicePixelRatio),this.renderer=new s.default(this.scene,t),this.camera=new i.default(this.renderer.threeRenderer),this.light=new o.default(this.scene);["ambient","directional","point","hemi"].forEach((function(e){return r.light.place(e)})),h.default.isDev&&h.default.isShowingStats&&(this.stats=new l.default(this.renderer),this.stats.setUp()),this.texture=new u.default,this.texture.load().then((function(){r.manager=new a.LoadingManager,r.playerModel=new c.default(r.scene,r.manager,r.texture.textures),r.playerModel.load(h.default.models.player),r.manager.onProgress=function(e,t,r){console.log("".concat(e,": ").concat(t," ").concat(r))},r.manager.onLoad=function(){new d.default(r.renderer.threeRenderer,r.scene,r.camera.threeCamera),h.default.isLoaded=!0,r.container.querySelector("#loading").style.display="none"}})),this.render()}var t,r,p;return t=e,(r=[{key:"render",value:function(){h.default.isDev&&h.default.isShowingStats&&l.default.start(),this.renderer.render(this.scene,this.camera.threeCamera),h.default.isDev&&h.default.isShowingStats&&l.default.end(),n.default.update(),requestAnimationFrame(this.render.bind(this))}}])&&f(t.prototype,r),p&&f(t,p),e}()},"./src/js/app/managers/interaction.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r("./src/js/utils/keyboard.js"),n=r("./src/js/utils/helpers.js"),s=r("./src/js/data/config.js");function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(t,r,s){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.scene=r,this.camera=s,this.timeout=null,this.keyboard=new a.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return n.default.throttle(i.onMouseMove(e),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return i.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return i.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||i.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed")}))}var t,r,o;return t=e,(r=[{key:"onMouseOver",value:function(e){e.preventDefault(),s.default.isMouseOver=!0}},{key:"onMouseLeave",value:function(e){e.preventDefault(),s.default.isMouseOver=!1}},{key:"onMouseMove",value:function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){s.default.isMouseMoving=!1}),200),s.default.isMouseMoving=!0}}])&&i(t.prototype,r),o&&i(t,o),e}()},"./src/js/app/model/model.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r("./node_modules/three/build/three.module.js"),n=(r("./src/js/app/components/material.js"),r("./src/js/utils/helpers.js")),s=r("./src/js/utils/bufferGeometryUtils.js"),i=r("./src/js/app/loaders/GLTFLoader.js"),o=r("./src/js/data/config.js");function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.textures=a,this.manager=r,this.obj=null,this.ref=null}var t,r,u;return t=e,(r=[{key:"load",value:function(e){var t=this;new i.GLTFLoader(this.manager).load(e.path,(function(r){var n,i=r.scene;o.default.shadow.enabled&&i.traverse((function(t){(t.isMesh||t.isLight)&&(t.castShadow=!0),t.isMesh&&(t.material.wireframe=o.default.mesh.wireframe,(n=t).scale.multiplyScalar(e.scale))})),t.obj=n,s.BufferGeometryUtils.computeTangents(n.geometry);var l=new a.Group;l.scale.multiplyScalar(.25),t.scene.add(l),t.ref=l,l.updateMatrixWorld(!0),l.add(n),t.scene.add(i)}),n.default.logProgress(),n.default.logError())}},{key:"unload",value:function(){this.scene.remove(this.ref)}}])&&l(t.prototype,r),u&&l(t,u),e}()},"./src/js/app/model/texture.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r("./node_modules/three/build/three.module.js"),n=r("./node_modules/es6-promise/dist/es6-promise.js"),s=r("./src/js/utils/helpers.js"),i=r("./src/js/data/config.js");function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures={}}var t,r,l;return t=e,(r=[{key:"load",value:function(){var e=this,t=new a.TextureLoader,r=i.default.maxAnisotropy,o=i.default.texture.imageFiles,l=[];return t.setPath(i.default.texture.path),o.forEach((function(e){l.push(new n.Promise((function(n,i){t.load(e.image,(function(t){t.anisotropy=r;var s={};s[e.name]=t,s[e.name]instanceof a.Texture&&n(s)}),s.default.logProgress(),(function(t){return i(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),n.Promise.all(l).then((function(t){for(var r=0;r<t.length;r++)e.textures[Object.keys(t[r])[0]]=t[r][Object.keys(t[r])[0]]}),(function(e){return console.log(e)}))}}])&&o(t.prototype,r),l&&o(t,l),e}()},"./src/js/data/config.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});const a={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,models:{player:{path:"./assets/models/playerSpaceship.glb",scale:1}},texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!1,wireframe:!1,translucent:!0,material:{color:16777215,emissive:16777215}},fog:{color:16777215,near:8e-4},camera:{fov:35,near:2,far:1e3,aspect:16/9,posX:0,posY:5,posZ:-15},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:200,maxDistance:600,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/utils/bufferGeometryUtils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BufferGeometryUtils:()=>n});var a=r("./node_modules/three/build/three.module.js"),n={computeTangents:function(e){var t=e.index,r=e.attributes;if(null!==t&&void 0!==r.position&&void 0!==r.normal&&void 0!==r.uv){var n=t.array,s=r.position.array,i=r.normal.array,o=r.uv.array,l=s.length/3;void 0===r.tangent&&e.setAttribute("tangent",new a.BufferAttribute(new Float32Array(4*l),4));for(var u=r.tangent.array,c=[],d=[],h=0;h<l;h++)c[h]=new a.Vector3,d[h]=new a.Vector3;var f=new a.Vector3,p=new a.Vector3,m=new a.Vector3,g=new a.Vector2,v=new a.Vector2,y=new a.Vector2,b=new a.Vector3,w=new a.Vector3,T=e.groups;0===T.length&&(T=[{start:0,count:n.length}]);h=0;for(var M=T.length;h<M;++h)for(var S=k=(P=T[h]).start,L=k+P.count;S<L;S+=3)I(n[S+0],n[S+1],n[S+2]);var E,x,R,A=new a.Vector3,_=new a.Vector3,j=new a.Vector3,C=new a.Vector3;for(h=0,M=T.length;h<M;++h){var P,k;for(S=k=(P=T[h]).start,L=k+P.count;S<L;S+=3)U(n[S+0]),U(n[S+1]),U(n[S+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(e,t,r){f.fromArray(s,3*e),p.fromArray(s,3*t),m.fromArray(s,3*r),g.fromArray(o,2*e),v.fromArray(o,2*t),y.fromArray(o,2*r),p.sub(f),m.sub(f),v.sub(g),y.sub(g);var a=1/(v.x*y.y-y.x*v.y);isFinite(a)&&(b.copy(p).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(a),w.copy(m).multiplyScalar(v.x).addScaledVector(p,-y.x).multiplyScalar(a),c[e].add(b),c[t].add(b),c[r].add(b),d[e].add(w),d[t].add(w),d[r].add(w))}function U(e){j.fromArray(i,3*e),C.copy(j),x=c[e],A.copy(x),A.sub(j.multiplyScalar(j.dot(x))).normalize(),_.crossVectors(C,x),R=_.dot(d[e]),E=R<0?-1:1,u[4*e]=A.x,u[4*e+1]=A.y,u[4*e+2]=A.z,u[4*e+3]=E}},mergeBufferGeometries:function(e,t){for(var r=null!==e[0].index,n=new Set(Object.keys(e[0].attributes)),s=new Set(Object.keys(e[0].morphAttributes)),i={},o={},l=e[0].morphTargetsRelative,u=new a.BufferGeometry,c=0,d=0;d<e.length;++d){var h=e[d],f=0;if(r!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var p in h.attributes){if(!n.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;void 0===i[p]&&(i[p]=[]),i[p].push(h.attributes[p]),f++}if(f!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var p in h.morphAttributes){if(!s.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[p]&&(o[p]=[]),o[p].push(h.morphAttributes[p])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(h.userData),t){var m;if(r)m=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;m=h.attributes.position.count}u.addGroup(c,m,d),c+=m}}if(r){var g=0,v=[];for(d=0;d<e.length;++d){for(var y=e[d].index,b=0;b<y.count;++b)v.push(y.getX(b)+g);g+=e[d].attributes.position.count}u.setIndex(v)}for(var p in i){var w=this.mergeBufferAttributes(i[p]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" attribute."),null;u.setAttribute(p,w)}for(var p in o){var T=o[p][0].length;if(0===T)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[p]=[];for(d=0;d<T;++d){var M=[];for(b=0;b<o[p].length;++b)M.push(o[p][b][d]);var S=this.mergeBufferAttributes(M);if(!S)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+p+" morphAttribute."),null;u.morphAttributes[p].push(S)}}return u},mergeBufferAttributes:function(e){for(var t,r,n,s=0,i=0;i<e.length;++i){var o=e[i];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=o.itemSize),r!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===n&&(n=o.normalized),n!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;s+=o.array.length}var l=new t(s),u=0;for(i=0;i<e.length;++i)l.set(e[i].array,u),u+=e[i].array.length;return new a.BufferAttribute(l,r,n)},interleaveAttributes:function(e){for(var t,r=0,n=0,s=0,i=e.length;s<i;++s){var o=e[s];if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=o.array.length,n+=o.itemSize}var l=new a.InterleavedBuffer(new t(r),n),u=0,c=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],f=0;for(i=e.length;f<i;f++){var p=(o=e[f]).itemSize,m=o.count,g=new a.InterleavedBufferAttribute(l,p,u,o.normalized);c.push(g),u+=p;for(var v=0;v<m;v++)for(var y=0;y<p;y++)g[h[y]](v,o[d[y]](v))}return c},estimateBytesUsed:function(e){var t=0;for(var r in e.attributes){var a=e.getAttribute(r);t+=a.count*a.itemSize*a.array.BYTES_PER_ELEMENT}var n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var r={},n=e.getIndex(),s=e.getAttribute("position"),i=n?n.count:s.count,o=0,l=Object.keys(e.attributes),u={},c={},d=[],h=["getX","getY","getZ","getW"],f=0,p=l.length;f<p;f++){u[w=l[f]]=[],(L=e.morphAttributes[w])&&(c[w]=new Array(L.length).fill().map((function(){return[]})))}var m=Math.log10(1/t),g=Math.pow(10,m);for(f=0;f<i;f++){var v=n?n.getX(f):f,y="",b=0;for(p=l.length;b<p;b++)for(var w=l[b],T=(S=e.getAttribute(w)).itemSize,M=0;M<T;M++)y+="".concat(~~(S[h[M]](v)*g),",");if(y in r)d.push(r[y]);else{for(b=0,p=l.length;b<p;b++){w=l[b];var S=e.getAttribute(w),L=e.morphAttributes[w],E=(T=S.itemSize,u[w]),x=c[w];for(M=0;M<T;M++){var R=h[M];if(E.push(S[R](v)),L)for(var A=0,_=L.length;A<_;A++)x[A].push(L[A][R](v))}}r[y]=o,d.push(o),o++}}var j=e.clone();for(f=0,p=l.length;f<p;f++){w=l[f];var C=e.getAttribute(w),P=new C.array.constructor(u[w]);S=new a.BufferAttribute(P,C.itemSize,C.normalized);if(j.setAttribute(w,S),w in c)for(b=0;b<c[w].length;b++){var k=e.morphAttributes[w][b],I=(P=new k.array.constructor(c[w][b]),new a.BufferAttribute(P,k.itemSize,k.normalized));j.morphAttributes[w][b]=I}}return j.setIndex(d),j},toTrianglesDrawMode:function(e,t){if(t===a.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===a.TriangleFanDrawMode||t===a.TriangleStripDrawMode){var r=e.getIndex();if(null===r){var n=[],s=e.getAttribute("position");if(void 0===s)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var i=0;i<s.count;i++)n.push(i);e.setIndex(n),r=e.getIndex()}var o=r.count-2,l=[];if(t===a.TriangleFanDrawMode)for(i=1;i<=o;i++)l.push(r.getX(0)),l.push(r.getX(i)),l.push(r.getX(i+1));else for(i=0;i<o;i++)i%2==0?(l.push(r.getX(i)),l.push(r.getX(i+1)),l.push(r.getX(i+2))):(l.push(r.getX(i+2)),l.push(r.getX(i+1)),l.push(r.getX(i)));l.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/detector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});const a={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,r,a;t=void 0!==(e=e||{}).parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",(a=this.getWebGLErrorMessage()).id=r,t.appendChild(a)}}},"./src/js/utils/helpers.js":(e,t,r)=>{"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}r.r(t),r.d(t,{default:()=>n});var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"throttle",value:function(e,t,r){var a,n;return t||(t=250),function(){var s=r||this,i=+new Date,o=arguments;a&&i<a+t?(clearTimeout(n),n=setTimeout((function(){a=i,e.apply(s,o)}),t)):(a=i,e.apply(s,o))}}},{key:"logProgress",value:function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}},{key:"logError",value:function(){return function(e){console.error(e)}}},{key:"handleColorChange",value:function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}},{key:"update",value:function(e){this.needsUpdate(e.material,e.geometry)}},{key:"needsUpdate",value:function(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}},{key:"updateTexture",value:function(e,t,r){return function(a){e[t]=r[a],e.needsUpdate=!0}}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}()},"./src/js/utils/keyboard.js":(e,t,r)=>{"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}r.r(t),r.d(t,{default:()=>s});var n={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27},s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=t||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return r.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return r.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return r.onBlur}),!1)}var t,r,s;return t=e,(r=[{key:"destroy",value:function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)}},{key:"onBlur",value:function(){for(var e in this.keyCodes)this.keyCodes[e]=!1}},{key:"onKeyChange",value:function(e){var t=e.keyCode;this.keyCodes[t]="keydown"===e.type}},{key:"pressed",value:function(e){for(var t=e.split("+"),r=0;r<t.length;r++){var a=t[r],s=!1;if(s=-1!=Object.keys(n).indexOf(a)?this.keyCodes[n[a]]:this.keyCodes[a.toUpperCase().charCodeAt(0)],!s)return!1}return!0}},{key:"eventMatches",value:function(e,t){for(var r=n,a=Object.keys(r),s=t.split("+"),i=0;i<s.length;i++){var o=s[i],l=!1;if("shift"===o?l=!!e.shiftKey:"ctrl"===o?l=!!e.ctrlKey:"alt"===o?l=!!e.altKey:"meta"===o?l=!!e.metaKey:-1!==a.indexOf(o)?l=e.keyCode===r[o]:e.keyCode===o.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0}}])&&a(t.prototype,r),s&&a(t,s),e}()},"./src/css/app.scss":(e,t,r)=>{"use strict";r.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2xpZ2h0LmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvbWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9oZWxwZXJzL3N0YXRzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2xvYWRlcnMvR0xURkxvYWRlci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYWluLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21hbmFnZXJzL2ludGVyYWN0aW9uLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL21vZGVsLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21vZGVsL3RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9kYXRhL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9kZXRlY3Rvci5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9rZXlib2FyZC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiQ29uZmlnIiwiRGV0ZWN0b3IiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiTWFpbiIsImluaXQiLCJDYW1lcmEiLCJyZW5kZXJlciIsIndpZHRoIiwiZG9tRWxlbWVudCIsImhlaWdodCIsInRoaXMiLCJ0aHJlZUNhbWVyYSIsIlRIUkVFIiwicG9zaXRpb24iLCJzZXQiLCJ1cGRhdGVTaXplIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJMaWdodCIsInNjZW5lIiwiYW1iaWVudExpZ2h0IiwidmlzaWJsZSIsInBvaW50TGlnaHQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiY2FzdFNoYWRvdyIsInNoYWRvdyIsImJpYXMiLCJjYW1lcmEiLCJuZWFyIiwiZmFyIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwibWFwU2l6ZSIsImRpcmVjdGlvbmFsTGlnaHRIZWxwZXIiLCJoZW1pTGlnaHQiLCJsaWdodE5hbWUiLCJhZGQiLCJNYXRlcmlhbCIsImNvbG9yIiwiYmFzaWMiLCJzaWRlIiwic3RhbmRhcmQiLCJzaGFkaW5nIiwicm91Z2huZXNzIiwibWV0YWxuZXNzIiwid2lyZSIsIndpcmVmcmFtZSIsIlJlbmRlcmVyIiwidGhyZWVSZW5kZXJlciIsImFudGlhbGlhcyIsInNldENsZWFyQ29sb3IiLCJmb2ciLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsInR5cGUiLCJjYXBhYmlsaXRpZXMiLCJnZXRNYXhBbmlzb3Ryb3B5Iiwic2V0U2l6ZSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwicmVuZGVyIiwiclMiLCJiUyIsImdsUyIsInRTIiwiU3RhdHMiLCJzdGFydCIsInRpY2siLCJmcmFtZSIsImVuZCIsInVwZGF0ZSIsIkJyb3dzZXJTdGF0cyIsImdsU3RhdHMiLCJ0aHJlZVN0YXRzIiwiclN0YXRzIiwiQ1NTUGF0aCIsInVzZXJUaW1pbmdBUEkiLCJ2YWx1ZXMiLCJjYXB0aW9uIiwib3ZlciIsImF2ZXJhZ2UiLCJhdmdNcyIsImZwcyIsImJlbG93IiwiY2FsbHMiLCJyYWYiLCJyc3RhdHMiLCJ0ZXh0dXJlIiwiZ3JvdXBzIiwiZnJhY3Rpb25zIiwiYmFzZSIsInN0ZXBzIiwicGx1Z2lucyIsIkdMVEZMb2FkZXIiLCJtYW5hZ2VyIiwiTG9hZGVyIiwiZHJhY29Mb2FkZXIiLCJkZHNMb2FkZXIiLCJHTFRGUmVnaXN0cnkiLCJvYmplY3RzIiwiZ2V0Iiwia2V5Iiwib2JqZWN0IiwicmVtb3ZlIiwicmVtb3ZlQWxsIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiYXNzaWduIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJsb2FkIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJyZXNvdXJjZVBhdGgiLCJzY29wZSIsInBhdGgiLCJMb2FkZXJVdGlscyIsIml0ZW1TdGFydCIsIl9vbkVycm9yIiwiZSIsImVycm9yIiwiaXRlbUVycm9yIiwiaXRlbUVuZCIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwic2V0UmVzcG9uc2VUeXBlIiwiY3Jvc3NPcmlnaW4iLCJzZXRXaXRoQ3JlZGVudGlhbHMiLCJkYXRhIiwicGFyc2UiLCJnbHRmIiwic2V0RFJBQ09Mb2FkZXIiLCJzZXRERFNMb2FkZXIiLCJjb250ZW50IiwiZXh0ZW5zaW9ucyIsIlVpbnQ4QXJyYXkiLCJCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQyIsIkVYVEVOU0lPTlMiLCJLSFJfQklOQVJZX0dMVEYiLCJHTFRGQmluYXJ5RXh0ZW5zaW9uIiwianNvbiIsIkpTT04iLCJ1bmRlZmluZWQiLCJhc3NldCIsInZlcnNpb24iLCJFcnJvciIsImV4dGVuc2lvbnNVc2VkIiwiaSIsImxlbmd0aCIsImV4dGVuc2lvbk5hbWUiLCJleHRlbnNpb25zUmVxdWlyZWQiLCJLSFJfTElHSFRTX1BVTkNUVUFMIiwiR0xURkxpZ2h0c0V4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUIiwiR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfVU5MSVQiLCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24iLCJLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTIiwiR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbiIsIktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OIiwiR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uIiwiTVNGVF9URVhUVVJFX0REUyIsIkdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uIiwiS0hSX1RFWFRVUkVfVFJBTlNGT1JNIiwiR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24iLCJLSFJfTUVTSF9RVUFOVElaQVRJT04iLCJHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbiIsImluZGV4T2YiLCJ3YXJuIiwiR0xURlBhcnNlciIsIm5hbWUiLCJleHRlbnNpb24iLCJsaWdodERlZnMiLCJsaWdodHMiLCJsb2FkTGlnaHQiLCJsaWdodEluZGV4IiwibGlnaHROb2RlIiwibGlnaHREZWYiLCJDb2xvciIsImZyb21BcnJheSIsInJhbmdlIiwiRGlyZWN0aW9uYWxMaWdodCIsInRhcmdldCIsIlBvaW50TGlnaHQiLCJkaXN0YW5jZSIsIlNwb3RMaWdodCIsInNwb3QiLCJpbm5lckNvbmVBbmdsZSIsIm91dGVyQ29uZUFuZ2xlIiwiTWF0aCIsIlBJIiwiYW5nbGUiLCJwZW51bWJyYSIsImRlY2F5IiwiaW50ZW5zaXR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRNYXRlcmlhbFR5cGUiLCJNZXNoQmFzaWNNYXRlcmlhbCIsImV4dGVuZFBhcmFtcyIsIm1hdGVyaWFsUGFyYW1zIiwibWF0ZXJpYWxEZWYiLCJwYXJzZXIiLCJwZW5kaW5nIiwib3BhY2l0eSIsIm1ldGFsbGljUm91Z2huZXNzIiwicGJyTWV0YWxsaWNSb3VnaG5lc3MiLCJBcnJheSIsImlzQXJyYXkiLCJiYXNlQ29sb3JGYWN0b3IiLCJhcnJheSIsImJhc2VDb2xvclRleHR1cmUiLCJwdXNoIiwiYXNzaWduVGV4dHVyZSIsImFsbCIsIk1lc2hQaHlzaWNhbE1hdGVyaWFsIiwiY2xlYXJjb2F0RmFjdG9yIiwiY2xlYXJjb2F0IiwiY2xlYXJjb2F0VGV4dHVyZSIsImNsZWFyY29hdFJvdWdobmVzc0ZhY3RvciIsImNsZWFyY29hdFJvdWdobmVzcyIsImNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUiLCJjbGVhcmNvYXROb3JtYWxUZXh0dXJlIiwic2NhbGUiLCJjbGVhcmNvYXROb3JtYWxTY2FsZSIsIlZlY3RvcjIiLCJCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTIiwiYm9keSIsImhlYWRlclZpZXciLCJEYXRhVmlldyIsImhlYWRlciIsIm1hZ2ljIiwic2xpY2UiLCJnZXRVaW50MzIiLCJjaHVua1ZpZXciLCJjaHVua0luZGV4IiwiYnl0ZUxlbmd0aCIsImNodW5rTGVuZ3RoIiwiY2h1bmtUeXBlIiwiY29udGVudEFycmF5IiwiYnl0ZU9mZnNldCIsInByZWxvYWQiLCJHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCIsInBhcmFtcyIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwiLCJzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rIiwiam9pbiIsImdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVuayIsInNwZWN1bGFyTWFwRnJhZ21lbnRDaHVuayIsImdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rIiwibGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmsiLCJ1bmlmb3JtcyIsInNwZWN1bGFyIiwidmFsdWUiLCJzZXRIZXgiLCJnbG9zc2luZXNzIiwic3BlY3VsYXJNYXAiLCJnbG9zc2luZXNzTWFwIiwiX2V4dHJhVW5pZm9ybXMiLCJvbkJlZm9yZUNvbXBpbGUiLCJzaGFkZXIiLCJ1bmlmb3JtTmFtZSIsImZyYWdtZW50U2hhZGVyIiwicmVwbGFjZSIsImRlZmluZVByb3BlcnRpZXMiLCJ2IiwiZGVmaW5lcyIsIlVTRV9HTE9TU0lORVNTTUFQIiwiVVNFX1JPVUdITkVTU01BUCIsIm1ldGFsbmVzc01hcCIsInJvdWdobmVzc01hcCIsInNldFZhbHVlcyIsInNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtcyIsInBiclNwZWN1bGFyR2xvc3NpbmVzcyIsImRpZmZ1c2VGYWN0b3IiLCJkaWZmdXNlVGV4dHVyZSIsImVtaXNzaXZlIiwiZ2xvc3NpbmVzc0ZhY3RvciIsInNwZWN1bGFyRmFjdG9yIiwic3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZSIsInNwZWNHbG9zc01hcERlZiIsImNyZWF0ZU1hdGVyaWFsIiwibWF0ZXJpYWwiLCJtYXAiLCJsaWdodE1hcCIsImxpZ2h0TWFwSW50ZW5zaXR5IiwiYW9NYXAiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZW1pc3NpdmVNYXAiLCJidW1wTWFwIiwiYnVtcFNjYWxlIiwibm9ybWFsTWFwIiwibm9ybWFsTWFwVHlwZSIsIlRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsIm5vcm1hbFNjYWxlIiwiZGlzcGxhY2VtZW50TWFwIiwiZGlzcGxhY2VtZW50U2NhbGUiLCJkaXNwbGFjZW1lbnRCaWFzIiwiYWxwaGFNYXAiLCJlbnZNYXAiLCJlbnZNYXBJbnRlbnNpdHkiLCJyZWZyYWN0aW9uUmF0aW8iLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsInBhcmFtZXRlclBvc2l0aW9ucyIsInNhbXBsZVZhbHVlcyIsInNhbXBsZVNpemUiLCJyZXN1bHRCdWZmZXIiLCJJbnRlcnBvbGFudCIsImRlY29kZVByaW1pdGl2ZSIsInByaW1pdGl2ZSIsImJ1ZmZlclZpZXdJbmRleCIsImJ1ZmZlclZpZXciLCJnbHRmQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlcyIsInRocmVlQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlTm9ybWFsaXplZE1hcCIsImF0dHJpYnV0ZVR5cGVNYXAiLCJhdHRyaWJ1dGVOYW1lIiwidGhyZWVBdHRyaWJ1dGVOYW1lIiwiQVRUUklCVVRFUyIsInRvTG93ZXJDYXNlIiwiYWNjZXNzb3JEZWYiLCJhY2Nlc3NvcnMiLCJjb21wb25lbnRUeXBlIiwiV0VCR0xfQ09NUE9ORU5UX1RZUEVTIiwibm9ybWFsaXplZCIsImdldERlcGVuZGVuY3kiLCJ0aGVuIiwiZGVjb2RlRHJhY29GaWxlIiwiZ2VvbWV0cnkiLCJhdHRyaWJ1dGUiLCJleHRlbmRUZXh0dXJlIiwidHJhbnNmb3JtIiwiY2xvbmUiLCJvZmZzZXQiLCJyb3RhdGlvbiIsInJlcGVhdCIsInRleENvb3JkIiwibmVlZHNVcGRhdGUiLCJjb3B5Iiwic291cmNlIiwiY29weVNhbXBsZVZhbHVlXyIsImluZGV4IiwicmVzdWx0IiwidmFsdWVTaXplIiwiYmVmb3JlU3RhcnRfIiwiYWZ0ZXJFbmRfIiwiaW50ZXJwb2xhdGVfIiwiaTEiLCJ0MCIsInQiLCJ0MSIsInN0cmlkZSIsInN0cmlkZTIiLCJzdHJpZGUzIiwidGQiLCJwIiwicHAiLCJwcHAiLCJvZmZzZXQxIiwib2Zmc2V0MCIsInMyIiwiczMiLCJzMCIsInMxIiwicDAiLCJtMCIsInAxIiwibTEiLCJXRUJHTF9DT05TVEFOVFMiLCI1MTIwIiwiSW50OEFycmF5IiwiNTEyMSIsIjUxMjIiLCJJbnQxNkFycmF5IiwiNTEyMyIsIlVpbnQxNkFycmF5IiwiNTEyNSIsIlVpbnQzMkFycmF5IiwiNTEyNiIsIkZsb2F0MzJBcnJheSIsIldFQkdMX0ZJTFRFUlMiLCI5NzI4IiwiTmVhcmVzdEZpbHRlciIsIjk3MjkiLCJMaW5lYXJGaWx0ZXIiLCI5OTg0IiwiTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIiLCI5OTg1IiwiTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciIsIjk5ODYiLCJOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyIiwiOTk4NyIsIkxpbmVhck1pcG1hcExpbmVhckZpbHRlciIsIldFQkdMX1dSQVBQSU5HUyIsIjMzMDcxIiwiQ2xhbXBUb0VkZ2VXcmFwcGluZyIsIjMzNjQ4IiwiTWlycm9yZWRSZXBlYXRXcmFwcGluZyIsIjEwNDk3IiwiUmVwZWF0V3JhcHBpbmciLCJXRUJHTF9UWVBFX1NJWkVTIiwiU0NBTEFSIiwiVkVDMiIsIlZFQzMiLCJWRUM0IiwiTUFUMiIsIk1BVDMiLCJNQVQ0IiwiUE9TSVRJT04iLCJOT1JNQUwiLCJUQU5HRU5UIiwiVEVYQ09PUkRfMCIsIlRFWENPT1JEXzEiLCJDT0xPUl8wIiwiV0VJR0hUU18wIiwiSk9JTlRTXzAiLCJQQVRIX1BST1BFUlRJRVMiLCJ0cmFuc2xhdGlvbiIsIndlaWdodHMiLCJJTlRFUlBPTEFUSU9OIiwiQ1VCSUNTUExJTkUiLCJMSU5FQVIiLCJJbnRlcnBvbGF0ZUxpbmVhciIsIlNURVAiLCJJbnRlcnBvbGF0ZURpc2NyZXRlIiwiQUxQSEFfTU9ERVMiLCJNSU1FX1RZUEVfRk9STUFUUyIsIlJHQkFGb3JtYXQiLCJSR0JGb3JtYXQiLCJyZXNvbHZlVVJMIiwidGVzdCIsImFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YSIsImtub3duRXh0ZW5zaW9ucyIsIm9iamVjdERlZiIsInVzZXJEYXRhIiwiZ2x0ZkV4dGVuc2lvbnMiLCJhc3NpZ25FeHRyYXNUb1VzZXJEYXRhIiwiZ2x0ZkRlZiIsImV4dHJhcyIsInVwZGF0ZU1vcnBoVGFyZ2V0cyIsIm1lc2giLCJtZXNoRGVmIiwiaWwiLCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLCJ0YXJnZXROYW1lcyIsIm1vcnBoVGFyZ2V0RGljdGlvbmFyeSIsImNyZWF0ZUF0dHJpYnV0ZXNLZXkiLCJhdHRyaWJ1dGVzS2V5Iiwia2V5cyIsInNvcnQiLCJvcHRpb25zIiwiY2FjaGUiLCJwcmltaXRpdmVDYWNoZSIsInRleHR1cmVMb2FkZXIiLCJUZXh0dXJlTG9hZGVyIiwic2V0Q3Jvc3NPcmlnaW4iLCJmaWxlTG9hZGVyIiwiYWRkUHJpbWl0aXZlQXR0cmlidXRlcyIsInByaW1pdGl2ZURlZiIsImFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yIiwiYWNjZXNzb3JJbmRleCIsImFjY2Vzc29yIiwic2V0QXR0cmlidXRlIiwiZ2x0ZkF0dHJpYnV0ZU5hbWUiLCJpbmRpY2VzIiwic2V0SW5kZXgiLCJib3giLCJCb3gzIiwibWluIiwibWF4IiwiVmVjdG9yMyIsInRhcmdldHMiLCJtYXhEaXNwbGFjZW1lbnQiLCJ2ZWN0b3IiLCJzZXRYIiwiYWJzIiwic2V0WSIsInNldFoiLCJleHBhbmRCeVZlY3RvciIsImJvdW5kaW5nQm94Iiwic3BoZXJlIiwiU3BoZXJlIiwiZ2V0Q2VudGVyIiwiY2VudGVyIiwicmFkaXVzIiwiZGlzdGFuY2VUbyIsImJvdW5kaW5nU3BoZXJlIiwiY29tcHV0ZUJvdW5kcyIsImhhc01vcnBoUG9zaXRpb24iLCJoYXNNb3JwaE5vcm1hbCIsInBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyIsInBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMiLCJwZW5kaW5nQWNjZXNzb3IiLCJub3JtYWwiLCJtb3JwaFBvc2l0aW9ucyIsIm1vcnBoTm9ybWFscyIsIm1vcnBoQXR0cmlidXRlcyIsIm1vcnBoVGFyZ2V0c1JlbGF0aXZlIiwiYWRkTW9ycGhUYXJnZXRzIiwidG9UcmlhbmdsZXNEcmF3TW9kZSIsImRyYXdNb2RlIiwiZ2V0SW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJjb3VudCIsIm51bWJlck9mVHJpYW5nbGVzIiwibmV3SW5kaWNlcyIsIlRyaWFuZ2xlRmFuRHJhd01vZGUiLCJnZXRYIiwibmV3R2VvbWV0cnkiLCJtYXJrRGVmcyIsImdldERlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsInNjZW5lcyIsImFuaW1hdGlvbnMiLCJjYW1lcmFzIiwibm9kZURlZnMiLCJub2RlcyIsInNraW5EZWZzIiwic2tpbnMiLCJtZXNoRGVmcyIsIm1lc2hlcyIsIm1lc2hSZWZlcmVuY2VzIiwibWVzaFVzZXMiLCJza2luSW5kZXgiLCJza2luTGVuZ3RoIiwiam9pbnRzIiwiaXNCb25lIiwibm9kZUluZGV4Iiwibm9kZUxlbmd0aCIsIm5vZGVEZWYiLCJza2luIiwiaXNTa2lubmVkTWVzaCIsImNhY2hlS2V5IiwiZGVwZW5kZW5jeSIsImxvYWRTY2VuZSIsImxvYWROb2RlIiwibG9hZE1lc2giLCJsb2FkQWNjZXNzb3IiLCJsb2FkQnVmZmVyVmlldyIsImxvYWRCdWZmZXIiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkVGV4dHVyZSIsImxvYWRTa2luIiwibG9hZEFuaW1hdGlvbiIsImxvYWRDYW1lcmEiLCJkZWZzIiwiZGVmIiwiYnVmZmVySW5kZXgiLCJidWZmZXJEZWYiLCJidWZmZXJzIiwidXJpIiwicmVqZWN0IiwiYnVmZmVyVmlld0RlZiIsImJ1ZmZlclZpZXdzIiwiYnVmZmVyIiwic3BhcnNlIiwicGVuZGluZ0J1ZmZlclZpZXdzIiwiYnVmZmVyQXR0cmlidXRlIiwiaXRlbVNpemUiLCJUeXBlZEFycmF5IiwiZWxlbWVudEJ5dGVzIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpdGVtQnl0ZXMiLCJieXRlU3RyaWRlIiwiaWJTbGljZSIsImZsb29yIiwiaWJDYWNoZUtleSIsImliIiwiSW50ZXJsZWF2ZWRCdWZmZXIiLCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsIml0ZW1TaXplSW5kaWNlcyIsIlR5cGVkQXJyYXlJbmRpY2VzIiwiYnl0ZU9mZnNldEluZGljZXMiLCJieXRlT2Zmc2V0VmFsdWVzIiwic3BhcnNlSW5kaWNlcyIsInNwYXJzZVZhbHVlcyIsInNldFciLCJ0ZXh0dXJlSW5kZXgiLCJVUkwiLCJzZWxmIiwid2Via2l0VVJMIiwidGV4dHVyZURlZiIsInRleHR1cmVzIiwidGV4dHVyZUV4dGVuc2lvbnMiLCJzb3VyY2VVUkkiLCJpbWFnZXMiLCJpc09iamVjdFVSTCIsImJsb2IiLCJCbG9iIiwibWltZVR5cGUiLCJjcmVhdGVPYmplY3RVUkwiLCJnZXRIYW5kbGVyIiwicmV2b2tlT2JqZWN0VVJMIiwiZmxpcFkiLCJmb3JtYXQiLCJzYW1wbGVyIiwic2FtcGxlcnMiLCJtYWdGaWx0ZXIiLCJtaW5GaWx0ZXIiLCJ3cmFwUyIsIndyYXBUIiwibWFwTmFtZSIsIm1hcERlZiIsImlzQ29tcHJlc3NlZFRleHR1cmUiLCJhc3NpZ25GaW5hbE1hdGVyaWFsIiwidXNlVmVydGV4VGFuZ2VudHMiLCJ0YW5nZW50IiwidXNlVmVydGV4Q29sb3JzIiwidXNlRmxhdFNoYWRpbmciLCJ1c2VTa2lubmluZyIsInVzZU1vcnBoVGFyZ2V0cyIsInVzZU1vcnBoTm9ybWFscyIsImlzUG9pbnRzIiwidXVpZCIsInBvaW50c01hdGVyaWFsIiwiUG9pbnRzTWF0ZXJpYWwiLCJzaXplQXR0ZW51YXRpb24iLCJpc0xpbmUiLCJsaW5lTWF0ZXJpYWwiLCJMaW5lQmFzaWNNYXRlcmlhbCIsImNhY2hlZE1hdGVyaWFsIiwic2tpbm5pbmciLCJ2ZXJ0ZXhUYW5nZW50cyIsInZlcnRleENvbG9ycyIsImZsYXRTaGFkaW5nIiwibW9ycGhUYXJnZXRzIiwidXYyIiwidXYiLCJ5IiwibWF0ZXJpYWxJbmRleCIsIm1hdGVyaWFsVHlwZSIsIm1hdGVyaWFscyIsIm1hdGVyaWFsRXh0ZW5zaW9ucyIsInNnRXh0ZW5zaW9uIiwia211RXh0ZW5zaW9uIiwibWV0YWxsaWNGYWN0b3IiLCJyb3VnaG5lc3NGYWN0b3IiLCJtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUiLCJkb3VibGVTaWRlZCIsIkRvdWJsZVNpZGUiLCJhbHBoYU1vZGUiLCJ0cmFuc3BhcmVudCIsImRlcHRoV3JpdGUiLCJhbHBoYVRlc3QiLCJhbHBoYUN1dG9mZiIsIm5vcm1hbFRleHR1cmUiLCJvY2NsdXNpb25UZXh0dXJlIiwic3RyZW5ndGgiLCJlbWlzc2l2ZUZhY3RvciIsImVtaXNzaXZlVGV4dHVyZSIsImNsZWFyY29hdEV4dGVuc2lvbiIsImVuY29kaW5nIiwic1JHQkVuY29kaW5nIiwibG9hZEdlb21ldHJpZXMiLCJwcmltaXRpdmVzIiwiY3JlYXRlRHJhY29QcmltaXRpdmUiLCJkcmFjb0V4dGVuc2lvbiIsImdlb21ldHJ5UHJvbWlzZSIsIm1vZGUiLCJjYWNoZWQiLCJwcm9taXNlIiwiQnVmZmVyR2VvbWV0cnkiLCJtZXNoSW5kZXgiLCJkZXB0aFRlc3QiLCJGcm9udFNpZGUiLCJyZXN1bHRzIiwiZ2VvbWV0cmllcyIsIlNraW5uZWRNZXNoIiwiTWVzaCIsInNraW5XZWlnaHQiLCJub3JtYWxpemVTa2luV2VpZ2h0cyIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsIkxpbmVTZWdtZW50cyIsIkxpbmUiLCJMaW5lTG9vcCIsIlBvaW50cyIsImdyb3VwIiwiR3JvdXAiLCJjYW1lcmFJbmRleCIsImNhbWVyYURlZiIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwiTWF0aFV0aWxzIiwieWZvdiIsImFzcGVjdFJhdGlvIiwiem5lYXIiLCJ6ZmFyIiwiT3J0aG9ncmFwaGljQ2FtZXJhIiwieG1hZyIsInltYWciLCJza2luRGVmIiwic2tpbkVudHJ5IiwiaW52ZXJzZUJpbmRNYXRyaWNlcyIsImFuaW1hdGlvbkluZGV4IiwiYW5pbWF0aW9uRGVmIiwicGVuZGluZ05vZGVzIiwicGVuZGluZ0lucHV0QWNjZXNzb3JzIiwicGVuZGluZ091dHB1dEFjY2Vzc29ycyIsInBlbmRpbmdTYW1wbGVycyIsInBlbmRpbmdUYXJnZXRzIiwiY2hhbm5lbHMiLCJjaGFubmVsIiwibm9kZSIsImlkIiwiaW5wdXQiLCJwYXJhbWV0ZXJzIiwib3V0cHV0IiwiaW5wdXRBY2Nlc3NvcnMiLCJvdXRwdXRBY2Nlc3NvcnMiLCJ0cmFja3MiLCJpbnB1dEFjY2Vzc29yIiwib3V0cHV0QWNjZXNzb3IiLCJUeXBlZEtleWZyYW1lVHJhY2siLCJ1cGRhdGVNYXRyaXgiLCJtYXRyaXhBdXRvVXBkYXRlIiwiTnVtYmVyS2V5ZnJhbWVUcmFjayIsIlF1YXRlcm5pb25LZXlmcmFtZVRyYWNrIiwiVmVjdG9yS2V5ZnJhbWVUcmFjayIsInRhcmdldE5hbWUiLCJpbnRlcnBvbGF0aW9uIiwidHJhdmVyc2UiLCJpc01lc2giLCJvdXRwdXRBcnJheSIsInNjYWxlZCIsImoiLCJqbCIsInRyYWNrIiwiY3JlYXRlSW50ZXJwb2xhbnQiLCJ0aW1lcyIsImdldFZhbHVlU2l6ZSIsImlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lIiwiQW5pbWF0aW9uQ2xpcCIsImluc3RhbmNlTnVtIiwibyIsImxpZ2h0IiwiQm9uZSIsIk9iamVjdDNEIiwiUHJvcGVydHlCaW5kaW5nIiwibWF0cml4IiwiTWF0cml4NCIsImFwcGx5TWF0cml4NCIsInF1YXRlcm5pb24iLCJidWlsZE5vZGVIaWVyYWNoeSIsIm5vZGVJZCIsInBhcmVudE9iamVjdCIsInBlbmRpbmdKb2ludHMiLCJqb2ludE5vZGVzIiwiYm9uZXMiLCJib25lSW52ZXJzZXMiLCJqb2ludE5vZGUiLCJtYXQiLCJiaW5kIiwiU2tlbGV0b24iLCJtYXRyaXhXb3JsZCIsImNoaWxkcmVuIiwiY2hpbGQiLCJzY2VuZUluZGV4Iiwic2NlbmVEZWYiLCJub2RlSWRzIiwiY2xvY2siLCJmb3JFYWNoIiwicGxhY2UiLCJzdGF0cyIsInNldFVwIiwiVGV4dHVyZSIsInBsYXllck1vZGVsIiwiTW9kZWwiLCJpdGVtIiwibG9hZGVkIiwidG90YWwiLCJJbnRlcmFjdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJUV0VFTiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRpbWVvdXQiLCJrZXlib2FyZCIsIktleWJvYXJkIiwiZXZlbnQiLCJIZWxwZXJzIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlT3ZlciIsImV2ZW50TWF0Y2hlcyIsInByZXZlbnREZWZhdWx0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9iaiIsInJlZiIsIm1vZGVsRGF0YSIsImlzTGlnaHQiLCJtdWx0aXBseVNjYWxhciIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsIm1heEFuaXNvdHJvcHkiLCJpbWFnZUZpbGVzIiwicHJvbWlzZUFycmF5IiwiaW1hZ2VGaWxlIiwiaW1hZ2UiLCJhbmlzb3Ryb3B5IiwibW9kZWxPQkoiLCJ4aHIiLCJyZWFzb24iLCJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiaXNSb3RhdGluZyIsImlzTW91c2VNb3ZpbmciLCJpc01vdXNlT3ZlciIsImRwciIsImVhc2luZyIsImR1cmF0aW9uIiwibW9kZWxzIiwicGxheWVyIiwiZW5hYmxlSGVscGVyIiwidHJhbnNsdWNlbnQiLCJmb3YiLCJwb3NYIiwicG9zWSIsInBvc1oiLCJjb250cm9scyIsImF1dG9Sb3RhdGUiLCJhdXRvUm90YXRlU3BlZWQiLCJyb3RhdGVTcGVlZCIsInpvb21TcGVlZCIsIm1pbkRpc3RhbmNlIiwibWF4RGlzdGFuY2UiLCJtaW5Qb2xhckFuZ2xlIiwibWF4UG9sYXJBbmdsZSIsIm1pbkF6aW11dGhBbmdsZSIsIkluZmluaXR5IiwibWF4QXppbXV0aEFuZ2xlIiwiZW5hYmxlRGFtcGluZyIsImRhbXBpbmdGYWN0b3IiLCJlbmFibGVab29tIiwieCIsInoiLCJoZWxwZXJFbmFibGVkIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJncm91bmRDb2xvciIsImNvbXB1dGVUYW5nZW50cyIsInBvc2l0aW9ucyIsIm5vcm1hbHMiLCJ1dnMiLCJuVmVydGljZXMiLCJ0YW5nZW50cyIsInRhbjEiLCJ0YW4yIiwidkEiLCJ2QiIsInZDIiwidXZBIiwidXZCIiwidXZDIiwic2RpciIsInRkaXIiLCJoYW5kbGVUcmlhbmdsZSIsInciLCJ0bXAiLCJ0bXAyIiwibiIsIm4yIiwiaGFuZGxlVmVydGV4IiwiYSIsImIiLCJjIiwic3ViIiwiciIsImlzRmluaXRlIiwiYWRkU2NhbGVkVmVjdG9yIiwiZG90Iiwibm9ybWFsaXplIiwiY3Jvc3NWZWN0b3JzIiwibWVyZ2VCdWZmZXJHZW9tZXRyaWVzIiwidXNlR3JvdXBzIiwiaXNJbmRleGVkIiwiYXR0cmlidXRlc1VzZWQiLCJTZXQiLCJtb3JwaEF0dHJpYnV0ZXNVc2VkIiwibWVyZ2VkR2VvbWV0cnkiLCJhdHRyaWJ1dGVzQ291bnQiLCJoYXMiLCJzaXplIiwibWVyZ2VkVXNlckRhdGEiLCJhZGRHcm91cCIsImluZGV4T2Zmc2V0IiwibWVyZ2VkSW5kZXgiLCJtZXJnZWRBdHRyaWJ1dGUiLCJtZXJnZUJ1ZmZlckF0dHJpYnV0ZXMiLCJudW1Nb3JwaFRhcmdldHMiLCJtb3JwaEF0dHJpYnV0ZXNUb01lcmdlIiwibWVyZ2VkTW9ycGhBdHRyaWJ1dGUiLCJhcnJheUxlbmd0aCIsImlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsImwiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsInJlcyIsImdldHRlcnMiLCJzZXR0ZXJzIiwiaWJhIiwiayIsImVzdGltYXRlQnl0ZXNVc2VkIiwibWVtIiwiYXR0ciIsIm1lcmdlVmVydGljZXMiLCJ0b2xlcmFuY2UiLCJOdW1iZXIiLCJFUFNJTE9OIiwiaGFzaFRvSW5kZXgiLCJ2ZXJ0ZXhDb3VudCIsIm5leHRJbmRleCIsImF0dHJpYnV0ZU5hbWVzIiwiYXR0ckFycmF5cyIsIm1vcnBoQXR0cnNBcnJheXMiLCJtb3JwaEF0dHIiLCJmaWxsIiwiZGVjaW1hbFNoaWZ0IiwibG9nMTAiLCJzaGlmdE11bHRpcGxpZXIiLCJwb3ciLCJoYXNoIiwibmV3YXJyYXkiLCJuZXdNb3JwaEFycmF5cyIsImdldHRlckZ1bmMiLCJtIiwibWwiLCJvbGRBdHRyaWJ1dGUiLCJvbGRNb3JwaEF0dHJpYnV0ZSIsIm1vcnBoQXR0cmlidXRlIiwiVHJpYW5nbGVzRHJhd01vZGUiLCJjbGVhckdyb3VwcyIsImNhbnZhcyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIndlYmdsIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImVsZW1lbnQiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJhZGRHZXRXZWJHTE1lc3NhZ2UiLCJwYXJlbnQiLCJmbiIsInRocmVzaGhvbGQiLCJsYXN0IiwiZGVmZXJUaW1lciIsImNvbnRleHQiLCJub3ciLCJEYXRlIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnRDb21wbGV0ZSIsInJvdW5kIiwidmVydGljZXNOZWVkVXBkYXRlIiwibm9ybWFsc05lZWRVcGRhdGUiLCJjb2xvcnNOZWVkVXBkYXRlIiwibWF0ZXJpYWxLZXkiLCJBTElBUyIsImtleUNvZGVzIiwib25LZXlDaGFuZ2UiLCJvbkJsdXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvcCIsImtleUNvZGUiLCJrZXlEZXNjIiwic3BsaXQiLCJwcmVzc2VkIiwidG9VcHBlckNhc2UiLCJjaGFyQ29kZUF0IiwiYWxpYXNlcyIsImFsaWFzS2V5cyIsInNoaWZ0S2V5IiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiXSwibWFwcGluZ3MiOiI7aVNBU0VBLFFBQVFDLElBQUksMkNBRVpDLGlCQUFlLEVBR2pCLFdBRUUsR0FBSUMsZ0JBRUcsQ0FDTCxJQUFNQyxFQUFZ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RUFBTWlXLEVBQUtoVCxHQUNieTBCLEdBQVUsRUFNZCxHQUpFQSxHQURxQyxHQUFwQ3IzQixPQUFPNFYsS0FBS2doQixHQUFPNXlCLFFBQVFyRSxHQUNsQmxHLEtBQUtvOUIsU0FBU0QsRUFBTWozQixJQUVwQmxHLEtBQUtvOUIsU0FBU2wzQixFQUFJMjNCLGNBQWNDLFdBQVcsS0FFbkRGLEVBQ0YsT0FBTyxFQUdYLE9BQU8sSSwwQkFHVCxTQUFhOU0sRUFBTzRNLEdBTWxCLElBTEEsSUFBTUssRUFBVVosRUFDVmEsRUFBWXozQixPQUFPNFYsS0FBSzRoQixHQUN4QjVoQixFQUFPdWhCLEVBQVFDLE1BQU0sS0FHbkJ4MEIsRUFBSSxFQUFHQSxFQUFJZ1QsRUFBSy9TLE9BQVFELElBQUssQ0FDbkMsSUFBTWpELEVBQU1pVyxFQUFLaFQsR0FDYnkwQixHQUFVLEVBY2QsR0FiVyxVQUFSMTNCLEVBQ0QwM0IsSUFBVTlNLEVBQU1tTixTQUNBLFNBQVIvM0IsRUFDUjAzQixJQUFVOU0sRUFBTW9OLFFBQ0EsUUFBUmg0QixFQUNSMDNCLElBQVU5TSxFQUFNcU4sT0FDQSxTQUFSajRCLEVBQ1IwM0IsSUFBVTlNLEVBQU1zTixTQUNvQixJQUE1QkosRUFBVXp6QixRQUFRckUsR0FDMUIwM0IsRUFBVTlNLEVBQU0yTSxVQUFZTSxFQUFRNzNCLEdBQzVCNHFCLEVBQU0yTSxVQUFZdjNCLEVBQUkyM0IsY0FBY0MsV0FBVyxLQUN2REYsR0FBVSxJQUVSQSxFQUNGLE9BQU8sRUFHWCxPQUFPLE8iLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnIGZyb20gJy4vZGF0YS9jb25maWcnO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vdXRpbHMvZGV0ZWN0b3InO1xuaW1wb3J0IE1haW4gZnJvbSAnLi9hcHAvbWFpbic7XG5cbi8vIFN0eWxlc1xuaW1wb3J0ICcuLy4uL2Nzcy9hcHAuc2Nzcyc7XG5cbi8vIENoZWNrIGVudmlyb25tZW50IGFuZCBzZXQgdGhlIENvbmZpZyBoZWxwZXJcbmlmKF9fRU5WX18gPT09ICdkZXYnKSB7XG4gIGNvbnNvbGUubG9nKCctLS0tLSBSVU5OSU5HIElOIERFViBFTlZJUk9OTUVOVCEgLS0tLS0nKTtcblxuICBDb25maWcuaXNEZXYgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAvLyBDaGVjayBmb3Igd2ViR0wgY2FwYWJpbGl0aWVzXG4gIGlmKCFEZXRlY3Rvci53ZWJnbCkge1xuICAgIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHBDb250YWluZXInKTtcbiAgICBuZXcgTWFpbihjb250YWluZXIpO1xuICB9XG59XG5cbmluaXQoKTtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIENsYXNzIHRoYXQgY3JlYXRlcyBhbmQgdXBkYXRlcyB0aGUgbWFpbiBjYW1lcmFcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgY29uc3Qgd2lkdGggPSByZW5kZXJlci5kb21FbGVtZW50LndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBwb3NpdGlvbiBhIFBlcnNwZWN0aXZlIENhbWVyYVxuICAgIHRoaXMudGhyZWVDYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoQ29uZmlnLmNhbWVyYS5mb3YsIHdpZHRoIC8gaGVpZ2h0LCBDb25maWcuY2FtZXJhLm5lYXIsIENvbmZpZy5jYW1lcmEuZmFyKTtcbiAgICB0aGlzLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnNldChDb25maWcuY2FtZXJhLnBvc1gsIENvbmZpZy5jYW1lcmEucG9zWSwgQ29uZmlnLmNhbWVyYS5wb3NaKTtcblxuICAgIC8vIEluaXRpYWwgc2l6aW5nXG4gICAgdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKTtcbiAgICBcbiAgICAvLyBMaXN0ZW5lcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKSwgZmFsc2UpO1xuICB9XG5cbiAgdXBkYXRlU2l6ZShyZW5kZXJlcikge1xuICAgIC8vIFVwZGF0ZSBjYW1lcmEgYXNwZWN0IHJhdGlvIHdpdGggd2luZG93IGFzcGVjdCByYXRpb1xuICAgIHRoaXMudGhyZWVDYW1lcmEuYXNwZWN0ID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgLy8gQWx3YXlzIGNhbGwgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCBvbiBjYW1lcmEgY2hhbmdlXG4gICAgdGhpcy50aHJlZUNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIFNldHMgdXAgYW5kIHBsYWNlcyBhbGwgbGlnaHRzIGluIHNjZW5lXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodCB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuXG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIC8vIEFtYmllbnRcbiAgICB0aGlzLmFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoQ29uZmlnLmFtYmllbnRMaWdodC5jb2xvcik7XG4gICAgdGhpcy5hbWJpZW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5hbWJpZW50TGlnaHQuZW5hYmxlZDtcblxuICAgIC8vIFBvaW50IGxpZ2h0XG4gICAgdGhpcy5wb2ludExpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoQ29uZmlnLnBvaW50TGlnaHQuY29sb3IsIENvbmZpZy5wb2ludExpZ2h0LmludGVuc2l0eSwgQ29uZmlnLnBvaW50TGlnaHQuZGlzdGFuY2UpO1xuICAgIHRoaXMucG9pbnRMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLnBvaW50TGlnaHQueCwgQ29uZmlnLnBvaW50TGlnaHQueSwgQ29uZmlnLnBvaW50TGlnaHQueik7XG4gICAgdGhpcy5wb2ludExpZ2h0LnZpc2libGUgPSBDb25maWcucG9pbnRMaWdodC5lbmFibGVkO1xuXG4gICAgLy8gRGlyZWN0aW9uYWwgbGlnaHRcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQgPSBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodChDb25maWcuZGlyZWN0aW9uYWxMaWdodC5jb2xvciwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuaW50ZW5zaXR5KTtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQucG9zaXRpb24uc2V0KENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LngsIENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LnksIENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LnopO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC52aXNpYmxlID0gQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQuZW5hYmxlZDtcblxuICAgIC8vIFNoYWRvdyBtYXBcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuY2FzdFNoYWRvdyA9IENvbmZpZy5zaGFkb3cuZW5hYmxlZDtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmJpYXMgPSBDb25maWcuc2hhZG93LmJpYXM7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEubmVhciA9IENvbmZpZy5zaGFkb3cubmVhcjtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5mYXIgPSBDb25maWcuc2hhZG93LmZhcjtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5sZWZ0ID0gQ29uZmlnLnNoYWRvdy5sZWZ0O1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnJpZ2h0ID0gQ29uZmlnLnNoYWRvdy5yaWdodDtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS50b3AgPSBDb25maWcuc2hhZG93LnRvcDtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSBDb25maWcuc2hhZG93LmJvdHRvbTtcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSBDb25maWcuc2hhZG93Lm1hcFdpZHRoO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS5oZWlnaHQgPSBDb25maWcuc2hhZG93Lm1hcEhlaWdodDtcblxuICAgIC8vIFNoYWRvdyBjYW1lcmEgaGVscGVyXG4gICAgaWYoQ29uZmlnLmlzRGV2KSB7XG4gICAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHRIZWxwZXIgPSBuZXcgVEhSRUUuQ2FtZXJhSGVscGVyKHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhKTtcbiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlci52aXNpYmxlID0gQ29uZmlnLnNoYWRvdy5oZWxwZXJFbmFibGVkO1xuICAgIH1cbiAgICAvLyBIZW1pc3BoZXJlIGxpZ2h0XG4gICAgdGhpcy5oZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KENvbmZpZy5oZW1pTGlnaHQuY29sb3IsIENvbmZpZy5oZW1pTGlnaHQuZ3JvdW5kQ29sb3IsIENvbmZpZy5oZW1pTGlnaHQuaW50ZW5zaXR5KTtcbiAgICB0aGlzLmhlbWlMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLmhlbWlMaWdodC54LCBDb25maWcuaGVtaUxpZ2h0LnksIENvbmZpZy5oZW1pTGlnaHQueik7XG4gICAgdGhpcy5oZW1pTGlnaHQudmlzaWJsZSA9IENvbmZpZy5oZW1pTGlnaHQuZW5hYmxlZDtcbiAgfVxuXG4gIHBsYWNlKGxpZ2h0TmFtZSkge1xuICAgIHN3aXRjaChsaWdodE5hbWUpIHtcbiAgICAgIGNhc2UgJ2FtYmllbnQnOlxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmFtYmllbnRMaWdodCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuZGlyZWN0aW9uYWxMaWdodCk7XG4gICAgICAgIGlmKENvbmZpZy5pc0Rldikge1xuICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BvaW50JzpcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5wb2ludExpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2hlbWknOlxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmhlbWlMaWdodCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG4vLyBVU2UgdGhpcyBjbGFzcyBhcyBhIGhlbHBlciB0byBzZXQgdXAgc29tZSBkZWZhdWx0IG1hdGVyaWFsc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0ZXJpYWwge1xuICBjb25zdHJ1Y3Rvcihjb2xvcikge1xuICAgIHRoaXMuYmFzaWMgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3IsXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YW5kYXJkID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgIGNvbG9yLFxuICAgICAgc2hhZGluZzogVEhSRUUuRmxhdFNoYWRpbmcsXG4gICAgICByb3VnaG5lc3M6IDEsXG4gICAgICBtZXRhbG5lc3M6IDAsXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlXG4gICAgfSk7XG5cbiAgICB0aGlzLndpcmUgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe3dpcmVmcmFtZTogdHJ1ZX0pO1xuICB9XG59XG5cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIE1haW4gd2ViR0wgcmVuZGVyZXIgY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUsIGNvbnRhaW5lcikge1xuICAgIC8vIFByb3BlcnRpZXNcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cbiAgICAvLyBDcmVhdGUgV2ViR0wgcmVuZGVyZXIgYW5kIHNldCBpdHMgYW50aWFsaWFzXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoe2FudGlhbGlhczogdHJ1ZX0pO1xuXG4gICAgLy8gU2V0IGNsZWFyIGNvbG9yIHRvIGZvZyB0byBlbmFibGUgZm9nIG9yIHRvIGhleCBjb2xvciBmb3Igbm8gZm9nXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldENsZWFyQ29sb3Ioc2NlbmUuZm9nLmNvbG9yKTtcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIEZvciByZXRpbmFcblxuICAgIC8vIEFwcGVuZHMgY2FudmFzXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGhyZWVSZW5kZXJlci5kb21FbGVtZW50KTtcblxuICAgIC8vIFNoYWRvdyBtYXAgb3B0aW9uc1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNoYWRvd01hcC50eXBlID0gVEhSRUUuUENGU29mdFNoYWRvd01hcDtcblxuICAgIC8vIEdldCBhbmlzb3Ryb3B5IGZvciB0ZXh0dXJlc1xuICAgIENvbmZpZy5tYXhBbmlzb3Ryb3B5ID0gdGhpcy50aHJlZVJlbmRlcmVyLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCk7XG5cbiAgICAvLyBJbml0aWFsIHNpemUgdXBkYXRlIHNldCB0byBjYW52YXMgY29udGFpbmVyXG4gICAgdGhpcy51cGRhdGVTaXplKCk7XG5cbiAgICAvLyBMaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKCksIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy51cGRhdGVTaXplKCksIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNpemUoKSB7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFNpemUodGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsIHRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gIH1cblxuICByZW5kZXIoc2NlbmUsIGNhbWVyYSkge1xuICAgIC8vIFJlbmRlcnMgc2NlbmUgdG8gY2FudmFzIHRhcmdldFxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gIH1cbn1cbiIsIi8vIExvY2FsIHZhcnMgZm9yIHJTdGF0c1xubGV0IHJTLCBiUywgZ2xTLCB0UztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHMge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHNldFVwKCkge1xuICAgIGJTID0gbmV3IEJyb3dzZXJTdGF0cygpO1xuICAgIGdsUyA9IG5ldyBnbFN0YXRzKCk7XG4gICAgdFMgPSBuZXcgdGhyZWVTdGF0cyh0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIpO1xuXG4gICAgclMgPSBuZXcgclN0YXRzKHtcbiAgICAgIENTU1BhdGg6ICcuL2Nzcy8nLFxuICAgICAgdXNlclRpbWluZ0FQSTogdHJ1ZSxcbiAgICAgIHZhbHVlczoge1xuICAgICAgICBmcmFtZTogeyBjYXB0aW9uOiAnVG90YWwgZnJhbWUgdGltZSAobXMpJywgb3ZlcjogMTYsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcbiAgICAgICAgZnBzOiB7IGNhcHRpb246ICdGcmFtZXJhdGUgKEZQUyknLCBiZWxvdzogMzAgfSxcbiAgICAgICAgY2FsbHM6IHsgY2FwdGlvbjogJ0NhbGxzICh0aHJlZS5qcyknLCBvdmVyOiAzMDAwIH0sXG4gICAgICAgIHJhZjogeyBjYXB0aW9uOiAnVGltZSBzaW5jZSBsYXN0IHJBRiAobXMpJywgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9LFxuICAgICAgICByc3RhdHM6IHsgY2FwdGlvbjogJ3JTdGF0cyB1cGRhdGUgKG1zKScsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcbiAgICAgICAgdGV4dHVyZTogeyBjYXB0aW9uOiAnR2VuVGV4JywgYXZlcmFnZTogdHJ1ZSwgYXZnTXM6IDEwMCB9XG4gICAgICB9LFxuICAgICAgZ3JvdXBzOiBbXG4gICAgICAgIHsgY2FwdGlvbjogJ0ZyYW1lcmF0ZScsIHZhbHVlczogWydmcHMnLCAncmFmJ10gfSxcbiAgICAgICAgeyBjYXB0aW9uOiAnRnJhbWUgQnVkZ2V0JywgdmFsdWVzOiBbJ2ZyYW1lJywgJ3RleHR1cmUnLCAnc2V0dXAnLCAncmVuZGVyJ10gfVxuICAgICAgXSxcbiAgICAgIGZyYWN0aW9uczogW1xuICAgICAgICB7IGJhc2U6ICdmcmFtZScsIHN0ZXBzOiBbJ3RleHR1cmUnLCAnc2V0dXAnLCAncmVuZGVyJ10gfVxuICAgICAgXSxcbiAgICAgIHBsdWdpbnM6IFtiUywgdFNdXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgc3RhcnQoKSB7XG4gICAgclMoJ2ZyYW1lJykuc3RhcnQoKTtcbiAgICBnbFMuc3RhcnQoKTtcblxuICAgIHJTKCdyQUYnKS50aWNrKCk7XG4gICAgclMoJ0ZQUycpLmZyYW1lKCk7XG5cbiAgICByUygncmVuZGVyJykuc3RhcnQoKTtcbiAgfVxuXG4gIHN0YXRpYyBlbmQoKSB7XG4gICAgclMoJ3JlbmRlcicpLmVuZCgpOyAvLyByZW5kZXIgZmluaXNoZWRcbiAgICByUygnZnJhbWUnKS5lbmQoKTsgLy8gZnJhbWUgZmluaXNoZWRcblxuICAgIC8vIExvY2FsIHJTdGF0cyB1cGRhdGVcbiAgICByUygnclN0YXRzJykuc3RhcnQoKTtcbiAgICByUygpLnVwZGF0ZSgpO1xuICAgIHJTKCdyU3RhdHMnKS5lbmQoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAYXV0aG9yIFJpY2ggVGliYmV0dCAvIGh0dHBzOi8vZ2l0aHViLmNvbS9yaWNodHJcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKiBAYXV0aG9yIFRvbnkgUGFyaXNpIC8gaHR0cDovL3d3dy50b255cGFyaXNpLmNvbS9cbiAqIEBhdXRob3IgVGFrYWhpcm8gLyBodHRwczovL2dpdGh1Yi5jb20vdGFrYWhpcm94XG4gKiBAYXV0aG9yIERvbiBNY0N1cmR5IC8gaHR0cHM6Ly93d3cuZG9ubWNjdXJkeS5jb21cbiAqL1xuXG5pbXBvcnQge1xuICBBbmltYXRpb25DbGlwLFxuICBCb25lLFxuICBCb3gzLFxuICBCdWZmZXJBdHRyaWJ1dGUsXG4gIEJ1ZmZlckdlb21ldHJ5LFxuICBDbGFtcFRvRWRnZVdyYXBwaW5nLFxuICBDb2xvcixcbiAgRGlyZWN0aW9uYWxMaWdodCxcbiAgRG91YmxlU2lkZSxcbiAgRmlsZUxvYWRlcixcbiAgRnJvbnRTaWRlLFxuICBHcm91cCxcbiAgSW50ZXJsZWF2ZWRCdWZmZXIsXG4gIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuICBJbnRlcnBvbGFudCxcbiAgSW50ZXJwb2xhdGVEaXNjcmV0ZSxcbiAgSW50ZXJwb2xhdGVMaW5lYXIsXG4gIExpbmUsXG4gIExpbmVCYXNpY01hdGVyaWFsLFxuICBMaW5lTG9vcCxcbiAgTGluZVNlZ21lbnRzLFxuICBMaW5lYXJGaWx0ZXIsXG4gIExpbmVhck1pcG1hcExpbmVhckZpbHRlcixcbiAgTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgTG9hZGVyLFxuICBMb2FkZXJVdGlscyxcbiAgTWF0ZXJpYWwsXG4gIE1hdGhVdGlscyxcbiAgTWF0cml4NCxcbiAgTWVzaCxcbiAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gIE1lc2hQaHlzaWNhbE1hdGVyaWFsLFxuICBNZXNoU3RhbmRhcmRNYXRlcmlhbCxcbiAgTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcbiAgTmVhcmVzdEZpbHRlcixcbiAgTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcbiAgTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gIE51bWJlcktleWZyYW1lVHJhY2ssXG4gIE9iamVjdDNELFxuICBPcnRob2dyYXBoaWNDYW1lcmEsXG4gIFBlcnNwZWN0aXZlQ2FtZXJhLFxuICBQb2ludExpZ2h0LFxuICBQb2ludHMsXG4gIFBvaW50c01hdGVyaWFsLFxuICBQcm9wZXJ0eUJpbmRpbmcsXG4gIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFxuICBSR0JBRm9ybWF0LFxuICBSR0JGb3JtYXQsXG4gIFJlcGVhdFdyYXBwaW5nLFxuICBTa2VsZXRvbixcbiAgU2tpbm5lZE1lc2gsXG4gIFNwaGVyZSxcbiAgU3BvdExpZ2h0LFxuICBUYW5nZW50U3BhY2VOb3JtYWxNYXAsXG4gIFRleHR1cmVMb2FkZXIsXG4gIFRyaWFuZ2xlRmFuRHJhd01vZGUsXG4gIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxcbiAgVmVjdG9yMixcbiAgVmVjdG9yMyxcbiAgVmVjdG9yS2V5ZnJhbWVUcmFjayxcbiAgc1JHQkVuY29kaW5nXG59IGZyb20gJ3RocmVlJztcblxuY29uc3QgR0xURkxvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdMVEZMb2FkZXIobWFuYWdlcikge1xuICAgIExvYWRlci5jYWxsKHRoaXMsIG1hbmFnZXIpO1xuXG4gICAgdGhpcy5kcmFjb0xvYWRlciA9IG51bGw7XG4gICAgdGhpcy5kZHNMb2FkZXIgPSBudWxsO1xuICB9XG5cbiAgR0xURkxvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTG9hZGVyLnByb3RvdHlwZSksIHtcbiAgICBjb25zdHJ1Y3RvcjogR0xURkxvYWRlcixcblxuICAgIGxvYWQ6IGZ1bmN0aW9uICh1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvcikge1xuICAgICAgdmFyIHNjb3BlID0gdGhpcztcblxuICAgICAgdmFyIHJlc291cmNlUGF0aDtcblxuICAgICAgaWYgKHRoaXMucmVzb3VyY2VQYXRoICE9PSAnJykge1xuICAgICAgICByZXNvdXJjZVBhdGggPSB0aGlzLnJlc291cmNlUGF0aDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXRoICE9PSAnJykge1xuICAgICAgICByZXNvdXJjZVBhdGggPSB0aGlzLnBhdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvdXJjZVBhdGggPSBMb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh1cmwpO1xuICAgICAgfVxuXG4gICAgICAvLyBUZWxscyB0aGUgTG9hZGluZ01hbmFnZXIgdG8gdHJhY2sgYW4gZXh0cmEgaXRlbSwgd2hpY2ggcmVzb2x2ZXMgYWZ0ZXJcbiAgICAgIC8vIHRoZSBtb2RlbCBpcyBmdWxseSBsb2FkZWQuIFRoaXMgbWVhbnMgdGhlIGNvdW50IG9mIGl0ZW1zIGxvYWRlZCB3aWxsXG4gICAgICAvLyBiZSBpbmNvcnJlY3QsIGJ1dCBlbnN1cmVzIG1hbmFnZXIub25Mb2FkKCkgZG9lcyBub3QgZmlyZSBlYXJseS5cbiAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7XG5cbiAgICAgIHZhciBfb25FcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRXJyb3IodXJsKTtcbiAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7XG5cbiAgICAgIGxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7XG4gICAgICBsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO1xuXG4gICAgICBpZiAoc2NvcGUuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnKSB7XG4gICAgICAgIGxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHModHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGxvYWRlci5sb2FkKFxuICAgICAgICB1cmwsXG4gICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNjb3BlLnBhcnNlKFxuICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICByZXNvdXJjZVBhdGgsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChnbHRmKSB7XG4gICAgICAgICAgICAgICAgb25Mb2FkKGdsdGYpO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9vbkVycm9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIF9vbkVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Qcm9ncmVzcyxcbiAgICAgICAgX29uRXJyb3JcbiAgICAgICk7XG4gICAgfSxcblxuICAgIHNldERSQUNPTG9hZGVyOiBmdW5jdGlvbiAoZHJhY29Mb2FkZXIpIHtcbiAgICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBzZXRERFNMb2FkZXI6IGZ1bmN0aW9uIChkZHNMb2FkZXIpIHtcbiAgICAgIHRoaXMuZGRzTG9hZGVyID0gZGRzTG9hZGVyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiAoZGF0YSwgcGF0aCwgb25Mb2FkLCBvbkVycm9yKSB7XG4gICAgICB2YXIgY29udGVudDtcbiAgICAgIHZhciBleHRlbnNpb25zID0ge307XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29udGVudCA9IGRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWFnaWMgPSBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGRhdGEsIDAsIDQpKTtcblxuICAgICAgICBpZiAobWFnaWMgPT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdID0gbmV3IEdMVEZCaW5hcnlFeHRlbnNpb24oZGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZW50ID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uY29udGVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuXG4gICAgICBpZiAoanNvbi5hc3NldCA9PT0gdW5kZWZpbmVkIHx8IGpzb24uYXNzZXQudmVyc2lvblswXSA8IDIpIHtcbiAgICAgICAgaWYgKG9uRXJyb3IpXG4gICAgICAgICAgb25FcnJvcihcbiAgICAgICAgICAgIG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgYXNzZXQuIGdsVEYgdmVyc2lvbnMgPj0yLjAgYXJlIHN1cHBvcnRlZC4nKVxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGpzb24uZXh0ZW5zaW9uc1VzZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uLmV4dGVuc2lvbnNVc2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFyIGV4dGVuc2lvbk5hbWUgPSBqc29uLmV4dGVuc2lvbnNVc2VkW2ldO1xuICAgICAgICAgIHZhciBleHRlbnNpb25zUmVxdWlyZWQgPSBqc29uLmV4dGVuc2lvbnNSZXF1aXJlZCB8fCBbXTtcblxuICAgICAgICAgIHN3aXRjaCAoZXh0ZW5zaW9uTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUw6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURkxpZ2h0c0V4dGVuc2lvbihqc29uKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVDpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNYXRlcmlhbHNQYnJTcGVjdWxhckdsb3NzaW5lc3NFeHRlbnNpb24oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24oXG4gICAgICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWNvTG9hZGVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REUzpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZUREU0V4dGVuc2lvbih0aGlzLmRkc0xvYWRlcik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uc1JlcXVpcmVkLmluZGV4T2YoZXh0ZW5zaW9uTmFtZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogVW5rbm93biBleHRlbnNpb24gXCInICsgZXh0ZW5zaW9uTmFtZSArICdcIi4nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyc2VyID0gbmV3IEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywge1xuICAgICAgICBwYXRoOiBwYXRoIHx8IHRoaXMucmVzb3VyY2VQYXRoIHx8ICcnLFxuICAgICAgICBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbixcbiAgICAgICAgbWFuYWdlcjogdGhpcy5tYW5hZ2VyXG4gICAgICB9KTtcblxuICAgICAgcGFyc2VyLnBhcnNlKG9uTG9hZCwgb25FcnJvcik7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogR0xURlJFR0lTVFJZICovXG5cbiAgZnVuY3Rpb24gR0xURlJlZ2lzdHJ5KCkge1xuICAgIHZhciBvYmplY3RzID0ge307XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBvYmplY3RzW2tleV07XG4gICAgICB9LFxuXG4gICAgICBhZGQ6IGZ1bmN0aW9uIChrZXksIG9iamVjdCkge1xuICAgICAgICBvYmplY3RzW2tleV0gPSBvYmplY3Q7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgZGVsZXRlIG9iamVjdHNba2V5XTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBvYmplY3RzID0ge307XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKioqKioqKioqKiBFWFRFTlNJT05TICoqKioqKioqKioqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHZhciBFWFRFTlNJT05TID0ge1xuICAgIEtIUl9CSU5BUllfR0xURjogJ0tIUl9iaW5hcnlfZ2xURicsXG4gICAgS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046ICdLSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvbicsXG4gICAgS0hSX0xJR0hUU19QVU5DVFVBTDogJ0tIUl9saWdodHNfcHVuY3R1YWwnLFxuICAgIEtIUl9NQVRFUklBTFNfQ0xFQVJDT0FUOiAnS0hSX21hdGVyaWFsc19jbGVhcmNvYXQnLFxuICAgIEtIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1M6ICdLSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzcycsXG4gICAgS0hSX01BVEVSSUFMU19VTkxJVDogJ0tIUl9tYXRlcmlhbHNfdW5saXQnLFxuICAgIEtIUl9URVhUVVJFX1RSQU5TRk9STTogJ0tIUl90ZXh0dXJlX3RyYW5zZm9ybScsXG4gICAgS0hSX01FU0hfUVVBTlRJWkFUSU9OOiAnS0hSX21lc2hfcXVhbnRpemF0aW9uJyxcbiAgICBNU0ZUX1RFWFRVUkVfRERTOiAnTVNGVF90ZXh0dXJlX2RkcydcbiAgfTtcblxuICAvKipcbiAgICogRERTIFRleHR1cmUgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9WZW5kb3IvTVNGVF90ZXh0dXJlX2Rkc1xuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gR0xURlRleHR1cmVERFNFeHRlbnNpb24oZGRzTG9hZGVyKSB7XG4gICAgaWYgKCFkZHNMb2FkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEF0dGVtcHRpbmcgdG8gbG9hZCAuZGRzIHRleHR1cmUgd2l0aG91dCBpbXBvcnRpbmcgRERTTG9hZGVyJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM7XG4gICAgdGhpcy5kZHNMb2FkZXIgPSBkZHNMb2FkZXI7XG4gIH1cblxuICAvKipcbiAgICogUHVuY3R1YWwgTGlnaHRzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbGlnaHRzX3B1bmN0dWFsXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTGlnaHRzRXh0ZW5zaW9uKGpzb24pIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUw7XG5cbiAgICB2YXIgZXh0ZW5zaW9uID0gKGpzb24uZXh0ZW5zaW9ucyAmJiBqc29uLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXSkgfHwge307XG4gICAgdGhpcy5saWdodERlZnMgPSBleHRlbnNpb24ubGlnaHRzIHx8IFtdO1xuICB9XG5cbiAgR0xURkxpZ2h0c0V4dGVuc2lvbi5wcm90b3R5cGUubG9hZExpZ2h0ID0gZnVuY3Rpb24gKGxpZ2h0SW5kZXgpIHtcbiAgICB2YXIgbGlnaHREZWYgPSB0aGlzLmxpZ2h0RGVmc1tsaWdodEluZGV4XTtcbiAgICB2YXIgbGlnaHROb2RlO1xuXG4gICAgdmFyIGNvbG9yID0gbmV3IENvbG9yKDB4ZmZmZmZmKTtcbiAgICBpZiAobGlnaHREZWYuY29sb3IgIT09IHVuZGVmaW5lZCkgY29sb3IuZnJvbUFycmF5KGxpZ2h0RGVmLmNvbG9yKTtcblxuICAgIHZhciByYW5nZSA9IGxpZ2h0RGVmLnJhbmdlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5yYW5nZSA6IDA7XG5cbiAgICBzd2l0Y2ggKGxpZ2h0RGVmLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2RpcmVjdGlvbmFsJzpcbiAgICAgICAgbGlnaHROb2RlID0gbmV3IERpcmVjdGlvbmFsTGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XG4gICAgICAgIGxpZ2h0Tm9kZS5hZGQobGlnaHROb2RlLnRhcmdldCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdwb2ludCc6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBQb2ludExpZ2h0KGNvbG9yKTtcbiAgICAgICAgbGlnaHROb2RlLmRpc3RhbmNlID0gcmFuZ2U7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzcG90JzpcbiAgICAgICAgbGlnaHROb2RlID0gbmV3IFNwb3RMaWdodChjb2xvcik7XG4gICAgICAgIGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuICAgICAgICAvLyBIYW5kbGUgc3BvdGxpZ2h0IHByb3BlcnRpZXMuXG4gICAgICAgIGxpZ2h0RGVmLnNwb3QgPSBsaWdodERlZi5zcG90IHx8IHt9O1xuICAgICAgICBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlID1cbiAgICAgICAgICBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlICE9PSB1bmRlZmluZWQgPyBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIDogMDtcbiAgICAgICAgbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA9XG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZSA6IE1hdGguUEkgLyA0LjA7XG4gICAgICAgIGxpZ2h0Tm9kZS5hbmdsZSA9IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGU7XG4gICAgICAgIGxpZ2h0Tm9kZS5wZW51bWJyYSA9IDEuMCAtIGxpZ2h0RGVmLnNwb3QuaW5uZXJDb25lQW5nbGUgLyBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuICAgICAgICBsaWdodE5vZGUudGFyZ2V0LnBvc2l0aW9uLnNldCgwLCAwLCAtMSk7XG4gICAgICAgIGxpZ2h0Tm9kZS5hZGQobGlnaHROb2RlLnRhcmdldCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuZXhwZWN0ZWQgbGlnaHQgdHlwZSwgXCInICsgbGlnaHREZWYudHlwZSArICdcIi4nKTtcbiAgICB9XG5cbiAgICAvLyBTb21lIGxpZ2h0cyAoZS5nLiBzcG90KSBkZWZhdWx0IHRvIGEgcG9zaXRpb24gb3RoZXIgdGhhbiB0aGUgb3JpZ2luLiBSZXNldCB0aGUgcG9zaXRpb25cbiAgICAvLyBoZXJlLCBiZWNhdXNlIG5vZGUtbGV2ZWwgcGFyc2luZyB3aWxsIG9ubHkgb3ZlcnJpZGUgcG9zaXRpb24gaWYgZXhwbGljaXRseSBzcGVjaWZpZWQuXG4gICAgbGlnaHROb2RlLnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcblxuICAgIGxpZ2h0Tm9kZS5kZWNheSA9IDI7XG5cbiAgICBpZiAobGlnaHREZWYuaW50ZW5zaXR5ICE9PSB1bmRlZmluZWQpIGxpZ2h0Tm9kZS5pbnRlbnNpdHkgPSBsaWdodERlZi5pbnRlbnNpdHk7XG5cbiAgICBsaWdodE5vZGUubmFtZSA9IGxpZ2h0RGVmLm5hbWUgfHwgJ2xpZ2h0XycgKyBsaWdodEluZGV4O1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsaWdodE5vZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmxpdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfdW5saXRcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ7XG4gIH1cblxuICBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24ucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWVzaEJhc2ljTWF0ZXJpYWw7XG4gIH07XG5cbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5leHRlbmRQYXJhbXMgPSBmdW5jdGlvbiAoXG4gICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgbWF0ZXJpYWxEZWYsXG4gICAgcGFyc2VyXG4gICkge1xuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICBtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcbiAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gMS4wO1xuXG4gICAgdmFyIG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3M7XG5cbiAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcikpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yO1xuXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSBhcnJheVszXTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2xlYXJjb2F0IE1hdGVyaWFscyBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc19jbGVhcmNvYXRcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVDtcbiAgfVxuXG4gIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmdldE1hdGVyaWFsVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWVzaFBoeXNpY2FsTWF0ZXJpYWw7XG4gIH07XG5cbiAgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kUGFyYW1zID0gZnVuY3Rpb24gKFxuICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgIG1hdGVyaWFsRGVmLFxuICAgIHBhcnNlclxuICApIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgdmFyIGV4dGVuc2lvbiA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdCA9IGV4dGVuc2lvbi5jbGVhcmNvYXRGYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdjbGVhcmNvYXRNYXAnLCBleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF0ZXJpYWxQYXJhbXMuY2xlYXJjb2F0Um91Z2huZXNzID0gZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc0ZhY3RvcjtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAnY2xlYXJjb2F0Um91Z2huZXNzTWFwJyxcbiAgICAgICAgICBleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgICAgICAgICdjbGVhcmNvYXROb3JtYWxNYXAnLFxuICAgICAgICAgIGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IGV4dGVuc2lvbi5jbGVhcmNvYXROb3JtYWxUZXh0dXJlLnNjYWxlO1xuXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdE5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoc2NhbGUsIHNjYWxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyogQklOQVJZIEVYVEVOU0lPTiAqL1xuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTUFHSUMgPSAnZ2xURic7XG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggPSAxMjtcbiAgdmFyIEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMgPSB7IEpTT046IDB4NGU0ZjUzNGEsIEJJTjogMHgwMDRlNDk0MiB9O1xuXG4gIGZ1bmN0aW9uIEdMVEZCaW5hcnlFeHRlbnNpb24oZGF0YSkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGO1xuICAgIHRoaXMuY29udGVudCA9IG51bGw7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcblxuICAgIHZhciBoZWFkZXJWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIDAsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XG5cbiAgICB0aGlzLmhlYWRlciA9IHtcbiAgICAgIG1hZ2ljOiBMb2FkZXJVdGlscy5kZWNvZGVUZXh0KG5ldyBVaW50OEFycmF5KGRhdGEuc2xpY2UoMCwgNCkpKSxcbiAgICAgIHZlcnNpb246IGhlYWRlclZpZXcuZ2V0VWludDMyKDQsIHRydWUpLFxuICAgICAgbGVuZ3RoOiBoZWFkZXJWaWV3LmdldFVpbnQzMig4LCB0cnVlKVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5oZWFkZXIubWFnaWMgIT09IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGdsVEYtQmluYXJ5IGhlYWRlci4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuaGVhZGVyLnZlcnNpb24gPCAyLjApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogTGVnYWN5IGJpbmFyeSBmaWxlIGRldGVjdGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjaHVua1ZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YSwgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIKTtcbiAgICB2YXIgY2h1bmtJbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoY2h1bmtJbmRleCA8IGNodW5rVmlldy5ieXRlTGVuZ3RoKSB7XG4gICAgICB2YXIgY2h1bmtMZW5ndGggPSBjaHVua1ZpZXcuZ2V0VWludDMyKGNodW5rSW5kZXgsIHRydWUpO1xuICAgICAgY2h1bmtJbmRleCArPSA0O1xuXG4gICAgICB2YXIgY2h1bmtUeXBlID0gY2h1bmtWaWV3LmdldFVpbnQzMihjaHVua0luZGV4LCB0cnVlKTtcbiAgICAgIGNodW5rSW5kZXggKz0gNDtcblxuICAgICAgaWYgKGNodW5rVHlwZSA9PT0gQklOQVJZX0VYVEVOU0lPTl9DSFVOS19UWVBFUy5KU09OKSB7XG4gICAgICAgIHZhciBjb250ZW50QXJyYXkgPSBuZXcgVWludDhBcnJheShcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXgsXG4gICAgICAgICAgY2h1bmtMZW5ndGhcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChjb250ZW50QXJyYXkpO1xuICAgICAgfSBlbHNlIGlmIChjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuQklOKSB7XG4gICAgICAgIHZhciBieXRlT2Zmc2V0ID0gQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIICsgY2h1bmtJbmRleDtcbiAgICAgICAgdGhpcy5ib2R5ID0gZGF0YS5zbGljZShieXRlT2Zmc2V0LCBieXRlT2Zmc2V0ICsgY2h1bmtMZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGllbnRzIG11c3QgaWdub3JlIGNodW5rcyB3aXRoIHVua25vd24gdHlwZXMuXG5cbiAgICAgIGNodW5rSW5kZXggKz0gY2h1bmtMZW5ndGg7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udGVudCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBKU09OIGNvbnRlbnQgbm90IGZvdW5kLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEUkFDTyBNZXNoIENvbXByZXNzaW9uIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfZHJhY29fbWVzaF9jb21wcmVzc2lvblxuICAgKi9cbiAgZnVuY3Rpb24gR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKGpzb24sIGRyYWNvTG9hZGVyKSB7XG4gICAgaWYgKCFkcmFjb0xvYWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBObyBEUkFDT0xvYWRlciBpbnN0YW5jZSBwcm92aWRlZC4nKTtcbiAgICB9XG5cbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OO1xuICAgIHRoaXMuanNvbiA9IGpzb247XG4gICAgdGhpcy5kcmFjb0xvYWRlciA9IGRyYWNvTG9hZGVyO1xuICAgIHRoaXMuZHJhY29Mb2FkZXIucHJlbG9hZCgpO1xuICB9XG5cbiAgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uLnByb3RvdHlwZS5kZWNvZGVQcmltaXRpdmUgPSBmdW5jdGlvbiAocHJpbWl0aXZlLCBwYXJzZXIpIHtcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICB2YXIgZHJhY29Mb2FkZXIgPSB0aGlzLmRyYWNvTG9hZGVyO1xuICAgIHZhciBidWZmZXJWaWV3SW5kZXggPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmJ1ZmZlclZpZXc7XG4gICAgdmFyIGdsdGZBdHRyaWJ1dGVNYXAgPSBwcmltaXRpdmUuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdLmF0dHJpYnV0ZXM7XG4gICAgdmFyIHRocmVlQXR0cmlidXRlTWFwID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXAgPSB7fTtcbiAgICB2YXIgYXR0cmlidXRlVHlwZU1hcCA9IHt9O1xuXG4gICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBnbHRmQXR0cmlidXRlTWFwKSB7XG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID0gQVRUUklCVVRFU1thdHRyaWJ1dGVOYW1lXSB8fCBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIHRocmVlQXR0cmlidXRlTWFwW3RocmVlQXR0cmlidXRlTmFtZV0gPSBnbHRmQXR0cmlidXRlTWFwW2F0dHJpYnV0ZU5hbWVdO1xuICAgIH1cblxuICAgIGZvciAoYXR0cmlidXRlTmFtZSBpbiBwcmltaXRpdmUuYXR0cmlidXRlcykge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZiAoZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBhY2Nlc3NvckRlZiA9IGpzb24uYWNjZXNzb3JzW3ByaW1pdGl2ZS5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdXTtcbiAgICAgICAgdmFyIGNvbXBvbmVudFR5cGUgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZV07XG5cbiAgICAgICAgYXR0cmlidXRlVHlwZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gY29tcG9uZW50VHlwZTtcbiAgICAgICAgYXR0cmlidXRlTm9ybWFsaXplZE1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBidWZmZXJWaWV3SW5kZXgpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXcpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBkcmFjb0xvYWRlci5kZWNvZGVEcmFjb0ZpbGUoXG4gICAgICAgICAgYnVmZmVyVmlldyxcbiAgICAgICAgICBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwW2F0dHJpYnV0ZU5hbWVdO1xuXG4gICAgICAgICAgICAgIGlmIChub3JtYWxpemVkICE9PSB1bmRlZmluZWQpIGF0dHJpYnV0ZS5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzb2x2ZShnZW9tZXRyeSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aHJlZUF0dHJpYnV0ZU1hcCxcbiAgICAgICAgICBhdHRyaWJ1dGVUeXBlTWFwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVGV4dHVyZSBUcmFuc2Zvcm0gRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl90ZXh0dXJlX3RyYW5zZm9ybVxuICAgKi9cbiAgZnVuY3Rpb24gR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk07XG4gIH1cblxuICBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCB0cmFuc2Zvcm0pIHtcbiAgICB0ZXh0dXJlID0gdGV4dHVyZS5jbG9uZSgpO1xuXG4gICAgaWYgKHRyYW5zZm9ybS5vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGV4dHVyZS5vZmZzZXQuZnJvbUFycmF5KHRyYW5zZm9ybS5vZmZzZXQpO1xuICAgIH1cblxuICAgIGlmICh0cmFuc2Zvcm0ucm90YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGV4dHVyZS5yb3RhdGlvbiA9IHRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRleHR1cmUucmVwZWF0LmZyb21BcnJheSh0cmFuc2Zvcm0uc2NhbGUpO1xuICAgIH1cblxuICAgIGlmICh0cmFuc2Zvcm0udGV4Q29vcmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnVEhSRUUuR0xURkxvYWRlcjogQ3VzdG9tIFVWIHNldHMgaW4gXCInICsgdGhpcy5uYW1lICsgJ1wiIGV4dGVuc2lvbiBub3QgeWV0IHN1cHBvcnRlZC4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRleHR1cmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWN1bGFyLUdsb3NzaW5lc3MgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfcGJyU3BlY3VsYXJHbG9zc2luZXNzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBBIHN1YiBjbGFzcyBvZiBTdGFuZGFyZE1hdGVyaWFsIHdpdGggc29tZSBvZiB0aGUgZnVuY3Rpb25hbGl0eVxuICAgKiBjaGFuZ2VkIHZpYSB0aGUgYG9uQmVmb3JlQ29tcGlsZWAgY2FsbGJhY2tcbiAgICogQHBhaWxoZWFkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKHBhcmFtcykge1xuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmlzR0xURlNwZWN1bGFyR2xvc3NpbmVzc01hdGVyaWFsID0gdHJ1ZTtcblxuICAgIC8vdmFyaW91cyBjaHVua3MgdGhhdCBuZWVkIHJlcGxhY2luZ1xuICAgIHZhciBzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rID0gW1xuICAgICAgJyNpZmRlZiBVU0VfU1BFQ1VMQVJNQVAnLFxuICAgICAgJ1x0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7JyxcbiAgICAgICcjZW5kaWYnLFxuICAgIF0uam9pbignXFxuJyk7XG5cbiAgICB2YXIgZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rID0gW1xuICAgICAgJyNpZmRlZiBVU0VfR0xPU1NJTkVTU01BUCcsXG4gICAgICAnXHR1bmlmb3JtIHNhbXBsZXIyRCBnbG9zc2luZXNzTWFwOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIHNwZWN1bGFyTWFwRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICd2ZWMzIHNwZWN1bGFyRmFjdG9yID0gc3BlY3VsYXI7JyxcbiAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcbiAgICAgICdcdHZlYzQgdGV4ZWxTcGVjdWxhciA9IHRleHR1cmUyRCggc3BlY3VsYXJNYXAsIHZVdiApOycsXG4gICAgICAnXHR0ZXhlbFNwZWN1bGFyID0gc1JHQlRvTGluZWFyKCB0ZXhlbFNwZWN1bGFyICk7JyxcbiAgICAgICdcdC8vIHJlYWRzIGNoYW5uZWwgUkdCLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxuICAgICAgJ1x0c3BlY3VsYXJGYWN0b3IgKj0gdGV4ZWxTcGVjdWxhci5yZ2I7JyxcbiAgICAgICcjZW5kaWYnLFxuICAgIF0uam9pbignXFxuJyk7XG5cbiAgICB2YXIgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICAnZmxvYXQgZ2xvc3NpbmVzc0ZhY3RvciA9IGdsb3NzaW5lc3M7JyxcbiAgICAgICcjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVAnLFxuICAgICAgJ1x0dmVjNCB0ZXhlbEdsb3NzaW5lc3MgPSB0ZXh0dXJlMkQoIGdsb3NzaW5lc3NNYXAsIHZVdiApOycsXG4gICAgICAnXHQvLyByZWFkcyBjaGFubmVsIEEsIGNvbXBhdGlibGUgd2l0aCBhIGdsVEYgU3BlY3VsYXItR2xvc3NpbmVzcyAoUkdCQSkgdGV4dHVyZScsXG4gICAgICAnXHRnbG9zc2luZXNzRmFjdG9yICo9IHRleGVsR2xvc3NpbmVzcy5hOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIGxpZ2h0UGh5c2ljYWxGcmFnbWVudENodW5rID0gW1xuICAgICAgJ1BoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWw7JyxcbiAgICAgICdtYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiOycsXG4gICAgICAndmVjMyBkeHkgPSBtYXgoIGFicyggZEZkeCggZ2VvbWV0cnlOb3JtYWwgKSApLCBhYnMoIGRGZHkoIGdlb21ldHJ5Tm9ybWFsICkgKSApOycsXG4gICAgICAnZmxvYXQgZ2VvbWV0cnlSb3VnaG5lc3MgPSBtYXgoIG1heCggZHh5LngsIGR4eS55ICksIGR4eS56ICk7JyxcbiAgICAgICdtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1heCggMS4wIC0gZ2xvc3NpbmVzc0ZhY3RvciwgMC4wNTI1ICk7Ly8gMC4wNTI1IGNvcnJlc3BvbmRzIHRvIHRoZSBiYXNlIG1pcCBvZiBhIDI1NiBjdWJlbWFwLicsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7JyxcbiAgICAgICdtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcyA9IG1pbiggbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsIDEuMCApOycsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyRmFjdG9yLnJnYjsnLFxuICAgIF0uam9pbignXFxuJyk7XG5cbiAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICBzcGVjdWxhcjogeyB2YWx1ZTogbmV3IENvbG9yKCkuc2V0SGV4KDB4ZmZmZmZmKSB9LFxuICAgICAgZ2xvc3NpbmVzczogeyB2YWx1ZTogMSB9LFxuICAgICAgc3BlY3VsYXJNYXA6IHsgdmFsdWU6IG51bGwgfSxcbiAgICAgIGdsb3NzaW5lc3NNYXA6IHsgdmFsdWU6IG51bGwgfSxcbiAgICB9O1xuXG4gICAgdGhpcy5fZXh0cmFVbmlmb3JtcyA9IHVuaWZvcm1zO1xuXG4gICAgLy8gcGxlYXNlIHNlZSAjMTQwMzEgb3IgIzEzMTk4IGZvciBhbiBhbHRlcm5hdGUgYXBwcm9hY2hcbiAgICB0aGlzLm9uQmVmb3JlQ29tcGlsZSA9IGZ1bmN0aW9uIChzaGFkZXIpIHtcbiAgICAgIGZvciAodmFyIHVuaWZvcm1OYW1lIGluIHVuaWZvcm1zKSB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtc1t1bmlmb3JtTmFtZV0gPSB1bmlmb3Jtc1t1bmlmb3JtTmFtZV07XG4gICAgICB9XG5cbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAndW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7JyxcbiAgICAgICAgJ3VuaWZvcm0gdmVjMyBzcGVjdWxhcjsnXG4gICAgICApO1xuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IG1ldGFsbmVzczsnLFxuICAgICAgICAndW5pZm9ybSBmbG9hdCBnbG9zc2luZXNzOydcbiAgICAgICk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJyNpbmNsdWRlIDxyb3VnaG5lc3NtYXBfcGFyc19mcmFnbWVudD4nLFxuICAgICAgICBzcGVjdWxhck1hcFBhcnNGcmFnbWVudENodW5rXG4gICAgICApO1xuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXG4gICAgICAgICcjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcbiAgICAgICAgZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rXG4gICAgICApO1xuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXG4gICAgICAgICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PicsXG4gICAgICAgIHNwZWN1bGFyTWFwRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9mcmFnbWVudD4nLFxuICAgICAgICBnbG9zc2luZXNzTWFwRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPGxpZ2h0c19waHlzaWNhbF9mcmFnbWVudD4nLFxuICAgICAgICBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLyplc2xpbnQtZGlzYWJsZSovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgc3BlY3VsYXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuc3BlY3VsYXIudmFsdWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHNwZWN1bGFyTWFwOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLnNwZWN1bGFyTWFwLnZhbHVlID0gdjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBnbG9zc2luZXNzOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5nbG9zc2luZXNzLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ2xvc3NpbmVzc01hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzc01hcC52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWUgPSB2O1xuICAgICAgICAgIC8vaG93IGFib3V0IHNvbWV0aGluZyBsaWtlIHRoaXMgLSBAcGFpbGhlYWRcbiAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQID0gJyc7XG4gICAgICAgICAgICAvLyBzZXQgVVNFX1JPVUdITkVTU01BUCB0byBlbmFibGUgdlV2XG4gICAgICAgICAgICB0aGlzLmRlZmluZXMuVVNFX1JPVUdITkVTU01BUCA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9ST1VHSE5FU1NNQVA7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5kZWZpbmVzLlVTRV9HTE9TU0lORVNTTUFQO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKmVzbGludC1lbmFibGUqL1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzcztcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG4gICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwO1xuICAgIGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDtcblxuICAgIHRoaXMuc2V0VmFsdWVzKHBhcmFtcyk7XG4gIH1cblxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZSk7XG4gIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xuXG4gIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIE1lc2hTdGFuZGFyZE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcywgc291cmNlKTtcbiAgICB0aGlzLnNwZWN1bGFyTWFwID0gc291cmNlLnNwZWN1bGFyTWFwO1xuICAgIHRoaXMuc3BlY3VsYXIuY29weShzb3VyY2Uuc3BlY3VsYXIpO1xuICAgIHRoaXMuZ2xvc3NpbmVzc01hcCA9IHNvdXJjZS5nbG9zc2luZXNzTWFwO1xuICAgIHRoaXMuZ2xvc3NpbmVzcyA9IHNvdXJjZS5nbG9zc2luZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzcztcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3M7XG4gICAgZGVsZXRlIHRoaXMubWV0YWxuZXNzTWFwO1xuICAgIGRlbGV0ZSB0aGlzLnJvdWdobmVzc01hcDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MsXG5cbiAgICAgIHNwZWN1bGFyR2xvc3NpbmVzc1BhcmFtczogW1xuICAgICAgICAnY29sb3InLFxuICAgICAgICAnbWFwJyxcbiAgICAgICAgJ2xpZ2h0TWFwJyxcbiAgICAgICAgJ2xpZ2h0TWFwSW50ZW5zaXR5JyxcbiAgICAgICAgJ2FvTWFwJyxcbiAgICAgICAgJ2FvTWFwSW50ZW5zaXR5JyxcbiAgICAgICAgJ2VtaXNzaXZlJyxcbiAgICAgICAgJ2VtaXNzaXZlSW50ZW5zaXR5JyxcbiAgICAgICAgJ2VtaXNzaXZlTWFwJyxcbiAgICAgICAgJ2J1bXBNYXAnLFxuICAgICAgICAnYnVtcFNjYWxlJyxcbiAgICAgICAgJ25vcm1hbE1hcCcsXG4gICAgICAgICdub3JtYWxNYXBUeXBlJyxcbiAgICAgICAgJ2Rpc3BsYWNlbWVudE1hcCcsXG4gICAgICAgICdkaXNwbGFjZW1lbnRTY2FsZScsXG4gICAgICAgICdkaXNwbGFjZW1lbnRCaWFzJyxcbiAgICAgICAgJ3NwZWN1bGFyTWFwJyxcbiAgICAgICAgJ3NwZWN1bGFyJyxcbiAgICAgICAgJ2dsb3NzaW5lc3NNYXAnLFxuICAgICAgICAnZ2xvc3NpbmVzcycsXG4gICAgICAgICdhbHBoYU1hcCcsXG4gICAgICAgICdlbnZNYXAnLFxuICAgICAgICAnZW52TWFwSW50ZW5zaXR5JyxcbiAgICAgICAgJ3JlZnJhY3Rpb25SYXRpbycsXG4gICAgICBdLFxuXG4gICAgICBnZXRNYXRlcmlhbFR5cGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsO1xuICAgICAgfSxcblxuICAgICAgZXh0ZW5kUGFyYW1zOiBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMsIG1hdGVyaWFsRGVmLCBwYXJzZXIpIHtcbiAgICAgICAgdmFyIHBiclNwZWN1bGFyR2xvc3NpbmVzcyA9IG1hdGVyaWFsRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXTtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlRmFjdG9yKSkge1xuICAgICAgICAgIHZhciBhcnJheSA9IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlRmFjdG9yO1xuXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGJyU3BlY3VsYXJHbG9zc2luZXNzLmRpZmZ1c2VUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmUgPSBuZXcgQ29sb3IoMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3MgPVxuICAgICAgICAgIHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gcGJyU3BlY3VsYXJHbG9zc2luZXNzLmdsb3NzaW5lc3NGYWN0b3JcbiAgICAgICAgICAgIDogMS4wO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhciA9IG5ldyBDb2xvcigxLjAsIDEuMCwgMS4wKTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IpKSB7XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIuZnJvbUFycmF5KHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckZhY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBzcGVjR2xvc3NNYXBEZWYgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJHbG9zc2luZXNzVGV4dHVyZTtcbiAgICAgICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdnbG9zc2luZXNzTWFwJywgc3BlY0dsb3NzTWFwRGVmKSk7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnc3BlY3VsYXJNYXAnLCBzcGVjR2xvc3NNYXBEZWYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgICAgIH0sXG5cbiAgICAgIGNyZWF0ZU1hdGVyaWFsOiBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMpIHtcbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgICAgbWF0ZXJpYWwuZm9nID0gdHJ1ZTtcblxuICAgICAgICBtYXRlcmlhbC5jb2xvciA9IG1hdGVyaWFsUGFyYW1zLmNvbG9yO1xuXG4gICAgICAgIG1hdGVyaWFsLm1hcCA9IG1hdGVyaWFsUGFyYW1zLm1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm1hcDtcblxuICAgICAgICBtYXRlcmlhbC5saWdodE1hcCA9IG51bGw7XG4gICAgICAgIG1hdGVyaWFsLmxpZ2h0TWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgIG1hdGVyaWFsLmFvTWFwID0gbWF0ZXJpYWxQYXJhbXMuYW9NYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5hb01hcDtcbiAgICAgICAgbWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHkgPSAxLjA7XG5cbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmUgPSBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZTtcbiAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSAxLjA7XG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlTWFwO1xuXG4gICAgICAgIG1hdGVyaWFsLmJ1bXBNYXAgPSBtYXRlcmlhbFBhcmFtcy5idW1wTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcDtcbiAgICAgICAgbWF0ZXJpYWwuYnVtcFNjYWxlID0gMTtcblxuICAgICAgICBtYXRlcmlhbC5ub3JtYWxNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbE1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLm5vcm1hbE1hcDtcbiAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwVHlwZSA9IFRhbmdlbnRTcGFjZU5vcm1hbE1hcDtcblxuICAgICAgICBpZiAobWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUpIG1hdGVyaWFsLm5vcm1hbFNjYWxlID0gbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGU7XG5cbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwID0gbnVsbDtcbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUgPSAxO1xuICAgICAgICBtYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzID0gMDtcblxuICAgICAgICBtYXRlcmlhbC5zcGVjdWxhck1hcCA9XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXJNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhck1hcDtcbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXIgPSBtYXRlcmlhbFBhcmFtcy5zcGVjdWxhcjtcblxuICAgICAgICBtYXRlcmlhbC5nbG9zc2luZXNzTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcDtcbiAgICAgICAgbWF0ZXJpYWwuZ2xvc3NpbmVzcyA9IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3M7XG5cbiAgICAgICAgbWF0ZXJpYWwuYWxwaGFNYXAgPSBudWxsO1xuXG4gICAgICAgIG1hdGVyaWFsLmVudk1hcCA9IG1hdGVyaWFsUGFyYW1zLmVudk1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmVudk1hcDtcbiAgICAgICAgbWF0ZXJpYWwuZW52TWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgIG1hdGVyaWFsLnJlZnJhY3Rpb25SYXRpbyA9IDAuOTg7XG5cbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE1lc2ggUXVhbnRpemF0aW9uIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWVzaF9xdWFudGl6YXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uKCkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01FU0hfUVVBTlRJWkFUSU9OO1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyoqKioqKioqKiogSU5URVJQT0xBVElPTiAqKioqKioqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvLyBTcGxpbmUgSW50ZXJwb2xhdGlvblxuICAvLyBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FwcGVuZGl4LWMtc3BsaW5lLWludGVycG9sYXRpb25cbiAgZnVuY3Rpb24gR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlcikge1xuICAgIEludGVycG9sYW50LmNhbGwodGhpcywgcGFyYW1ldGVyUG9zaXRpb25zLCBzYW1wbGVWYWx1ZXMsIHNhbXBsZVNpemUsIHJlc3VsdEJ1ZmZlcik7XG4gIH1cblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEludGVycG9sYW50LnByb3RvdHlwZSk7XG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50O1xuXG4gIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgLy8gQ29waWVzIGEgc2FtcGxlIHZhbHVlIHRvIHRoZSByZXN1bHQgYnVmZmVyLiBTZWUgZGVzY3JpcHRpb24gb2YgZ2xURlxuICAgIC8vIENVQklDU1BMSU5FIHZhbHVlcyBsYXlvdXQgaW4gaW50ZXJwb2xhdGVfKCkgZnVuY3Rpb24gYmVsb3cuXG5cbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXIsXG4gICAgICAgIHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzLFxuICAgICAgICB2YWx1ZVNpemUgPSB0aGlzLnZhbHVlU2l6ZSxcbiAgICAgICAgb2Zmc2V0ID0gaW5kZXggKiB2YWx1ZVNpemUgKiAzICsgdmFsdWVTaXplO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHZhbHVlU2l6ZTsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSB2YWx1ZXNbb2Zmc2V0ICsgaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYmVmb3JlU3RhcnRfID1cbiAgICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztcblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuYWZ0ZXJFbmRfID1cbiAgICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXztcblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuaW50ZXJwb2xhdGVfID0gZnVuY3Rpb24gKGkxLCB0MCwgdCwgdDEpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5yZXN1bHRCdWZmZXI7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMuc2FtcGxlVmFsdWVzO1xuICAgIHZhciBzdHJpZGUgPSB0aGlzLnZhbHVlU2l6ZTtcblxuICAgIHZhciBzdHJpZGUyID0gc3RyaWRlICogMjtcbiAgICB2YXIgc3RyaWRlMyA9IHN0cmlkZSAqIDM7XG5cbiAgICB2YXIgdGQgPSB0MSAtIHQwO1xuXG4gICAgdmFyIHAgPSAodCAtIHQwKSAvIHRkO1xuICAgIHZhciBwcCA9IHAgKiBwO1xuICAgIHZhciBwcHAgPSBwcCAqIHA7XG5cbiAgICB2YXIgb2Zmc2V0MSA9IGkxICogc3RyaWRlMztcbiAgICB2YXIgb2Zmc2V0MCA9IG9mZnNldDEgLSBzdHJpZGUzO1xuXG4gICAgdmFyIHMyID0gLTIgKiBwcHAgKyAzICogcHA7XG4gICAgdmFyIHMzID0gcHBwIC0gcHA7XG4gICAgdmFyIHMwID0gMSAtIHMyO1xuICAgIHZhciBzMSA9IHMzIC0gcHAgKyBwO1xuXG4gICAgLy8gTGF5b3V0IG9mIGtleWZyYW1lIG91dHB1dCB2YWx1ZXMgZm9yIENVQklDU1BMSU5FIGFuaW1hdGlvbnM6XG4gICAgLy8gICBbIGluVGFuZ2VudF8xLCBzcGxpbmVWZXJ0ZXhfMSwgb3V0VGFuZ2VudF8xLCBpblRhbmdlbnRfMiwgc3BsaW5lVmVydGV4XzIsIC4uLiBdXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHN0cmlkZTsgaSsrKSB7XG4gICAgICB2YXIgcDAgPSB2YWx1ZXNbb2Zmc2V0MCArIGkgKyBzdHJpZGVdOyAvLyBzcGxpbmVWZXJ0ZXhfa1xuICAgICAgdmFyIG0wID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlMl0gKiB0ZDsgLy8gb3V0VGFuZ2VudF9rICogKHRfaysxIC0gdF9rKVxuICAgICAgdmFyIHAxID0gdmFsdWVzW29mZnNldDEgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2srMVxuICAgICAgdmFyIG0xID0gdmFsdWVzW29mZnNldDEgKyBpXSAqIHRkOyAvLyBpblRhbmdlbnRfaysxICogKHRfaysxIC0gdF9rKVxuXG4gICAgICByZXN1bHRbaV0gPSBzMCAqIHAwICsgczEgKiBtMCArIHMyICogcDEgKyBzMyAqIG0xO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyoqKioqKioqKiogSU5URVJOQUxTICoqKioqKioqKioqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvKiBDT05TVEFOVFMgKi9cblxuICB2YXIgV0VCR0xfQ09OU1RBTlRTID0ge1xuICAgIEZMT0FUOiA1MTI2LFxuICAgIC8vRkxPQVRfTUFUMjogMzU2NzQsXG4gICAgRkxPQVRfTUFUMzogMzU2NzUsXG4gICAgRkxPQVRfTUFUNDogMzU2NzYsXG4gICAgRkxPQVRfVkVDMjogMzU2NjQsXG4gICAgRkxPQVRfVkVDMzogMzU2NjUsXG4gICAgRkxPQVRfVkVDNDogMzU2NjYsXG4gICAgTElORUFSOiA5NzI5LFxuICAgIFJFUEVBVDogMTA0OTcsXG4gICAgU0FNUExFUl8yRDogMzU2NzgsXG4gICAgUE9JTlRTOiAwLFxuICAgIExJTkVTOiAxLFxuICAgIExJTkVfTE9PUDogMixcbiAgICBMSU5FX1NUUklQOiAzLFxuICAgIFRSSUFOR0xFUzogNCxcbiAgICBUUklBTkdMRV9TVFJJUDogNSxcbiAgICBUUklBTkdMRV9GQU46IDYsXG4gICAgVU5TSUdORURfQllURTogNTEyMSxcbiAgICBVTlNJR05FRF9TSE9SVDogNTEyMyxcbiAgfTtcblxuICB2YXIgV0VCR0xfQ09NUE9ORU5UX1RZUEVTID0ge1xuICAgIDUxMjA6IEludDhBcnJheSxcbiAgICA1MTIxOiBVaW50OEFycmF5LFxuICAgIDUxMjI6IEludDE2QXJyYXksXG4gICAgNTEyMzogVWludDE2QXJyYXksXG4gICAgNTEyNTogVWludDMyQXJyYXksXG4gICAgNTEyNjogRmxvYXQzMkFycmF5LFxuICB9O1xuXG4gIHZhciBXRUJHTF9GSUxURVJTID0ge1xuICAgIDk3Mjg6IE5lYXJlc3RGaWx0ZXIsXG4gICAgOTcyOTogTGluZWFyRmlsdGVyLFxuICAgIDk5ODQ6IE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICAgIDk5ODU6IExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gICAgOTk4NjogTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixcbiAgICA5OTg3OiBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gIH07XG5cbiAgdmFyIFdFQkdMX1dSQVBQSU5HUyA9IHtcbiAgICAzMzA3MTogQ2xhbXBUb0VkZ2VXcmFwcGluZyxcbiAgICAzMzY0ODogTWlycm9yZWRSZXBlYXRXcmFwcGluZyxcbiAgICAxMDQ5NzogUmVwZWF0V3JhcHBpbmcsXG4gIH07XG5cbiAgdmFyIFdFQkdMX1RZUEVfU0laRVMgPSB7XG4gICAgU0NBTEFSOiAxLFxuICAgIFZFQzI6IDIsXG4gICAgVkVDMzogMyxcbiAgICBWRUM0OiA0LFxuICAgIE1BVDI6IDQsXG4gICAgTUFUMzogOSxcbiAgICBNQVQ0OiAxNixcbiAgfTtcblxuICB2YXIgQVRUUklCVVRFUyA9IHtcbiAgICBQT1NJVElPTjogJ3Bvc2l0aW9uJyxcbiAgICBOT1JNQUw6ICdub3JtYWwnLFxuICAgIFRBTkdFTlQ6ICd0YW5nZW50JyxcbiAgICBURVhDT09SRF8wOiAndXYnLFxuICAgIFRFWENPT1JEXzE6ICd1djInLFxuICAgIENPTE9SXzA6ICdjb2xvcicsXG4gICAgV0VJR0hUU18wOiAnc2tpbldlaWdodCcsXG4gICAgSk9JTlRTXzA6ICdza2luSW5kZXgnLFxuICB9O1xuXG4gIHZhciBQQVRIX1BST1BFUlRJRVMgPSB7XG4gICAgc2NhbGU6ICdzY2FsZScsXG4gICAgdHJhbnNsYXRpb246ICdwb3NpdGlvbicsXG4gICAgcm90YXRpb246ICdxdWF0ZXJuaW9uJyxcbiAgICB3ZWlnaHRzOiAnbW9ycGhUYXJnZXRJbmZsdWVuY2VzJyxcbiAgfTtcblxuICB2YXIgSU5URVJQT0xBVElPTiA9IHtcbiAgICBDVUJJQ1NQTElORTogdW5kZWZpbmVkLCAvLyBXZSB1c2UgYSBjdXN0b20gaW50ZXJwb2xhbnQgKEdMVEZDdWJpY1NwbGluZUludGVycG9sYXRpb24pIGZvciBDVUJJQ1NQTElORSB0cmFja3MuIEVhY2hcbiAgICAvLyBrZXlmcmFtZSB0cmFjayB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYSBkZWZhdWx0IGludGVycG9sYXRpb24gdHlwZSwgdGhlbiBtb2RpZmllZC5cbiAgICBMSU5FQVI6IEludGVycG9sYXRlTGluZWFyLFxuICAgIFNURVA6IEludGVycG9sYXRlRGlzY3JldGUsXG4gIH07XG5cbiAgdmFyIEFMUEhBX01PREVTID0ge1xuICAgIE9QQVFVRTogJ09QQVFVRScsXG4gICAgTUFTSzogJ01BU0snLFxuICAgIEJMRU5EOiAnQkxFTkQnLFxuICB9O1xuXG4gIHZhciBNSU1FX1RZUEVfRk9STUFUUyA9IHtcbiAgICAnaW1hZ2UvcG5nJzogUkdCQUZvcm1hdCxcbiAgICAnaW1hZ2UvanBlZyc6IFJHQkZvcm1hdCxcbiAgfTtcblxuICAvKiBVVElMSVRZIEZVTkNUSU9OUyAqL1xuXG4gIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsLCBwYXRoKSB7XG4gICAgLy8gSW52YWxpZCBVUkxcbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdXJsID09PSAnJykgcmV0dXJuICcnO1xuXG4gICAgLy8gSG9zdCBSZWxhdGl2ZSBVUkxcbiAgICBpZiAoL15odHRwcz86XFwvXFwvL2kudGVzdChwYXRoKSAmJiAvXlxcLy8udGVzdCh1cmwpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoLyheaHR0cHM/OlxcL1xcL1teXFwvXSspLiovaSwgJyQxJyk7XG4gICAgfVxuXG4gICAgLy8gQWJzb2x1dGUgVVJMIGh0dHA6Ly8saHR0cHM6Ly8sLy9cbiAgICBpZiAoL14oaHR0cHM/Oik/XFwvXFwvL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xuXG4gICAgLy8gRGF0YSBVUklcbiAgICBpZiAoL15kYXRhOi4qLC4qJC9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcblxuICAgIC8vIEJsb2IgVVJMXG4gICAgaWYgKC9eYmxvYjouKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAvLyBSZWxhdGl2ZSBVUkxcbiAgICByZXR1cm4gcGF0aCArIHVybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2RlZmF1bHQtbWF0ZXJpYWxcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNYXRlcmlhbChjYWNoZSkge1xuICAgIGlmIChjYWNoZVsnRGVmYXVsdE1hdGVyaWFsJ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID0gbmV3IE1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcbiAgICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICBlbWlzc2l2ZTogMHgwMDAwMDAsXG4gICAgICAgIG1ldGFsbmVzczogMSxcbiAgICAgICAgcm91Z2huZXNzOiAxLFxuICAgICAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgICAgIGRlcHRoVGVzdDogdHJ1ZSxcbiAgICAgICAgc2lkZTogRnJvbnRTaWRlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YShrbm93bkV4dGVuc2lvbnMsIG9iamVjdCwgb2JqZWN0RGVmKSB7XG4gICAgLy8gQWRkIHVua25vd24gZ2xURiBleHRlbnNpb25zIHRvIGFuIG9iamVjdCdzIHVzZXJEYXRhLlxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBvYmplY3REZWYuZXh0ZW5zaW9ucykge1xuICAgICAgaWYgKGtub3duRXh0ZW5zaW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyA9IG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgb2JqZWN0LnVzZXJEYXRhLmdsdGZFeHRlbnNpb25zW25hbWVdID0gb2JqZWN0RGVmLmV4dGVuc2lvbnNbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0M0R8TWF0ZXJpYWx8QnVmZmVyR2VvbWV0cnl9IG9iamVjdFxuICAgKiBAcGFyYW0ge0dMVEYuZGVmaW5pdGlvbn0gZ2x0ZkRlZlxuICAgKi9cbiAgZnVuY3Rpb24gYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShvYmplY3QsIGdsdGZEZWYpIHtcbiAgICBpZiAoZ2x0ZkRlZi5leHRyYXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBnbHRmRGVmLmV4dHJhcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvYmplY3QudXNlckRhdGEsIGdsdGZEZWYuZXh0cmFzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogSWdub3JpbmcgcHJpbWl0aXZlIHR5cGUgLmV4dHJhcywgJyArIGdsdGZEZWYuZXh0cmFzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtb3JwaC10YXJnZXRzXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XG4gICAqIEBwYXJhbSB7QXJyYXk8R0xURi5UYXJnZXQ+fSB0YXJnZXRzXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkTW9ycGhUYXJnZXRzKGdlb21ldHJ5LCB0YXJnZXRzLCBwYXJzZXIpIHtcbiAgICB2YXIgaGFzTW9ycGhQb3NpdGlvbiA9IGZhbHNlO1xuICAgIHZhciBoYXNNb3JwaE5vcm1hbCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSBoYXNNb3JwaFBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgIGlmICh0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWQpIGhhc01vcnBoTm9ybWFsID0gdHJ1ZTtcblxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24gJiYgaGFzTW9ycGhOb3JtYWwpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICghaGFzTW9ycGhQb3NpdGlvbiAmJiAhaGFzTW9ycGhOb3JtYWwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cnkpO1xuXG4gICAgdmFyIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICBpZiAoaGFzTW9ycGhQb3NpdGlvbikge1xuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cbiAgICAgICAgICAgICAgdGFyZ2V0LlBPU0lUSU9OICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHBhcnNlci5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHRhcmdldC5QT1NJVElPTilcbiAgICAgICAgICAgICAgICA6IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XG5cbiAgICAgICAgcGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzLnB1c2gocGVuZGluZ0FjY2Vzc29yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc01vcnBoTm9ybWFsKSB7XG4gICAgICAgIHZhciBwZW5kaW5nQWNjZXNzb3IgPVxuICAgICAgICAgICAgICB0YXJnZXQuTk9STUFMICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHBhcnNlci5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHRhcmdldC5OT1JNQUwpXG4gICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLm5vcm1hbDtcblxuICAgICAgICBwZW5kaW5nTm9ybWFsQWNjZXNzb3JzLnB1c2gocGVuZGluZ0FjY2Vzc29yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ1Bvc2l0aW9uQWNjZXNzb3JzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdOb3JtYWxBY2Nlc3NvcnMpLFxuICAgIF0pLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29ycykge1xuICAgICAgdmFyIG1vcnBoUG9zaXRpb25zID0gYWNjZXNzb3JzWzBdO1xuICAgICAgdmFyIG1vcnBoTm9ybWFscyA9IGFjY2Vzc29yc1sxXTtcblxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbiA9IG1vcnBoUG9zaXRpb25zO1xuICAgICAgaWYgKGhhc01vcnBoTm9ybWFsKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsID0gbW9ycGhOb3JtYWxzO1xuICAgICAgZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUgPSB0cnVlO1xuXG4gICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtNZXNofSBtZXNoXG4gICAqIEBwYXJhbSB7R0xURi5NZXNofSBtZXNoRGVmXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMobWVzaCwgbWVzaERlZikge1xuICAgIG1lc2gudXBkYXRlTW9ycGhUYXJnZXRzKCk7XG5cbiAgICBpZiAobWVzaERlZi53ZWlnaHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG1lc2hEZWYud2VpZ2h0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIG1lc2gubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbWVzaERlZi53ZWlnaHRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIC5leHRyYXMgaGFzIHVzZXItZGVmaW5lZCBkYXRhLCBzbyBjaGVjayB0aGF0IC5leHRyYXMudGFyZ2V0TmFtZXMgaXMgYW4gYXJyYXkuXG4gICAgaWYgKG1lc2hEZWYuZXh0cmFzICYmIEFycmF5LmlzQXJyYXkobWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXMpKSB7XG4gICAgICB2YXIgdGFyZ2V0TmFtZXMgPSBtZXNoRGVmLmV4dHJhcy50YXJnZXROYW1lcztcblxuICAgICAgaWYgKG1lc2gubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aCA9PT0gdGFyZ2V0TmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5ID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0TmFtZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgIG1lc2gubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3RhcmdldE5hbWVzW2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogSW52YWxpZCBleHRyYXMudGFyZ2V0TmFtZXMgbGVuZ3RoLiBJZ25vcmluZyBuYW1lcy4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVLZXkocHJpbWl0aXZlRGVmKSB7XG4gICAgdmFyIGRyYWNvRXh0ZW5zaW9uID1cbiAgICAgICAgICBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXTtcbiAgICB2YXIgZ2VvbWV0cnlLZXk7XG5cbiAgICBpZiAoZHJhY29FeHRlbnNpb24pIHtcbiAgICAgIGdlb21ldHJ5S2V5ID1cbiAgICAgICAgJ2RyYWNvOicgK1xuICAgICAgICBkcmFjb0V4dGVuc2lvbi5idWZmZXJWaWV3ICtcbiAgICAgICAgJzonICtcbiAgICAgICAgZHJhY29FeHRlbnNpb24uaW5kaWNlcyArXG4gICAgICAgICc6JyArXG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoZHJhY29FeHRlbnNpb24uYXR0cmlidXRlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlb21ldHJ5S2V5ID1cbiAgICAgICAgcHJpbWl0aXZlRGVmLmluZGljZXMgK1xuICAgICAgICAnOicgK1xuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzKSArXG4gICAgICAgICc6JyArXG4gICAgICAgIHByaW1pdGl2ZURlZi5tb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBnZW9tZXRyeUtleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZXNLZXkoYXR0cmlidXRlcykge1xuICAgIHZhciBhdHRyaWJ1dGVzS2V5ID0gJyc7XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLnNvcnQoKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGtleXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgYXR0cmlidXRlc0tleSArPSBrZXlzW2ldICsgJzonICsgYXR0cmlidXRlc1trZXlzW2ldXSArICc7JztcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlc0tleTtcbiAgfVxuXG4gIC8qIEdMVEYgUEFSU0VSICovXG5cbiAgZnVuY3Rpb24gR0xURlBhcnNlcihqc29uLCBleHRlbnNpb25zLCBvcHRpb25zKSB7XG4gICAgdGhpcy5qc29uID0ganNvbiB8fCB7fTtcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSBleHRlbnNpb25zIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBsb2FkZXIgb2JqZWN0IGNhY2hlXG4gICAgdGhpcy5jYWNoZSA9IG5ldyBHTFRGUmVnaXN0cnkoKTtcblxuICAgIC8vIEJ1ZmZlckdlb21ldHJ5IGNhY2hpbmdcbiAgICB0aGlzLnByaW1pdGl2ZUNhY2hlID0ge307XG5cbiAgICB0aGlzLnRleHR1cmVMb2FkZXIgPSBuZXcgVGV4dHVyZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XG4gICAgdGhpcy50ZXh0dXJlTG9hZGVyLnNldENyb3NzT3JpZ2luKHRoaXMub3B0aW9ucy5jcm9zc09yaWdpbik7XG5cbiAgICB0aGlzLmZpbGVMb2FkZXIgPSBuZXcgRmlsZUxvYWRlcih0aGlzLm9wdGlvbnMubWFuYWdlcik7XG4gICAgdGhpcy5maWxlTG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09ICd1c2UtY3JlZGVudGlhbHMnKSB7XG4gICAgICB0aGlzLmZpbGVMb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKG9uTG9hZCwgb25FcnJvcikge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuXG4gICAgLy8gQ2xlYXIgdGhlIGxvYWRlciBjYWNoZVxuICAgIHRoaXMuY2FjaGUucmVtb3ZlQWxsKCk7XG5cbiAgICAvLyBNYXJrIHRoZSBzcGVjaWFsIG5vZGVzL21lc2hlcyBpbiBqc29uIGZvciBlZmZpY2llbnQgcGFyc2VcbiAgICB0aGlzLm1hcmtEZWZzKCk7XG5cbiAgICBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnc2NlbmUnKSxcbiAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKCdhbmltYXRpb24nKSxcbiAgICAgIHRoaXMuZ2V0RGVwZW5kZW5jaWVzKCdjYW1lcmEnKSxcbiAgICBdKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRlcGVuZGVuY2llcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgIHNjZW5lOiBkZXBlbmRlbmNpZXNbMF1banNvbi5zY2VuZSB8fCAwXSxcbiAgICAgICAgICBzY2VuZXM6IGRlcGVuZGVuY2llc1swXSxcbiAgICAgICAgICBhbmltYXRpb25zOiBkZXBlbmRlbmNpZXNbMV0sXG4gICAgICAgICAgY2FtZXJhczogZGVwZW5kZW5jaWVzWzJdLFxuICAgICAgICAgIGFzc2V0OiBqc29uLmFzc2V0LFxuICAgICAgICAgIHBhcnNlcjogcGFyc2VyLFxuICAgICAgICAgIHVzZXJEYXRhOiB7fSxcbiAgICAgICAgfTtcblxuICAgICAgICBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgcmVzdWx0LCBqc29uKTtcblxuICAgICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKHJlc3VsdCwganNvbik7XG5cbiAgICAgICAgb25Mb2FkKHJlc3VsdCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKG9uRXJyb3IpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlLlxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubWFya0RlZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5vZGVEZWZzID0gdGhpcy5qc29uLm5vZGVzIHx8IFtdO1xuICAgIHZhciBza2luRGVmcyA9IHRoaXMuanNvbi5za2lucyB8fCBbXTtcbiAgICB2YXIgbWVzaERlZnMgPSB0aGlzLmpzb24ubWVzaGVzIHx8IFtdO1xuXG4gICAgdmFyIG1lc2hSZWZlcmVuY2VzID0ge307XG4gICAgdmFyIG1lc2hVc2VzID0ge307XG5cbiAgICAvLyBOb3RoaW5nIGluIHRoZSBub2RlIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXMgYSBCb25lIG9yIGFuXG4gICAgLy8gT2JqZWN0M0QuIFVzZSB0aGUgc2tpbnMnIGpvaW50IHJlZmVyZW5jZXMgdG8gbWFyayBib25lcy5cbiAgICBmb3IgKHZhciBza2luSW5kZXggPSAwLCBza2luTGVuZ3RoID0gc2tpbkRlZnMubGVuZ3RoOyBza2luSW5kZXggPCBza2luTGVuZ3RoOyBza2luSW5kZXgrKykge1xuICAgICAgdmFyIGpvaW50cyA9IHNraW5EZWZzW3NraW5JbmRleF0uam9pbnRzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBqb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBub2RlRGVmc1tqb2ludHNbaV1dLmlzQm9uZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWVzaGVzIGNhbiAoYW5kIHNob3VsZCkgYmUgcmV1c2VkIGJ5IG11bHRpcGxlIG5vZGVzIGluIGEgZ2xURiBhc3NldC4gVG9cbiAgICAvLyBhdm9pZCBoYXZpbmcgbW9yZSB0aGFuIG9uZSBNZXNoIHdpdGggdGhlIHNhbWUgbmFtZSwgY291bnRcbiAgICAvLyByZWZlcmVuY2VzIGFuZCByZW5hbWUgaW5zdGFuY2VzIGJlbG93LlxuICAgIC8vXG4gICAgLy8gRXhhbXBsZTogQ2VzaXVtTWlsa1RydWNrIHNhbXBsZSBtb2RlbCByZXVzZXMgXCJXaGVlbFwiIG1lc2hlcy5cbiAgICBmb3IgKHZhciBub2RlSW5kZXggPSAwLCBub2RlTGVuZ3RoID0gbm9kZURlZnMubGVuZ3RoOyBub2RlSW5kZXggPCBub2RlTGVuZ3RoOyBub2RlSW5kZXgrKykge1xuICAgICAgdmFyIG5vZGVEZWYgPSBub2RlRGVmc1tub2RlSW5kZXhdO1xuXG4gICAgICBpZiAobm9kZURlZi5tZXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0gPSBtZXNoVXNlc1tub2RlRGVmLm1lc2hdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2hSZWZlcmVuY2VzW25vZGVEZWYubWVzaF0rKztcblxuICAgICAgICAvLyBOb3RoaW5nIGluIHRoZSBtZXNoIGRlZmluaXRpb24gaW5kaWNhdGVzIHdoZXRoZXIgaXQgaXNcbiAgICAgICAgLy8gYSBTa2lubmVkTWVzaCBvciBNZXNoLiBVc2UgdGhlIG5vZGUncyBtZXNoIHJlZmVyZW5jZVxuICAgICAgICAvLyB0byBtYXJrIFNraW5uZWRNZXNoIGlmIG5vZGUgaGFzIHNraW4uXG4gICAgICAgIGlmIChub2RlRGVmLnNraW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1lc2hEZWZzW25vZGVEZWYubWVzaF0uaXNTa2lubmVkTWVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmpzb24ubWVzaFJlZmVyZW5jZXMgPSBtZXNoUmVmZXJlbmNlcztcbiAgICB0aGlzLmpzb24ubWVzaFVzZXMgPSBtZXNoVXNlcztcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgdGhlIHNwZWNpZmllZCBkZXBlbmRlbmN5IGFzeW5jaHJvbm91c2x5LCB3aXRoIGNhY2hpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEfE1hdGVyaWFsfFRIUkVFLlRleHR1cmV8QW5pbWF0aW9uQ2xpcHxBcnJheUJ1ZmZlcnxPYmplY3Q+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jeSA9IGZ1bmN0aW9uICh0eXBlLCBpbmRleCkge1xuICAgIHZhciBjYWNoZUtleSA9IHR5cGUgKyAnOicgKyBpbmRleDtcbiAgICB2YXIgZGVwZW5kZW5jeSA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgIGlmICghZGVwZW5kZW5jeSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NjZW5lJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2NlbmUoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ25vZGUnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWROb2RlKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZXNoJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTWVzaChpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYWNjZXNzb3InOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBY2Nlc3NvcihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYnVmZmVyVmlldyc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlclZpZXcoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2J1ZmZlcic6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZEJ1ZmZlcihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWF0ZXJpYWwnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRNYXRlcmlhbChpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndGV4dHVyZSc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFRleHR1cmUoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3NraW4nOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRTa2luKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdhbmltYXRpb24nOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRBbmltYXRpb24oaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NhbWVyYSc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZENhbWVyYShpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5sb2FkTGlnaHQoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHR5cGU6ICcgKyB0eXBlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIGRlcGVuZGVuY3kpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXBlbmRlbmN5O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBhbGwgZGVwZW5kZW5jaWVzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PE9iamVjdD4+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gdGhpcy5jYWNoZS5nZXQodHlwZSk7XG5cbiAgICBpZiAoIWRlcGVuZGVuY2llcykge1xuICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgICB2YXIgZGVmcyA9IHRoaXMuanNvblt0eXBlICsgKHR5cGUgPT09ICdtZXNoJyA/ICdlcycgOiAncycpXSB8fCBbXTtcblxuICAgICAgZGVwZW5kZW5jaWVzID0gUHJvbWlzZS5hbGwoXG4gICAgICAgIGRlZnMubWFwKGZ1bmN0aW9uIChkZWYsIGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KHR5cGUsIGluZGV4KTtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY2FjaGUuYWRkKHR5cGUsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlckluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXlCdWZmZXI+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEJ1ZmZlciA9IGZ1bmN0aW9uIChidWZmZXJJbmRleCkge1xuICAgIHZhciBidWZmZXJEZWYgPSB0aGlzLmpzb24uYnVmZmVyc1tidWZmZXJJbmRleF07XG4gICAgdmFyIGxvYWRlciA9IHRoaXMuZmlsZUxvYWRlcjtcblxuICAgIGlmIChidWZmZXJEZWYudHlwZSAmJiBidWZmZXJEZWYudHlwZSAhPT0gJ2FycmF5YnVmZmVyJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiAnICsgYnVmZmVyRGVmLnR5cGUgKyAnIGJ1ZmZlciB0eXBlIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgfVxuXG4gICAgLy8gSWYgcHJlc2VudCwgR0xCIGNvbnRhaW5lciBpcyByZXF1aXJlZCB0byBiZSB0aGUgZmlyc3QgYnVmZmVyLlxuICAgIGlmIChidWZmZXJEZWYudXJpID09PSB1bmRlZmluZWQgJiYgYnVmZmVySW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXS5ib2R5KTtcbiAgICB9XG5cbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBsb2FkZXIubG9hZChyZXNvbHZlVVJMKGJ1ZmZlckRlZi51cmksIG9wdGlvbnMucGF0aCksIHJlc29sdmUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBGYWlsZWQgdG8gbG9hZCBidWZmZXIgXCInICsgYnVmZmVyRGVmLnVyaSArICdcIi4nKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNidWZmZXJzLWFuZC1idWZmZXItdmlld3NcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJ1ZmZlclZpZXdJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKGJ1ZmZlclZpZXdJbmRleCkge1xuICAgIHZhciBidWZmZXJWaWV3RGVmID0gdGhpcy5qc29uLmJ1ZmZlclZpZXdzW2J1ZmZlclZpZXdJbmRleF07XG5cbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXInLCBidWZmZXJWaWV3RGVmLmJ1ZmZlcikudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICB2YXIgYnl0ZUxlbmd0aCA9IGJ1ZmZlclZpZXdEZWYuYnl0ZUxlbmd0aCB8fCAwO1xuICAgICAgdmFyIGJ5dGVPZmZzZXQgPSBidWZmZXJWaWV3RGVmLmJ5dGVPZmZzZXQgfHwgMDtcbiAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGJ5dGVMZW5ndGgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2FjY2Vzc29yc1xuICAgKiBAcGFyYW0ge251bWJlcn0gYWNjZXNzb3JJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckF0dHJpYnV0ZXxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQWNjZXNzb3IgPSBmdW5jdGlvbiAoYWNjZXNzb3JJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuXG4gICAgdmFyIGFjY2Vzc29yRGVmID0gdGhpcy5qc29uLmFjY2Vzc29yc1thY2Nlc3NvckluZGV4XTtcblxuICAgIGlmIChhY2Nlc3NvckRlZi5idWZmZXJWaWV3ID09PSB1bmRlZmluZWQgJiYgYWNjZXNzb3JEZWYuc3BhcnNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIElnbm9yZSBlbXB0eSBhY2Nlc3NvcnMsIHdoaWNoIG1heSBiZSB1c2VkIHRvIGRlY2xhcmUgcnVudGltZVxuICAgICAgLy8gaW5mb3JtYXRpb24gYWJvdXQgYXR0cmlidXRlcyBjb21pbmcgZnJvbSBhbm90aGVyIHNvdXJjZSAoZS5nLiBEcmFjb1xuICAgICAgLy8gY29tcHJlc3Npb24gZXh0ZW5zaW9uKS5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHBlbmRpbmdCdWZmZXJWaWV3cyA9IFtdO1xuXG4gICAgaWYgKGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2godGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuYnVmZmVyVmlldykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChudWxsKTtcbiAgICB9XG5cbiAgICBpZiAoYWNjZXNzb3JEZWYuc3BhcnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKFxuICAgICAgICB0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5idWZmZXJWaWV3KVxuICAgICAgKTtcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKFxuICAgICAgICB0aGlzLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ1ZmZlclZpZXcpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nQnVmZmVyVmlld3MpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlclZpZXdzKSB7XG4gICAgICB2YXIgYnVmZmVyVmlldyA9IGJ1ZmZlclZpZXdzWzBdO1xuXG4gICAgICB2YXIgaXRlbVNpemUgPSBXRUJHTF9UWVBFX1NJWkVTW2FjY2Vzc29yRGVmLnR5cGVdO1xuICAgICAgdmFyIFR5cGVkQXJyYXkgPSBXRUJHTF9DT01QT05FTlRfVFlQRVNbYWNjZXNzb3JEZWYuY29tcG9uZW50VHlwZV07XG5cbiAgICAgIC8vIEZvciBWRUMzOiBpdGVtU2l6ZSBpcyAzLCBlbGVtZW50Qnl0ZXMgaXMgNCwgaXRlbUJ5dGVzIGlzIDEyLlxuICAgICAgdmFyIGVsZW1lbnRCeXRlcyA9IFR5cGVkQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICB2YXIgaXRlbUJ5dGVzID0gZWxlbWVudEJ5dGVzICogaXRlbVNpemU7XG4gICAgICB2YXIgYnl0ZU9mZnNldCA9IGFjY2Vzc29yRGVmLmJ5dGVPZmZzZXQgfHwgMDtcbiAgICAgIHZhciBieXRlU3RyaWRlID1cbiAgICAgICAgICAgIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGpzb24uYnVmZmVyVmlld3NbYWNjZXNzb3JEZWYuYnVmZmVyVmlld10uYnl0ZVN0cmlkZVxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciBub3JtYWxpemVkID0gYWNjZXNzb3JEZWYubm9ybWFsaXplZCA9PT0gdHJ1ZTtcbiAgICAgIHZhciBhcnJheSwgYnVmZmVyQXR0cmlidXRlO1xuXG4gICAgICAvLyBUaGUgYnVmZmVyIGlzIG5vdCBpbnRlcmxlYXZlZCBpZiB0aGUgc3RyaWRlIGlzIHRoZSBpdGVtIHNpemUgaW4gYnl0ZXMuXG4gICAgICBpZiAoYnl0ZVN0cmlkZSAmJiBieXRlU3RyaWRlICE9PSBpdGVtQnl0ZXMpIHtcbiAgICAgICAgLy8gRWFjaCBcInNsaWNlXCIgb2YgdGhlIGJ1ZmZlciwgYXMgZGVmaW5lZCBieSAnY291bnQnIGVsZW1lbnRzIG9mICdieXRlU3RyaWRlJyBieXRlcywgZ2V0cyBpdHMgb3duIEludGVybGVhdmVkQnVmZmVyXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgc3VyZSB0aGF0IElCQS5jb3VudCByZWZsZWN0cyBhY2Nlc3Nvci5jb3VudCBwcm9wZXJseVxuICAgICAgICB2YXIgaWJTbGljZSA9IE1hdGguZmxvb3IoYnl0ZU9mZnNldCAvIGJ5dGVTdHJpZGUpO1xuICAgICAgICB2YXIgaWJDYWNoZUtleSA9XG4gICAgICAgICAgICAgICdJbnRlcmxlYXZlZEJ1ZmZlcjonICtcbiAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuYnVmZmVyVmlldyArXG4gICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGUgK1xuICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICBpYlNsaWNlICtcbiAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgYWNjZXNzb3JEZWYuY291bnQ7XG4gICAgICAgIHZhciBpYiA9IHBhcnNlci5jYWNoZS5nZXQoaWJDYWNoZUtleSk7XG5cbiAgICAgICAgaWYgKCFpYikge1xuICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoXG4gICAgICAgICAgICBidWZmZXJWaWV3LFxuICAgICAgICAgICAgaWJTbGljZSAqIGJ5dGVTdHJpZGUsXG4gICAgICAgICAgICAoYWNjZXNzb3JEZWYuY291bnQgKiBieXRlU3RyaWRlKSAvIGVsZW1lbnRCeXRlc1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBJbnRlZ2VyIHBhcmFtZXRlcnMgdG8gSUIvSUJBIGFyZSBpbiBhcnJheSBlbGVtZW50cywgbm90IGJ5dGVzLlxuICAgICAgICAgIGliID0gbmV3IEludGVybGVhdmVkQnVmZmVyKGFycmF5LCBieXRlU3RyaWRlIC8gZWxlbWVudEJ5dGVzKTtcblxuICAgICAgICAgIHBhcnNlci5jYWNoZS5hZGQoaWJDYWNoZUtleSwgaWIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxuICAgICAgICAgIGliLFxuICAgICAgICAgIGl0ZW1TaXplLFxuICAgICAgICAgIChieXRlT2Zmc2V0ICUgYnl0ZVN0cmlkZSkgLyBlbGVtZW50Qnl0ZXMsXG4gICAgICAgICAgbm9ybWFsaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJ1ZmZlclZpZXcgPT09IG51bGwpIHtcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYnVmZmVyVmlldywgYnl0ZU9mZnNldCwgYWNjZXNzb3JEZWYuY291bnQgKiBpdGVtU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjc3BhcnNlLWFjY2Vzc29yc1xuICAgICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBpdGVtU2l6ZUluZGljZXMgPSBXRUJHTF9UWVBFX1NJWkVTLlNDQUxBUjtcbiAgICAgICAgdmFyIFR5cGVkQXJyYXlJbmRpY2VzID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgIHZhciBieXRlT2Zmc2V0SW5kaWNlcyA9IGFjY2Vzc29yRGVmLnNwYXJzZS5pbmRpY2VzLmJ5dGVPZmZzZXQgfHwgMDtcbiAgICAgICAgdmFyIGJ5dGVPZmZzZXRWYWx1ZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UudmFsdWVzLmJ5dGVPZmZzZXQgfHwgMDtcblxuICAgICAgICB2YXIgc3BhcnNlSW5kaWNlcyA9IG5ldyBUeXBlZEFycmF5SW5kaWNlcyhcbiAgICAgICAgICBidWZmZXJWaWV3c1sxXSxcbiAgICAgICAgICBieXRlT2Zmc2V0SW5kaWNlcyxcbiAgICAgICAgICBhY2Nlc3NvckRlZi5zcGFyc2UuY291bnQgKiBpdGVtU2l6ZUluZGljZXNcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHNwYXJzZVZhbHVlcyA9IG5ldyBUeXBlZEFycmF5KFxuICAgICAgICAgIGJ1ZmZlclZpZXdzWzJdLFxuICAgICAgICAgIGJ5dGVPZmZzZXRWYWx1ZXMsXG4gICAgICAgICAgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoYnVmZmVyVmlldyAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIEF2b2lkIG1vZGlmeWluZyB0aGUgb3JpZ2luYWwgQXJyYXlCdWZmZXIsIGlmIHRoZSBidWZmZXJWaWV3IHdhc24ndCBpbml0aWFsaXplZCB3aXRoIHplcm9lcy5cbiAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLmFycmF5LnNsaWNlKCksXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUuaXRlbVNpemUsXG4gICAgICAgICAgICBidWZmZXJBdHRyaWJ1dGUubm9ybWFsaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBzcGFyc2VJbmRpY2VzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzcGFyc2VJbmRpY2VzW2ldO1xuXG4gICAgICAgICAgYnVmZmVyQXR0cmlidXRlLnNldFgoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemVdKTtcbiAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gMikgYnVmZmVyQXR0cmlidXRlLnNldFkoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemUgKyAxXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDMpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRaKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgMl0pO1xuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSA0KSBidWZmZXJBdHRyaWJ1dGUuc2V0VyhpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDNdKTtcbiAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gNSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogVW5zdXBwb3J0ZWQgaXRlbVNpemUgaW4gc3BhcnNlIEJ1ZmZlckF0dHJpYnV0ZS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmZmVyQXR0cmlidXRlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjdGV4dHVyZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRleHR1cmVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLlRleHR1cmU+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZUluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgdmFyIHRleHR1cmVMb2FkZXIgPSB0aGlzLnRleHR1cmVMb2FkZXI7XG5cbiAgICB2YXIgVVJMID0gc2VsZi5VUkwgfHwgc2VsZi53ZWJraXRVUkw7XG5cbiAgICB2YXIgdGV4dHVyZURlZiA9IGpzb24udGV4dHVyZXNbdGV4dHVyZUluZGV4XTtcblxuICAgIHZhciB0ZXh0dXJlRXh0ZW5zaW9ucyA9IHRleHR1cmVEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcblxuICAgIHZhciBzb3VyY2U7XG5cbiAgICBpZiAodGV4dHVyZUV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXSkge1xuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZUV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXS5zb3VyY2VdO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb3VyY2UgPSBqc29uLmltYWdlc1t0ZXh0dXJlRGVmLnNvdXJjZV07XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZVVSSSA9IHNvdXJjZS51cmk7XG4gICAgdmFyIGlzT2JqZWN0VVJMID0gZmFsc2U7XG5cbiAgICBpZiAoc291cmNlLmJ1ZmZlclZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gTG9hZCBiaW5hcnkgaW1hZ2UgZGF0YSBmcm9tIGJ1ZmZlclZpZXcsIGlmIHByb3ZpZGVkLlxuXG4gICAgICBzb3VyY2VVUkkgPSBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIHNvdXJjZS5idWZmZXJWaWV3KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XG4gICAgICAgIGlzT2JqZWN0VVJMID0gdHJ1ZTtcbiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbYnVmZmVyVmlld10sIHsgdHlwZTogc291cmNlLm1pbWVUeXBlIH0pO1xuICAgICAgICBzb3VyY2VVUkkgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICByZXR1cm4gc291cmNlVVJJO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzb3VyY2VVUkkpXG4gICAgICAudGhlbihmdW5jdGlvbiAoc291cmNlVVJJKSB7XG4gICAgICAgIC8vIExvYWQgVGV4dHVyZSByZXNvdXJjZS5cblxuICAgICAgICB2YXIgbG9hZGVyID0gb3B0aW9ucy5tYW5hZ2VyLmdldEhhbmRsZXIoc291cmNlVVJJKTtcblxuICAgICAgICBpZiAoIWxvYWRlcikge1xuICAgICAgICAgIGxvYWRlciA9IHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU11cbiAgICAgICAgICAgID8gcGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTXS5kZHNMb2FkZXJcbiAgICAgICAgICAgIDogdGV4dHVyZUxvYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgbG9hZGVyLmxvYWQocmVzb2x2ZVVSTChzb3VyY2VVUkksIG9wdGlvbnMucGF0aCksIHJlc29sdmUsIHVuZGVmaW5lZCwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVzb3VyY2VzIGFuZCBjb25maWd1cmUgVGV4dHVyZS5cblxuICAgICAgICBpZiAoaXNPYmplY3RVUkwgPT09IHRydWUpIHtcbiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHNvdXJjZVVSSSk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRleHR1cmVEZWYubmFtZSkgdGV4dHVyZS5uYW1lID0gdGV4dHVyZURlZi5uYW1lO1xuXG4gICAgICAgIC8vIElnbm9yZSB1bmtub3duIG1pbWUgdHlwZXMsIGxpa2UgRERTIGZpbGVzLlxuICAgICAgICBpZiAoc291cmNlLm1pbWVUeXBlIGluIE1JTUVfVFlQRV9GT1JNQVRTKSB7XG4gICAgICAgICAgdGV4dHVyZS5mb3JtYXQgPSBNSU1FX1RZUEVfRk9STUFUU1tzb3VyY2UubWltZVR5cGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNhbXBsZXJzID0ganNvbi5zYW1wbGVycyB8fCB7fTtcbiAgICAgICAgdmFyIHNhbXBsZXIgPSBzYW1wbGVyc1t0ZXh0dXJlRGVmLnNhbXBsZXJdIHx8IHt9O1xuXG4gICAgICAgIHRleHR1cmUubWFnRmlsdGVyID0gV0VCR0xfRklMVEVSU1tzYW1wbGVyLm1hZ0ZpbHRlcl0gfHwgTGluZWFyRmlsdGVyO1xuICAgICAgICB0ZXh0dXJlLm1pbkZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbc2FtcGxlci5taW5GaWx0ZXJdIHx8IExpbmVhck1pcG1hcExpbmVhckZpbHRlcjtcbiAgICAgICAgdGV4dHVyZS53cmFwUyA9IFdFQkdMX1dSQVBQSU5HU1tzYW1wbGVyLndyYXBTXSB8fCBSZXBlYXRXcmFwcGluZztcbiAgICAgICAgdGV4dHVyZS53cmFwVCA9IFdFQkdMX1dSQVBQSU5HU1tzYW1wbGVyLndyYXBUXSB8fCBSZXBlYXRXcmFwcGluZztcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBhc3NpZ25zIGEgdGV4dHVyZSB0byB0aGUgZ2l2ZW4gbWF0ZXJpYWwgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG1hdGVyaWFsUGFyYW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXBOYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXBEZWZcbiAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnblRleHR1cmUgPSBmdW5jdGlvbiAobWF0ZXJpYWxQYXJhbXMsIG1hcE5hbWUsIG1hcERlZikge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgndGV4dHVyZScsIG1hcERlZi5pbmRleCkudGhlbihmdW5jdGlvbiAodGV4dHVyZSkge1xuICAgICAgaWYgKCF0ZXh0dXJlLmlzQ29tcHJlc3NlZFRleHR1cmUpIHtcbiAgICAgICAgc3dpdGNoIChtYXBOYW1lKSB7XG4gICAgICAgICAgY2FzZSAnYW9NYXAnOlxuICAgICAgICAgIGNhc2UgJ2VtaXNzaXZlTWFwJzpcbiAgICAgICAgICBjYXNlICdtZXRhbG5lc3NNYXAnOlxuICAgICAgICAgIGNhc2UgJ25vcm1hbE1hcCc6XG4gICAgICAgICAgY2FzZSAncm91Z2huZXNzTWFwJzpcbiAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0ID0gUkdCRm9ybWF0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gTWF0ZXJpYWxzIHNhbXBsZSBhb01hcCBmcm9tIFVWIHNldCAxIGFuZCBvdGhlciBtYXBzIGZyb20gVVYgc2V0IDAgLSB0aGlzIGNhbid0IGJlIGNvbmZpZ3VyZWRcbiAgICAgIC8vIEhvd2V2ZXIsIHdlIHdpbGwgY29weSBVViBzZXQgMCB0byBVViBzZXQgMSBvbiBkZW1hbmQgZm9yIGFvTWFwXG4gICAgICBpZiAoXG4gICAgICAgIG1hcERlZi50ZXhDb29yZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG1hcERlZi50ZXhDb29yZCAhPSAwICYmXG4gICAgICAgICEobWFwTmFtZSA9PT0gJ2FvTWFwJyAmJiBtYXBEZWYudGV4Q29vcmQgPT0gMSlcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXQgJyArXG4gICAgICAgICAgbWFwRGVmLnRleENvb3JkICtcbiAgICAgICAgICAnIGZvciB0ZXh0dXJlICcgK1xuICAgICAgICAgIG1hcE5hbWUgK1xuICAgICAgICAgICcgbm90IHlldCBzdXBwb3J0ZWQuJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyc2VyLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dKSB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm0gPVxuICAgICAgICAgICAgICBtYXBEZWYuZXh0ZW5zaW9ucyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBtYXBEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgdGV4dHVyZSA9IHBhcnNlci5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXS5leHRlbmRUZXh0dXJlKFxuICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWxQYXJhbXNbbWFwTmFtZV0gPSB0ZXh0dXJlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3NpZ25zIGZpbmFsIG1hdGVyaWFsIHRvIGEgTWVzaCwgTGluZSwgb3IgUG9pbnRzIGluc3RhbmNlLiBUaGUgaW5zdGFuY2VcbiAgICogYWxyZWFkeSBoYXMgYSBtYXRlcmlhbCAoZ2VuZXJhdGVkIGZyb20gdGhlIGdsVEYgbWF0ZXJpYWwgb3B0aW9ucyBhbG9uZSlcbiAgICogYnV0IHJldXNlIG9mIHRoZSBzYW1lIGdsVEYgbWF0ZXJpYWwgbWF5IHJlcXVpcmUgbXVsdGlwbGUgdGhyZWVqcyBtYXRlcmlhbHNcbiAgICogdG8gYWNjb21vZGF0ZSBkaWZmZXJlbnQgcHJpbWl0aXZlIHR5cGVzLCBkZWZpbmVzLCBldGMuIE5ldyBtYXRlcmlhbHMgd2lsbFxuICAgKiBiZSBjcmVhdGVkIGlmIG5lY2Vzc2FyeSwgYW5kIHJldXNlZCBmcm9tIGEgY2FjaGUuXG4gICAqIEBwYXJhbSAge09iamVjdDNEfSBtZXNoIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS5cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmFzc2lnbkZpbmFsTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWVzaCkge1xuICAgIHZhciBnZW9tZXRyeSA9IG1lc2guZ2VvbWV0cnk7XG4gICAgdmFyIG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcblxuICAgIHZhciB1c2VWZXJ0ZXhUYW5nZW50cyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciB1c2VWZXJ0ZXhDb2xvcnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yICE9PSB1bmRlZmluZWQ7XG4gICAgdmFyIHVzZUZsYXRTaGFkaW5nID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgdXNlU2tpbm5pbmcgPSBtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWU7XG4gICAgdmFyIHVzZU1vcnBoVGFyZ2V0cyA9IE9iamVjdC5rZXlzKGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoID4gMDtcbiAgICB2YXIgdXNlTW9ycGhOb3JtYWxzID0gdXNlTW9ycGhUYXJnZXRzICYmIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWwgIT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChtZXNoLmlzUG9pbnRzKSB7XG4gICAgICB2YXIgY2FjaGVLZXkgPSAnUG9pbnRzTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQ7XG5cbiAgICAgIHZhciBwb2ludHNNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCFwb2ludHNNYXRlcmlhbCkge1xuICAgICAgICBwb2ludHNNYXRlcmlhbCA9IG5ldyBQb2ludHNNYXRlcmlhbCgpO1xuICAgICAgICBNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHBvaW50c01hdGVyaWFsLCBtYXRlcmlhbCk7XG4gICAgICAgIHBvaW50c01hdGVyaWFsLmNvbG9yLmNvcHkobWF0ZXJpYWwuY29sb3IpO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5tYXAgPSBtYXRlcmlhbC5tYXA7XG4gICAgICAgIHBvaW50c01hdGVyaWFsLnNpemVBdHRlbnVhdGlvbiA9IGZhbHNlOyAvLyBnbFRGIHNwZWMgc2F5cyBwb2ludHMgc2hvdWxkIGJlIDFweFxuXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBwb2ludHNNYXRlcmlhbCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gcG9pbnRzTWF0ZXJpYWw7XG4gICAgfSBlbHNlIGlmIChtZXNoLmlzTGluZSkge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gJ0xpbmVCYXNpY01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG4gICAgICB2YXIgbGluZU1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xuXG4gICAgICBpZiAoIWxpbmVNYXRlcmlhbCkge1xuICAgICAgICBsaW5lTWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTtcbiAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChsaW5lTWF0ZXJpYWwsIG1hdGVyaWFsKTtcbiAgICAgICAgbGluZU1hdGVyaWFsLmNvbG9yLmNvcHkobWF0ZXJpYWwuY29sb3IpO1xuXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBsaW5lTWF0ZXJpYWwpO1xuICAgICAgfVxuXG4gICAgICBtYXRlcmlhbCA9IGxpbmVNYXRlcmlhbDtcbiAgICB9XG5cbiAgICAvLyBDbG9uZSB0aGUgbWF0ZXJpYWwgaWYgaXQgd2lsbCBiZSBtb2RpZmllZFxuICAgIGlmICh1c2VWZXJ0ZXhUYW5nZW50cyB8fCB1c2VWZXJ0ZXhDb2xvcnMgfHwgdXNlRmxhdFNoYWRpbmcgfHwgdXNlU2tpbm5pbmcgfHwgdXNlTW9ycGhUYXJnZXRzKSB7XG4gICAgICB2YXIgY2FjaGVLZXkgPSAnQ2xvbmVkTWF0ZXJpYWw6JyArIG1hdGVyaWFsLnV1aWQgKyAnOic7XG5cbiAgICAgIGlmIChtYXRlcmlhbC5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCkgY2FjaGVLZXkgKz0gJ3NwZWN1bGFyLWdsb3NzaW5lc3M6JztcbiAgICAgIGlmICh1c2VTa2lubmluZykgY2FjaGVLZXkgKz0gJ3NraW5uaW5nOic7XG4gICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlS2V5ICs9ICd2ZXJ0ZXgtdGFuZ2VudHM6JztcbiAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlS2V5ICs9ICd2ZXJ0ZXgtY29sb3JzOic7XG4gICAgICBpZiAodXNlRmxhdFNoYWRpbmcpIGNhY2hlS2V5ICs9ICdmbGF0LXNoYWRpbmc6JztcbiAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlS2V5ICs9ICdtb3JwaC10YXJnZXRzOic7XG4gICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZUtleSArPSAnbW9ycGgtbm9ybWFsczonO1xuXG4gICAgICB2YXIgY2FjaGVkTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgIGlmICghY2FjaGVkTWF0ZXJpYWwpIHtcbiAgICAgICAgY2FjaGVkTWF0ZXJpYWwgPSBtYXRlcmlhbC5jbG9uZSgpO1xuXG4gICAgICAgIGlmICh1c2VTa2lubmluZykgY2FjaGVkTWF0ZXJpYWwuc2tpbm5pbmcgPSB0cnVlO1xuICAgICAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleFRhbmdlbnRzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZVZlcnRleENvbG9ycykgY2FjaGVkTWF0ZXJpYWwudmVydGV4Q29sb3JzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZUZsYXRTaGFkaW5nKSBjYWNoZWRNYXRlcmlhbC5mbGF0U2hhZGluZyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VNb3JwaFRhcmdldHMpIGNhY2hlZE1hdGVyaWFsLm1vcnBoVGFyZ2V0cyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VNb3JwaE5vcm1hbHMpIGNhY2hlZE1hdGVyaWFsLm1vcnBoTm9ybWFscyA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jYWNoZS5hZGQoY2FjaGVLZXksIGNhY2hlZE1hdGVyaWFsKTtcbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWwgPSBjYWNoZWRNYXRlcmlhbDtcbiAgICB9XG5cbiAgICAvLyB3b3JrYXJvdW5kcyBmb3IgbWVzaCBhbmQgZ2VvbWV0cnlcblxuICAgIGlmIChcbiAgICAgIG1hdGVyaWFsLmFvTWFwICYmXG4gICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2MiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSgndXYyJywgZ2VvbWV0cnkuYXR0cmlidXRlcy51dik7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTE0MzgjaXNzdWVjb21tZW50LTUwNzAwMzk5NVxuICAgIGlmIChtYXRlcmlhbC5ub3JtYWxTY2FsZSAmJiAhdXNlVmVydGV4VGFuZ2VudHMpIHtcbiAgICAgIG1hdGVyaWFsLm5vcm1hbFNjYWxlLnkgPSAtbWF0ZXJpYWwubm9ybWFsU2NhbGUueTtcbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XG4gICAgICBtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZS55ID0gLW1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlLnk7XG4gICAgfVxuXG4gICAgbWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI21hdGVyaWFsc1xuICAgKiBAcGFyYW0ge251bWJlcn0gbWF0ZXJpYWxJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE1hdGVyaWFsPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChtYXRlcmlhbEluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIG1hdGVyaWFsRGVmID0ganNvbi5tYXRlcmlhbHNbbWF0ZXJpYWxJbmRleF07XG5cbiAgICB2YXIgbWF0ZXJpYWxUeXBlO1xuICAgIHZhciBtYXRlcmlhbFBhcmFtcyA9IHt9O1xuICAgIHZhciBtYXRlcmlhbEV4dGVuc2lvbnMgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zIHx8IHt9O1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXSkge1xuICAgICAgdmFyIHNnRXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdO1xuICAgICAgbWF0ZXJpYWxUeXBlID0gc2dFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goc2dFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSk7XG4gICAgfSBlbHNlIGlmIChtYXRlcmlhbEV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUXSkge1xuICAgICAgdmFyIGttdUV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUXTtcbiAgICAgIG1hdGVyaWFsVHlwZSA9IGttdUV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcbiAgICAgIHBlbmRpbmcucHVzaChrbXVFeHRlbnNpb24uZXh0ZW5kUGFyYW1zKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNwZWNpZmljYXRpb246XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbWV0YWxsaWMtcm91Z2huZXNzLW1hdGVyaWFsXG5cbiAgICAgIG1hdGVyaWFsVHlwZSA9IE1lc2hTdGFuZGFyZE1hdGVyaWFsO1xuXG4gICAgICB2YXIgbWV0YWxsaWNSb3VnaG5lc3MgPSBtYXRlcmlhbERlZi5wYnJNZXRhbGxpY1JvdWdobmVzcyB8fCB7fTtcblxuICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gMS4wO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWxQYXJhbXMubWV0YWxuZXNzID1cbiAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgIT09IHVuZGVmaW5lZCA/IG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yIDogMS4wO1xuICAgICAgbWF0ZXJpYWxQYXJhbXMucm91Z2huZXNzID1cbiAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgOiAxLjA7XG5cbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAgICdtZXRhbG5lc3NNYXAnLFxuICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAgICdyb3VnaG5lc3NNYXAnLFxuICAgICAgICAgICAgbWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRlcmlhbERlZi5kb3VibGVTaWRlZCA9PT0gdHJ1ZSkge1xuICAgICAgbWF0ZXJpYWxQYXJhbXMuc2lkZSA9IERvdWJsZVNpZGU7XG4gICAgfVxuXG4gICAgdmFyIGFscGhhTW9kZSA9IG1hdGVyaWFsRGVmLmFscGhhTW9kZSB8fCBBTFBIQV9NT0RFUy5PUEFRVUU7XG5cbiAgICBpZiAoYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5CTEVORCkge1xuICAgICAgbWF0ZXJpYWxQYXJhbXMudHJhbnNwYXJlbnQgPSB0cnVlO1xuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE3NzA2XG4gICAgICBtYXRlcmlhbFBhcmFtcy5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gZmFsc2U7XG5cbiAgICAgIGlmIChhbHBoYU1vZGUgPT09IEFMUEhBX01PREVTLk1BU0spIHtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuYWxwaGFUZXN0ID1cbiAgICAgICAgICBtYXRlcmlhbERlZi5hbHBoYUN1dG9mZiAhPT0gdW5kZWZpbmVkID8gbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgOiAwLjU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XG4gICAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdub3JtYWxNYXAnLCBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlKSk7XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlID0gbmV3IFZlY3RvcjIoMSwgMSk7XG5cbiAgICAgIGlmIChtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMubm9ybWFsU2NhbGUuc2V0KFxuICAgICAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGUsXG4gICAgICAgICAgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnYW9NYXAnLCBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlKSk7XG5cbiAgICAgIGlmIChtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuYW9NYXBJbnRlbnNpdHkgPSBtYXRlcmlhbERlZi5vY2NsdXNpb25UZXh0dXJlLnN0cmVuZ3RoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3RvciAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKCkuZnJvbUFycmF5KG1hdGVyaWFsRGVmLmVtaXNzaXZlRmFjdG9yKTtcbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2VtaXNzaXZlTWFwJywgbWF0ZXJpYWxEZWYuZW1pc3NpdmVUZXh0dXJlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVRdKSB7XG4gICAgICB2YXIgY2xlYXJjb2F0RXh0ZW5zaW9uID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUXTtcbiAgICAgIG1hdGVyaWFsVHlwZSA9IGNsZWFyY29hdEV4dGVuc2lvbi5nZXRNYXRlcmlhbFR5cGUoKTtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgY2xlYXJjb2F0RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgeyBleHRlbnNpb25zOiBtYXRlcmlhbEV4dGVuc2lvbnMgfSwgcGFyc2VyKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0ZXJpYWw7XG5cbiAgICAgIGlmIChtYXRlcmlhbFR5cGUgPT09IEdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsKSB7XG4gICAgICAgIG1hdGVyaWFsID0gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1NdLmNyZWF0ZU1hdGVyaWFsKFxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRlcmlhbCA9IG5ldyBtYXRlcmlhbFR5cGUobWF0ZXJpYWxQYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYubmFtZSkgbWF0ZXJpYWwubmFtZSA9IG1hdGVyaWFsRGVmLm5hbWU7XG5cbiAgICAgIC8vIGJhc2VDb2xvclRleHR1cmUsIGVtaXNzaXZlVGV4dHVyZSwgYW5kIHNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmUgdXNlIHNSR0IgZW5jb2RpbmcuXG4gICAgICBpZiAobWF0ZXJpYWwubWFwKSBtYXRlcmlhbC5tYXAuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICBpZiAobWF0ZXJpYWwuZW1pc3NpdmVNYXApIG1hdGVyaWFsLmVtaXNzaXZlTWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XG5cbiAgICAgIGlmIChtYXRlcmlhbERlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgbWF0ZXJpYWwsIG1hdGVyaWFsRGVmKTtcblxuICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcbiAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXB1dGVCb3VuZHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZiwgcGFyc2VyKSB7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBwcmltaXRpdmVEZWYuYXR0cmlidXRlcztcblxuICAgIHZhciBib3ggPSBuZXcgQm94MygpO1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzW2F0dHJpYnV0ZXMuUE9TSVRJT05dO1xuXG4gICAgICB2YXIgbWluID0gYWNjZXNzb3IubWluO1xuICAgICAgdmFyIG1heCA9IGFjY2Vzc29yLm1heDtcblxuICAgICAgLy8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cblxuICAgICAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkICYmIG1heCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJveC5zZXQobmV3IFZlY3RvcjMobWluWzBdLCBtaW5bMV0sIG1pblsyXSksIG5ldyBWZWN0b3IzKG1heFswXSwgbWF4WzFdLCBtYXhbMl0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLicpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRzID0gcHJpbWl0aXZlRGVmLnRhcmdldHM7XG5cbiAgICBpZiAodGFyZ2V0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbWF4RGlzcGxhY2VtZW50ID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgIHZhciB2ZWN0b3IgPSBuZXcgVmVjdG9yMygpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0YXJnZXRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRhcmdldHNbaV07XG5cbiAgICAgICAgaWYgKHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyLmpzb24uYWNjZXNzb3JzW3RhcmdldC5QT1NJVElPTl07XG4gICAgICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcbiAgICAgICAgICB2YXIgbWF4ID0gYWNjZXNzb3IubWF4O1xuXG4gICAgICAgICAgLy8gZ2xURiByZXF1aXJlcyAnbWluJyBhbmQgJ21heCcsIGJ1dCBWUk0gKHdoaWNoIGV4dGVuZHMgZ2xURikgY3VycmVudGx5IGlnbm9yZXMgdGhhdCByZXF1aXJlbWVudC5cblxuICAgICAgICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBnZXQgbWF4IG9mIGFic29sdXRlIGNvbXBvbmVudHMgYmVjYXVzZSB0YXJnZXQgd2VpZ2h0IGlzIFstMSwxXVxuICAgICAgICAgICAgdmVjdG9yLnNldFgoTWF0aC5tYXgoTWF0aC5hYnMobWluWzBdKSwgTWF0aC5hYnMobWF4WzBdKSkpO1xuICAgICAgICAgICAgdmVjdG9yLnNldFkoTWF0aC5tYXgoTWF0aC5hYnMobWluWzFdKSwgTWF0aC5hYnMobWF4WzFdKSkpO1xuICAgICAgICAgICAgdmVjdG9yLnNldFooTWF0aC5tYXgoTWF0aC5hYnMobWluWzJdKSwgTWF0aC5hYnMobWF4WzJdKSkpO1xuXG4gICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGFzc3VtZXMgdGhhdCB0aGUgc3VtIG9mIGFsbCB3ZWlnaHRzIGlzIGF0IG1vc3QgMS4gVGhpcyBpc24ndCBxdWl0ZSBjb3JyZWN0IC0gaXQncyBtb3JlIGNvbnNlcnZhdGl2ZVxuICAgICAgICAgICAgLy8gdG8gYXNzdW1lIHRoYXQgZWFjaCB0YXJnZXQgY2FuIGhhdmUgYSBtYXggd2VpZ2h0IG9mIDEuIEhvd2V2ZXIsIGZvciBzb21lIHVzZSBjYXNlcyAtIG5vdGFibHksIHdoZW4gbW9ycGggdGFyZ2V0c1xuICAgICAgICAgICAgLy8gYXJlIHVzZWQgdG8gaW1wbGVtZW50IGtleS1mcmFtZSBhbmltYXRpb25zIGFuZCBhcyBzdWNoIG9ubHkgdHdvIGFyZSBhY3RpdmUgYXQgYSB0aW1lIC0gdGhpcyByZXN1bHRzIGluIHZlcnkgbGFyZ2VcbiAgICAgICAgICAgIC8vIGJveGVzLiBTbyBmb3Igbm93IHdlIG1ha2UgYSBib3ggdGhhdCdzIHNvbWV0aW1lcyBhIHRvdWNoIHRvbyBzbWFsbCBidXQgaXMgaG9wZWZ1bGx5IG1vc3RseSBvZiByZWFzb25hYmxlIHNpemUuXG4gICAgICAgICAgICBtYXhEaXNwbGFjZW1lbnQubWF4KHZlY3Rvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBtaW4vbWF4IHByb3BlcnRpZXMgZm9yIGFjY2Vzc29yIFBPU0lUSU9OLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBcyBwZXIgY29tbWVudCBhYm92ZSB0aGlzIGJveCBpc24ndCBjb25zZXJ2YXRpdmUsIGJ1dCBoYXMgYSByZWFzb25hYmxlIHNpemUgZm9yIGEgdmVyeSBsYXJnZSBudW1iZXIgb2YgbW9ycGggdGFyZ2V0cy5cbiAgICAgIGJveC5leHBhbmRCeVZlY3RvcihtYXhEaXNwbGFjZW1lbnQpO1xuICAgIH1cblxuICAgIGdlb21ldHJ5LmJvdW5kaW5nQm94ID0gYm94O1xuXG4gICAgdmFyIHNwaGVyZSA9IG5ldyBTcGhlcmUoKTtcblxuICAgIGJveC5nZXRDZW50ZXIoc3BoZXJlLmNlbnRlcik7XG4gICAgc3BoZXJlLnJhZGl1cyA9IGJveC5taW4uZGlzdGFuY2VUbyhib3gubWF4KSAvIDI7XG5cbiAgICBnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSA9IHNwaGVyZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge0dMVEYuUHJpbWl0aXZlfSBwcmltaXRpdmVEZWZcbiAgICogQHBhcmFtIHtHTFRGUGFyc2VyfSBwYXJzZXJcbiAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJHZW9tZXRyeT59XG4gICAqL1xuICBmdW5jdGlvbiBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcikge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XG5cbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoYWNjZXNzb3JJbmRleCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIGFjY2Vzc29ySW5kZXgpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICAgIGdlb21ldHJ5LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhY2Nlc3Nvcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBnbHRmQXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgdGhyZWVBdHRyaWJ1dGVOYW1lID0gQVRUUklCVVRFU1tnbHRmQXR0cmlidXRlTmFtZV0gfHwgZ2x0ZkF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgLy8gU2tpcCBhdHRyaWJ1dGVzIGFscmVhZHkgcHJvdmlkZWQgYnkgZS5nLiBEcmFjbyBleHRlbnNpb24uXG4gICAgICBpZiAodGhyZWVBdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIGNvbnRpbnVlO1xuXG4gICAgICBwZW5kaW5nLnB1c2goYXNzaWduQXR0cmlidXRlQWNjZXNzb3IoYXR0cmlidXRlc1tnbHRmQXR0cmlidXRlTmFtZV0sIHRocmVlQXR0cmlidXRlTmFtZSkpO1xuICAgIH1cblxuICAgIGlmIChwcmltaXRpdmVEZWYuaW5kaWNlcyAhPT0gdW5kZWZpbmVkICYmICFnZW9tZXRyeS5pbmRleCkge1xuICAgICAgdmFyIGFjY2Vzc29yID0gcGFyc2VyXG4gICAgICAgIC5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHByaW1pdGl2ZURlZi5pbmRpY2VzKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYWNjZXNzb3IpIHtcbiAgICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChhY2Nlc3Nvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICBwZW5kaW5nLnB1c2goYWNjZXNzb3IpO1xuICAgIH1cblxuICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoZ2VvbWV0cnksIHByaW1pdGl2ZURlZik7XG5cbiAgICBjb21wdXRlQm91bmRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcik7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJpbWl0aXZlRGVmLnRhcmdldHMgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLnRhcmdldHMsIHBhcnNlcilcbiAgICAgICAgOiBnZW9tZXRyeTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge051bWJlcn0gZHJhd01vZGVcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XG4gICAqL1xuICBmdW5jdGlvbiB0b1RyaWFuZ2xlc0RyYXdNb2RlKGdlb21ldHJ5LCBkcmF3TW9kZSkge1xuICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cbiAgICAvLyBnZW5lcmF0ZSBpbmRleCBpZiBub3QgcHJlc2VudFxuXG4gICAgaWYgKGluZGV4ID09PSBudWxsKSB7XG4gICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICB2YXIgcG9zaXRpb24gPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG5cbiAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkrKykge1xuICAgICAgICAgIGluZGljZXMucHVzaChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xuICAgICAgICBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5kZWZpbmVkIHBvc2l0aW9uIGF0dHJpYnV0ZS4gUHJvY2Vzc2luZyBub3QgcG9zc2libGUuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cblxuICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcbiAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xuXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XG4gICAgICAvLyBnbC5UUklBTkdMRV9GQU5cblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WCgwKSk7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2wuVFJJQU5HTEVfU1RSSVBcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxuXG4gICAgdmFyIG5ld0dlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcblxuICAgIHJldHVybiBuZXdHZW9tZXRyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI2dlb21ldHJ5XG4gICAqXG4gICAqIENyZWF0ZXMgQnVmZmVyR2VvbWV0cmllcyBmcm9tIHByaW1pdGl2ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8R0xURi5QcmltaXRpdmU+fSBwcmltaXRpdmVzXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QXJyYXk8QnVmZmVyR2VvbWV0cnk+Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRHZW9tZXRyaWVzID0gZnVuY3Rpb24gKHByaW1pdGl2ZXMpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcbiAgICB2YXIgY2FjaGUgPSB0aGlzLnByaW1pdGl2ZUNhY2hlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlRHJhY29QcmltaXRpdmUocHJpbWl0aXZlKSB7XG4gICAgICByZXR1cm4gZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXVxuICAgICAgICAuZGVjb2RlUHJpbWl0aXZlKHByaW1pdGl2ZSwgcGFyc2VyKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgICByZXR1cm4gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgcHJpbWl0aXZlID0gcHJpbWl0aXZlc1tpXTtcbiAgICAgIHZhciBjYWNoZUtleSA9IGNyZWF0ZVByaW1pdGl2ZUtleShwcmltaXRpdmUpO1xuXG4gICAgICAvLyBTZWUgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ2VvbWV0cnlcbiAgICAgIHZhciBjYWNoZWQgPSBjYWNoZVtjYWNoZUtleV07XG5cbiAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBjYWNoZWQgZ2VvbWV0cnkgaWYgaXQgZXhpc3RzXG4gICAgICAgIHBlbmRpbmcucHVzaChjYWNoZWQucHJvbWlzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZ2VvbWV0cnlQcm9taXNlO1xuXG4gICAgICAgIGlmIChwcmltaXRpdmUuZXh0ZW5zaW9ucyAmJiBwcmltaXRpdmUuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OXSkge1xuICAgICAgICAgIC8vIFVzZSBEUkFDTyBnZW9tZXRyeSBpZiBhdmFpbGFibGVcbiAgICAgICAgICBnZW9tZXRyeVByb21pc2UgPSBjcmVhdGVEcmFjb1ByaW1pdGl2ZShwcmltaXRpdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZ2VvbWV0cnlcbiAgICAgICAgICBnZW9tZXRyeVByb21pc2UgPSBhZGRQcmltaXRpdmVBdHRyaWJ1dGVzKG5ldyBCdWZmZXJHZW9tZXRyeSgpLCBwcmltaXRpdmUsIHBhcnNlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWNoZSB0aGlzIGdlb21ldHJ5XG4gICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHsgcHJpbWl0aXZlOiBwcmltaXRpdmUsIHByb21pc2U6IGdlb21ldHJ5UHJvbWlzZSB9O1xuXG4gICAgICAgIHBlbmRpbmcucHVzaChnZW9tZXRyeVByb21pc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtZXNoZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1lc2hJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwfE1lc2h8U2tpbm5lZE1lc2g+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE1lc2ggPSBmdW5jdGlvbiAobWVzaEluZGV4KSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG5cbiAgICB2YXIgbWVzaERlZiA9IGpzb24ubWVzaGVzW21lc2hJbmRleF07XG4gICAgdmFyIHByaW1pdGl2ZXMgPSBtZXNoRGVmLnByaW1pdGl2ZXM7XG5cbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcHJpbWl0aXZlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgbWF0ZXJpYWwgPVxuICAgICAgICAgICAgcHJpbWl0aXZlc1tpXS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gY3JlYXRlRGVmYXVsdE1hdGVyaWFsKHRoaXMuY2FjaGUpXG4gICAgICAgICAgICAgIDogdGhpcy5nZXREZXBlbmRlbmN5KCdtYXRlcmlhbCcsIHByaW1pdGl2ZXNbaV0ubWF0ZXJpYWwpO1xuXG4gICAgICBwZW5kaW5nLnB1c2gobWF0ZXJpYWwpO1xuICAgIH1cblxuICAgIHBlbmRpbmcucHVzaChwYXJzZXIubG9hZEdlb21ldHJpZXMocHJpbWl0aXZlcykpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIHZhciBtYXRlcmlhbHMgPSByZXN1bHRzLnNsaWNlKDAsIHJlc3VsdHMubGVuZ3RoIC0gMSk7XG4gICAgICB2YXIgZ2VvbWV0cmllcyA9IHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXTtcblxuICAgICAgdmFyIG1lc2hlcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBnZW9tZXRyaWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XG5cbiAgICAgICAgLy8gMS4gY3JlYXRlIE1lc2hcblxuICAgICAgICB2YXIgbWVzaDtcblxuICAgICAgICB2YXIgbWF0ZXJpYWwgPSBtYXRlcmlhbHNbaV07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVTIHx8XG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9TVFJJUCB8fFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfRkFOIHx8XG4gICAgICAgICAgcHJpbWl0aXZlLm1vZGUgPT09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyAuaXNTa2lubmVkTWVzaCBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAubWFya0RlZnMoKVxuICAgICAgICAgIG1lc2ggPVxuICAgICAgICAgICAgbWVzaERlZi5pc1NraW5uZWRNZXNoID09PSB0cnVlXG4gICAgICAgICAgICAgID8gbmV3IFNraW5uZWRNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbClcbiAgICAgICAgICAgICAgOiBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuXG4gICAgICAgICAgaWYgKG1lc2guaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZSAmJiAhbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQubm9ybWFsaXplZCkge1xuICAgICAgICAgICAgLy8gd2Ugbm9ybWFsaXplIGZsb2F0aW5nIHBvaW50IHNraW4gd2VpZ2h0IGFycmF5IHRvIGZpeCBtYWxmb3JtZWQgYXNzZXRzIChzZWUgIzE1MzE5KVxuICAgICAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdG8gc2tpcCB0aGlzIGZvciBub24tZmxvYXQzMiBkYXRhIHNpbmNlIG5vcm1hbGl6ZVNraW5XZWlnaHRzIGFzc3VtZXMgbm9uLW5vcm1hbGl6ZWQgaW5wdXRzXG4gICAgICAgICAgICBtZXNoLm5vcm1hbGl6ZVNraW5XZWlnaHRzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVApIHtcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTikge1xuICAgICAgICAgICAgbWVzaC5nZW9tZXRyeSA9IHRvVHJpYW5nbGVzRHJhd01vZGUobWVzaC5nZW9tZXRyeSwgVHJpYW5nbGVGYW5EcmF3TW9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORVMpIHtcbiAgICAgICAgICBtZXNoID0gbmV3IExpbmVTZWdtZW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9TVFJJUCkge1xuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZShnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuTElORV9MT09QKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lTG9vcChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2UgaWYgKHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuUE9JTlRTKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBQb2ludHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFByaW1pdGl2ZSBtb2RlIHVuc3VwcG9ydGVkOiAnICsgcHJpbWl0aXZlLm1vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lc2guZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzaC5uYW1lID0gbWVzaERlZi5uYW1lIHx8ICdtZXNoXycgKyBtZXNoSW5kZXg7XG5cbiAgICAgICAgaWYgKGdlb21ldHJpZXMubGVuZ3RoID4gMSkgbWVzaC5uYW1lICs9ICdfJyArIGk7XG5cbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtZXNoLCBtZXNoRGVmKTtcblxuICAgICAgICBwYXJzZXIuYXNzaWduRmluYWxNYXRlcmlhbChtZXNoKTtcblxuICAgICAgICBtZXNoZXMucHVzaChtZXNoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lc2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIG1lc2hlc1swXTtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyb3VwID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG1lc2hlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIGdyb3VwLmFkZChtZXNoZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNjYW1lcmFzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjYW1lcmFJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPFRIUkVFLkNhbWVyYT59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQ2FtZXJhID0gZnVuY3Rpb24gKGNhbWVyYUluZGV4KSB7XG4gICAgdmFyIGNhbWVyYTtcbiAgICB2YXIgY2FtZXJhRGVmID0gdGhpcy5qc29uLmNhbWVyYXNbY2FtZXJhSW5kZXhdO1xuICAgIHZhciBwYXJhbXMgPSBjYW1lcmFEZWZbY2FtZXJhRGVmLnR5cGVdO1xuXG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgIGNvbnNvbGUud2FybignVEhSRUUuR0xURkxvYWRlcjogTWlzc2luZyBjYW1lcmEgcGFyYW1ldGVycy4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FtZXJhRGVmLnR5cGUgPT09ICdwZXJzcGVjdGl2ZScpIHtcbiAgICAgIGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYShcbiAgICAgICAgTWF0aFV0aWxzLnJhZFRvRGVnKHBhcmFtcy55Zm92KSxcbiAgICAgICAgcGFyYW1zLmFzcGVjdFJhdGlvIHx8IDEsXG4gICAgICAgIHBhcmFtcy56bmVhciB8fCAxLFxuICAgICAgICBwYXJhbXMuemZhciB8fCAyZTZcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjYW1lcmFEZWYudHlwZSA9PT0gJ29ydGhvZ3JhcGhpYycpIHtcbiAgICAgIGNhbWVyYSA9IG5ldyBPcnRob2dyYXBoaWNDYW1lcmEoXG4gICAgICAgIC1wYXJhbXMueG1hZyxcbiAgICAgICAgcGFyYW1zLnhtYWcsXG4gICAgICAgIHBhcmFtcy55bWFnLFxuICAgICAgICAtcGFyYW1zLnltYWcsXG4gICAgICAgIHBhcmFtcy56bmVhcixcbiAgICAgICAgcGFyYW1zLnpmYXJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGNhbWVyYURlZi5uYW1lKSBjYW1lcmEubmFtZSA9IGNhbWVyYURlZi5uYW1lO1xuXG4gICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShjYW1lcmEsIGNhbWVyYURlZik7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhbWVyYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNza2luc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2tpbkluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTa2luID0gZnVuY3Rpb24gKHNraW5JbmRleCkge1xuICAgIHZhciBza2luRGVmID0gdGhpcy5qc29uLnNraW5zW3NraW5JbmRleF07XG5cbiAgICB2YXIgc2tpbkVudHJ5ID0geyBqb2ludHM6IHNraW5EZWYuam9pbnRzIH07XG5cbiAgICBpZiAoc2tpbkRlZi5pbnZlcnNlQmluZE1hdHJpY2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2tpbkVudHJ5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZXREZXBlbmRlbmN5KCdhY2Nlc3NvcicsIHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcykudGhlbihmdW5jdGlvbiAoYWNjZXNzb3IpIHtcbiAgICAgIHNraW5FbnRyeS5pbnZlcnNlQmluZE1hdHJpY2VzID0gYWNjZXNzb3I7XG5cbiAgICAgIHJldHVybiBza2luRW50cnk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMCNhbmltYXRpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbmltYXRpb25JbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFuaW1hdGlvbkNsaXA+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEFuaW1hdGlvbiA9IGZ1bmN0aW9uIChhbmltYXRpb25JbmRleCkge1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuXG4gICAgdmFyIGFuaW1hdGlvbkRlZiA9IGpzb24uYW5pbWF0aW9uc1thbmltYXRpb25JbmRleF07XG5cbiAgICB2YXIgcGVuZGluZ05vZGVzID0gW107XG4gICAgdmFyIHBlbmRpbmdJbnB1dEFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nT3V0cHV0QWNjZXNzb3JzID0gW107XG4gICAgdmFyIHBlbmRpbmdTYW1wbGVycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nVGFyZ2V0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIHZhciBjaGFubmVsID0gYW5pbWF0aW9uRGVmLmNoYW5uZWxzW2ldO1xuICAgICAgdmFyIHNhbXBsZXIgPSBhbmltYXRpb25EZWYuc2FtcGxlcnNbY2hhbm5lbC5zYW1wbGVyXTtcbiAgICAgIHZhciB0YXJnZXQgPSBjaGFubmVsLnRhcmdldDtcbiAgICAgIHZhciBuYW1lID0gdGFyZ2V0Lm5vZGUgIT09IHVuZGVmaW5lZCA/IHRhcmdldC5ub2RlIDogdGFyZ2V0LmlkOyAvLyBOT1RFOiB0YXJnZXQuaWQgaXMgZGVwcmVjYXRlZC5cbiAgICAgIHZhciBpbnB1dCA9XG4gICAgICAgICAgICBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbc2FtcGxlci5pbnB1dF1cbiAgICAgICAgICAgICAgOiBzYW1wbGVyLmlucHV0O1xuICAgICAgdmFyIG91dHB1dCA9XG4gICAgICAgICAgICBhbmltYXRpb25EZWYucGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnNbc2FtcGxlci5vdXRwdXRdXG4gICAgICAgICAgICAgIDogc2FtcGxlci5vdXRwdXQ7XG5cbiAgICAgIHBlbmRpbmdOb2Rlcy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIG5hbWUpKTtcbiAgICAgIHBlbmRpbmdJbnB1dEFjY2Vzc29ycy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBpbnB1dCkpO1xuICAgICAgcGVuZGluZ091dHB1dEFjY2Vzc29ycy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBvdXRwdXQpKTtcbiAgICAgIHBlbmRpbmdTYW1wbGVycy5wdXNoKHNhbXBsZXIpO1xuICAgICAgcGVuZGluZ1RhcmdldHMucHVzaCh0YXJnZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9kZXMpLFxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ0lucHV0QWNjZXNzb3JzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMpLFxuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ1NhbXBsZXJzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdUYXJnZXRzKSxcbiAgICBdKS50aGVuKGZ1bmN0aW9uIChkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHZhciBub2RlcyA9IGRlcGVuZGVuY2llc1swXTtcbiAgICAgIHZhciBpbnB1dEFjY2Vzc29ycyA9IGRlcGVuZGVuY2llc1sxXTtcbiAgICAgIHZhciBvdXRwdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbMl07XG4gICAgICB2YXIgc2FtcGxlcnMgPSBkZXBlbmRlbmNpZXNbM107XG4gICAgICB2YXIgdGFyZ2V0cyA9IGRlcGVuZGVuY2llc1s0XTtcblxuICAgICAgdmFyIHRyYWNrcyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBub2Rlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIHZhciBpbnB1dEFjY2Vzc29yID0gaW5wdXRBY2Nlc3NvcnNbaV07XG4gICAgICAgIHZhciBvdXRwdXRBY2Nlc3NvciA9IG91dHB1dEFjY2Vzc29yc1tpXTtcbiAgICAgICAgdmFyIHNhbXBsZXIgPSBzYW1wbGVyc1tpXTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHRhcmdldHNbaV07XG5cbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICAgICAgbm9kZS51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgbm9kZS5tYXRyaXhBdXRvVXBkYXRlID0gdHJ1ZTtcblxuICAgICAgICB2YXIgVHlwZWRLZXlmcmFtZVRyYWNrO1xuXG4gICAgICAgIHN3aXRjaCAoUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSkge1xuICAgICAgICAgIGNhc2UgUEFUSF9QUk9QRVJUSUVTLndlaWdodHM6XG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBOdW1iZXJLZXlmcmFtZVRyYWNrO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5yb3RhdGlvbjpcbiAgICAgICAgICAgIFR5cGVkS2V5ZnJhbWVUcmFjayA9IFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5wb3NpdGlvbjpcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy5zY2FsZTpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gVmVjdG9yS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRhcmdldE5hbWUgPSBub2RlLm5hbWUgPyBub2RlLm5hbWUgOiBub2RlLnV1aWQ7XG5cbiAgICAgICAgdmFyIGludGVycG9sYXRpb24gPVxuICAgICAgICAgICAgICBzYW1wbGVyLmludGVycG9sYXRpb24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gSU5URVJQT0xBVElPTltzYW1wbGVyLmludGVycG9sYXRpb25dXG4gICAgICAgICAgICAgICAgOiBJbnRlcnBvbGF0ZUxpbmVhcjtcblxuICAgICAgICB2YXIgdGFyZ2V0TmFtZXMgPSBbXTtcblxuICAgICAgICBpZiAoUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSA9PT0gUEFUSF9QUk9QRVJUSUVTLndlaWdodHMpIHtcbiAgICAgICAgICAvLyBOb2RlIG1heSBiZSBhIEdyb3VwIChnbFRGIG1lc2ggd2l0aCBzZXZlcmFsIHByaW1pdGl2ZXMpIG9yIGEgTWVzaC5cbiAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QuaXNNZXNoID09PSB0cnVlICYmIG9iamVjdC5tb3JwaFRhcmdldEluZmx1ZW5jZXMpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0TmFtZXMucHVzaChvYmplY3QubmFtZSA/IG9iamVjdC5uYW1lIDogb2JqZWN0LnV1aWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2godGFyZ2V0TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3V0cHV0QXJyYXkgPSBvdXRwdXRBY2Nlc3Nvci5hcnJheTtcblxuICAgICAgICBpZiAob3V0cHV0QWNjZXNzb3Iubm9ybWFsaXplZCkge1xuICAgICAgICAgIHZhciBzY2FsZTtcblxuICAgICAgICAgIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gSW50OEFycmF5KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyAxMjc7XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gVWludDhBcnJheSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMjU1O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT0gSW50MTZBcnJheSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMzI3Njc7XG4gICAgICAgICAgfSBlbHNlIGlmIChvdXRwdXRBcnJheS5jb25zdHJ1Y3RvciA9PT0gVWludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDY1NTM1O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIG91dHB1dCBhY2Nlc3NvciBjb21wb25lbnQgdHlwZS4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2NhbGVkID0gbmV3IEZsb2F0MzJBcnJheShvdXRwdXRBcnJheS5sZW5ndGgpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpsID0gb3V0cHV0QXJyYXkubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgc2NhbGVkW2pdID0gb3V0cHV0QXJyYXlbal0gKiBzY2FsZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvdXRwdXRBcnJheSA9IHNjYWxlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICB2YXIgdHJhY2sgPSBuZXcgVHlwZWRLZXlmcmFtZVRyYWNrKFxuICAgICAgICAgICAgdGFyZ2V0TmFtZXNbal0gKyAnLicgKyBQQVRIX1BST1BFUlRJRVNbdGFyZ2V0LnBhdGhdLFxuICAgICAgICAgICAgaW5wdXRBY2Nlc3Nvci5hcnJheSxcbiAgICAgICAgICAgIG91dHB1dEFycmF5LFxuICAgICAgICAgICAgaW50ZXJwb2xhdGlvblxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBPdmVycmlkZSBpbnRlcnBvbGF0aW9uIHdpdGggY3VzdG9tIGZhY3RvcnkgbWV0aG9kLlxuICAgICAgICAgIGlmIChzYW1wbGVyLmludGVycG9sYXRpb24gPT09ICdDVUJJQ1NQTElORScpIHtcbiAgICAgICAgICAgIHRyYWNrLmNyZWF0ZUludGVycG9sYW50ID0gZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lKHJlc3VsdCkge1xuICAgICAgICAgICAgICAvLyBBIENVQklDU1BMSU5FIGtleWZyYW1lIGluIGdsVEYgaGFzIHRocmVlIG91dHB1dCB2YWx1ZXMgZm9yIGVhY2ggaW5wdXQgdmFsdWUsXG4gICAgICAgICAgICAgIC8vIHJlcHJlc2VudGluZyBpblRhbmdlbnQsIHNwbGluZVZlcnRleCwgYW5kIG91dFRhbmdlbnQuIEFzIGEgcmVzdWx0LCB0cmFjay5nZXRWYWx1ZVNpemUoKVxuICAgICAgICAgICAgICAvLyBtdXN0IGJlIGRpdmlkZWQgYnkgdGhyZWUgdG8gZ2V0IHRoZSBpbnRlcnBvbGFudCdzIHNhbXBsZVNpemUgYXJndW1lbnQuXG5cbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudChcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVzLFxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWVzLFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWVTaXplKCkgLyAzLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gTWFyayBhcyBDVUJJQ1NQTElORS4gYHRyYWNrLmdldEludGVycG9sYXRpb24oKWAgZG9lc24ndCBzdXBwb3J0IGN1c3RvbSBpbnRlcnBvbGFudHMuXG4gICAgICAgICAgICB0cmFjay5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuYW1lID0gYW5pbWF0aW9uRGVmLm5hbWUgPyBhbmltYXRpb25EZWYubmFtZSA6ICdhbmltYXRpb25fJyArIGFuaW1hdGlvbkluZGV4O1xuXG4gICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbkNsaXAobmFtZSwgdW5kZWZpbmVkLCB0cmFja3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjbm9kZXMtYW5kLWhpZXJhcmNoeVxuICAgKiBAcGFyYW0ge251bWJlcn0gbm9kZUluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8T2JqZWN0M0Q+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZE5vZGUgPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG5cbiAgICB2YXIgbWVzaFJlZmVyZW5jZXMgPSBqc29uLm1lc2hSZWZlcmVuY2VzO1xuICAgIHZhciBtZXNoVXNlcyA9IGpzb24ubWVzaFVzZXM7XG5cbiAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUluZGV4XTtcblxuICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbWVzaCcsIG5vZGVEZWYubWVzaCkudGhlbihmdW5jdGlvbiAobWVzaCkge1xuICAgICAgICAgICAgdmFyIG5vZGU7XG5cbiAgICAgICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID4gMSkge1xuICAgICAgICAgICAgICB2YXIgaW5zdGFuY2VOdW0gPSBtZXNoVXNlc1tub2RlRGVmLm1lc2hdKys7XG5cbiAgICAgICAgICAgICAgbm9kZSA9IG1lc2guY2xvbmUoKTtcbiAgICAgICAgICAgICAgbm9kZS5uYW1lICs9ICdfaW5zdGFuY2VfJyArIGluc3RhbmNlTnVtO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbm9kZSA9IG1lc2g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlaWdodHMgYXJlIHByb3ZpZGVkIG9uIHRoZSBub2RlLCBvdmVycmlkZSB3ZWlnaHRzIG9uIHRoZSBtZXNoLlxuICAgICAgICAgICAgaWYgKG5vZGVEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIG5vZGUudHJhdmVyc2UoZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIW8uaXNNZXNoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBub2RlRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgby5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaV0gPSBub2RlRGVmLndlaWdodHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGVEZWYuY2FtZXJhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5nZXREZXBlbmRlbmN5KCdjYW1lcmEnLCBub2RlRGVmLmNhbWVyYSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIG5vZGVEZWYuZXh0ZW5zaW9ucyAmJlxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXSAmJlxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodCAhPT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5nZXREZXBlbmRlbmN5KCdsaWdodCcsIG5vZGVEZWYuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9MSUdIVFNfUFVOQ1RVQUxdLmxpZ2h0KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgfSkoKS50aGVuKGZ1bmN0aW9uIChvYmplY3RzKSB7XG4gICAgICB2YXIgbm9kZTtcblxuICAgICAgLy8gLmlzQm9uZSBpc24ndCBpbiBnbFRGIHNwZWMuIFNlZSAubWFya0RlZnNcbiAgICAgIGlmIChub2RlRGVmLmlzQm9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICBub2RlID0gbmV3IEJvbmUoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIG5vZGUgPSBuZXcgR3JvdXAoKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqZWN0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbm9kZSA9IG9iamVjdHNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbmV3IE9iamVjdDNEKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlICE9PSBvYmplY3RzWzBdKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgIG5vZGUuYWRkKG9iamVjdHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlRGVmLm5hbWUpIHtcbiAgICAgICAgbm9kZS51c2VyRGF0YS5uYW1lID0gbm9kZURlZi5uYW1lO1xuICAgICAgICBub2RlLm5hbWUgPSBQcm9wZXJ0eUJpbmRpbmcuc2FuaXRpemVOb2RlTmFtZShub2RlRGVmLm5hbWUpO1xuICAgICAgfVxuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKG5vZGUsIG5vZGVEZWYpO1xuXG4gICAgICBpZiAobm9kZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgbm9kZSwgbm9kZURlZik7XG5cbiAgICAgIGlmIChub2RlRGVmLm1hdHJpeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBtYXRyaXguZnJvbUFycmF5KG5vZGVEZWYubWF0cml4KTtcbiAgICAgICAgbm9kZS5hcHBseU1hdHJpeDQobWF0cml4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2RlRGVmLnRyYW5zbGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnBvc2l0aW9uLmZyb21BcnJheShub2RlRGVmLnRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlRGVmLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnF1YXRlcm5pb24uZnJvbUFycmF5KG5vZGVEZWYucm90YXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGVEZWYuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5vZGUuc2NhbGUuZnJvbUFycmF5KG5vZGVEZWYuc2NhbGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2NlbmVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY2VuZUluZGV4XG4gICAqIEByZXR1cm4ge1Byb21pc2U8R3JvdXA+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZFNjZW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzY2VuZSBub2RlIGhpZXJhY2h5IGJ1aWxkZXJcblxuICAgIGZ1bmN0aW9uIGJ1aWxkTm9kZUhpZXJhY2h5KG5vZGVJZCwgcGFyZW50T2JqZWN0LCBqc29uLCBwYXJzZXIpIHtcbiAgICAgIHZhciBub2RlRGVmID0ganNvbi5ub2Rlc1tub2RlSWRdO1xuXG4gICAgICByZXR1cm4gcGFyc2VyXG4gICAgICAgIC5nZXREZXBlbmRlbmN5KCdub2RlJywgbm9kZUlkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIGlmIChub2RlRGVmLnNraW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuIG5vZGU7XG5cbiAgICAgICAgICAvLyBidWlsZCBza2VsZXRvbiBoZXJlIGFzIHdlbGxcblxuICAgICAgICAgIHZhciBza2luRW50cnk7XG5cbiAgICAgICAgICByZXR1cm4gcGFyc2VyXG4gICAgICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnc2tpbicsIG5vZGVEZWYuc2tpbilcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChza2luKSB7XG4gICAgICAgICAgICAgIHNraW5FbnRyeSA9IHNraW47XG5cbiAgICAgICAgICAgICAgdmFyIHBlbmRpbmdKb2ludHMgPSBbXTtcblxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBza2luRW50cnkuam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nSm9pbnRzLnB1c2gocGFyc2VyLmdldERlcGVuZGVuY3koJ25vZGUnLCBza2luRW50cnkuam9pbnRzW2ldKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZ0pvaW50cyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGpvaW50Tm9kZXMpIHtcbiAgICAgICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAobWVzaCkge1xuICAgICAgICAgICAgICAgIGlmICghbWVzaC5pc01lc2gpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciBib25lcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBib25lSW52ZXJzZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IGpvaW50Tm9kZXMubGVuZ3RoOyBqIDwgamw7IGorKykge1xuICAgICAgICAgICAgICAgICAgdmFyIGpvaW50Tm9kZSA9IGpvaW50Tm9kZXNbal07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChqb2ludE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9uZXMucHVzaChqb2ludE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4NCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWF0LmZyb21BcnJheShza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcy5hcnJheSwgaiAqIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJvbmVJbnZlcnNlcy5wdXNoKG1hdCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEpvaW50IFwiJXNcIiBjb3VsZCBub3QgYmUgZm91bmQuJyxcbiAgICAgICAgICAgICAgICAgICAgICBza2luRW50cnkuam9pbnRzW2pdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWVzaC5iaW5kKG5ldyBTa2VsZXRvbihib25lcywgYm9uZUludmVyc2VzKSwgbWVzaC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgLy8gYnVpbGQgbm9kZSBoaWVyYWNoeVxuXG4gICAgICAgICAgcGFyZW50T2JqZWN0LmFkZChub2RlKTtcblxuICAgICAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgICAgICBpZiAobm9kZURlZi5jaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZURlZi5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgcGVuZGluZy5wdXNoKGJ1aWxkTm9kZUhpZXJhY2h5KGNoaWxkLCBub2RlLCBqc29uLCBwYXJzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBsb2FkU2NlbmUoc2NlbmVJbmRleCkge1xuICAgICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcbiAgICAgIHZhciBzY2VuZURlZiA9IHRoaXMuanNvbi5zY2VuZXNbc2NlbmVJbmRleF07XG4gICAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgICAgLy8gTG9hZGVyIHJldHVybnMgR3JvdXAsIG5vdCBTY2VuZS5cbiAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTgzNDIjaXNzdWVjb21tZW50LTU3ODk4MTE3MlxuICAgICAgdmFyIHNjZW5lID0gbmV3IEdyb3VwKCk7XG4gICAgICBpZiAoc2NlbmVEZWYubmFtZSkgc2NlbmUubmFtZSA9IHNjZW5lRGVmLm5hbWU7XG5cbiAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoc2NlbmUsIHNjZW5lRGVmKTtcblxuICAgICAgaWYgKHNjZW5lRGVmLmV4dGVuc2lvbnMpIGFkZFVua25vd25FeHRlbnNpb25zVG9Vc2VyRGF0YShleHRlbnNpb25zLCBzY2VuZSwgc2NlbmVEZWYpO1xuXG4gICAgICB2YXIgbm9kZUlkcyA9IHNjZW5lRGVmLm5vZGVzIHx8IFtdO1xuXG4gICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBub2RlSWRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKGJ1aWxkTm9kZUhpZXJhY2h5KG5vZGVJZHNbaV0sIHNjZW5lLCBqc29uLCBwYXJzZXIpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2NlbmU7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KSgpO1xuXG4gIHJldHVybiBHTFRGTG9hZGVyO1xufSkoKTtcblxuZXhwb3J0IHsgR0xURkxvYWRlciB9O1xuIiwiLy8gR2xvYmFsIGltcG9ydHMgLVxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuLy8gTG9jYWwgaW1wb3J0cyAtXG4vLyBDb21wb25lbnRzXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9jb21wb25lbnRzL3JlbmRlcmVyJztcbmltcG9ydCBDYW1lcmEgZnJvbSAnLi9jb21wb25lbnRzL2NhbWVyYSc7XG5pbXBvcnQgTGlnaHQgZnJvbSAnLi9jb21wb25lbnRzL2xpZ2h0JztcblxuLy8gSGVscGVyc1xuaW1wb3J0IFN0YXRzIGZyb20gJy4vaGVscGVycy9zdGF0cyc7XG5cbi8vIE1vZGVsXG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuL21vZGVsL3RleHR1cmUnO1xuaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwvbW9kZWwnO1xuXG4vLyBNYW5hZ2Vyc1xuaW1wb3J0IEludGVyYWN0aW9uIGZyb20gJy4vbWFuYWdlcnMvaW50ZXJhY3Rpb24nO1xuXG4vLyBkYXRhXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vLi4vZGF0YS9jb25maWcnO1xuLy8gLS0gRW5kIG9mIGltcG9ydHNcblxuLy8gVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHRpZXMgYWxsIG9mIHRoZSBjb21wb25lbnRzIHRvZ2V0aGVyLCBzdGFydHMgdGhlIGxvYWRpbmcgcHJvY2VzcyBhbmQgcmVuZGVycyB0aGUgbWFpbiBsb29wXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgLy8gU2V0IGNvbnRhaW5lciBwcm9wZXJ0eSB0byBjb250YWluZXIgZWxlbWVudFxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLy8gU3RhcnQgVGhyZWUgY2xvY2tcbiAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG5cbiAgICAvLyBNYWluIHNjZW5lIGNyZWF0aW9uXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoQ29uZmlnLmZvZy5jb2xvciwgQ29uZmlnLmZvZy5uZWFyKTtcblxuICAgIC8vIEdldCBEZXZpY2UgUGl4ZWwgUmF0aW8gZmlyc3QgZm9yIHJldGluYVxuICAgIGlmKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XG4gICAgICBDb25maWcuZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgLy8gTWFpbiByZW5kZXJlciBjb25zdHJ1Y3RvclxuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5zY2VuZSwgY29udGFpbmVyKTtcblxuICAgIC8vIENvbXBvbmVudHMgaW5zdGFudGlhdGlvbnNcbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyKTtcbiAgICB0aGlzLmxpZ2h0ID0gbmV3IExpZ2h0KHRoaXMuc2NlbmUpO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBwbGFjZSBsaWdodHMgaW4gc2NlbmVcbiAgICBjb25zdCBsaWdodHMgPSBbJ2FtYmllbnQnLCAnZGlyZWN0aW9uYWwnLCAncG9pbnQnLCAnaGVtaSddO1xuICAgIGxpZ2h0cy5mb3JFYWNoKChsaWdodCkgPT4gdGhpcy5saWdodC5wbGFjZShsaWdodCkpO1xuXG4gICAgLy8gU2V0IHVwIHJTdGF0cyBpZiBkZXYgZW52aXJvbm1lbnRcbiAgICBpZihDb25maWcuaXNEZXYgJiYgQ29uZmlnLmlzU2hvd2luZ1N0YXRzKSB7XG4gICAgICB0aGlzLnN0YXRzID0gbmV3IFN0YXRzKHRoaXMucmVuZGVyZXIpO1xuICAgICAgdGhpcy5zdGF0cy5zZXRVcCgpO1xuICAgIH1cblxuICAgIC8vIEluc3RhbnRpYXRlIHRleHR1cmUgY2xhc3NcbiAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSgpO1xuXG4gICAgLy8gU3RhcnQgbG9hZGluZyB0aGUgdGV4dHVyZXMgYW5kIHRoZW4gZ28gb24gdG8gbG9hZCB0aGUgbW9kZWwgYWZ0ZXIgdGhlIHRleHR1cmUgUHJvbWlzZXMgaGF2ZSByZXNvbHZlZFxuICAgIHRoaXMudGV4dHVyZS5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVEhSRUUuTG9hZGluZ01hbmFnZXIoKTtcblxuICAgICAgLy8gVGV4dHVyZXMgbG9hZGVkLCBsb2FkIG1vZGVsXG4gICAgICB0aGlzLnBsYXllck1vZGVsID0gbmV3IE1vZGVsKHRoaXMuc2NlbmUsIHRoaXMubWFuYWdlciwgdGhpcy50ZXh0dXJlLnRleHR1cmVzKTtcbiAgICAgIHRoaXMucGxheWVyTW9kZWwubG9hZChDb25maWcubW9kZWxzLnBsYXllcik7XG5cbiAgICAgIC8vIG9uUHJvZ3Jlc3MgY2FsbGJhY2tcbiAgICAgIHRoaXMubWFuYWdlci5vblByb2dyZXNzID0gKGl0ZW0sIGxvYWRlZCwgdG90YWwpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7aXRlbX06ICR7bG9hZGVkfSAke3RvdGFsfWApO1xuICAgICAgfTtcblxuICAgICAgLy8gQWxsIGxvYWRlcnMgZG9uZSBub3dcbiAgICAgIHRoaXMubWFuYWdlci5vbkxvYWQgPSAoKSA9PiB7XG4gICAgICAgIC8vIFNldCB1cCBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdpdGggdGhlIGFwcCBub3cgdGhhdCB0aGUgbW9kZWwgaXMgZmluaXNoZWQgbG9hZGluZ1xuICAgICAgICBuZXcgSW50ZXJhY3Rpb24odGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyLCB0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XG5cbiAgICAgICAgLy8gRXZlcnl0aGluZyBpcyBub3cgZnVsbHkgbG9hZGVkXG4gICAgICAgIENvbmZpZy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBTdGFydCByZW5kZXIgd2hpY2ggZG9lcyBub3Qgd2FpdCBmb3IgbW9kZWwgZnVsbHkgbG9hZGVkXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBSZW5kZXIgclN0YXRzIGlmIERldlxuICAgIGlmKENvbmZpZy5pc0RldiAmJiBDb25maWcuaXNTaG93aW5nU3RhdHMpIHtcbiAgICAgIFN0YXRzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbCByZW5kZXIgZnVuY3Rpb24gYW5kIHBhc3MgaW4gY3JlYXRlZCBzY2VuZSBhbmQgY2FtZXJhXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEpO1xuXG4gICAgLy8gclN0YXRzIGhhcyBmaW5pc2hlZCBkZXRlcm1pbmluZyByZW5kZXIgY2FsbCBub3dcbiAgICBpZihDb25maWcuaXNEZXYgJiYgQ29uZmlnLmlzU2hvd2luZ1N0YXRzKSB7XG4gICAgICBTdGF0cy5lbmQoKTtcbiAgICB9XG5cbiAgICAvLyBEZWx0YSB0aW1lIGlzIHNvbWV0aW1lcyBuZWVkZWQgZm9yIGNlcnRhaW4gdXBkYXRlc1xuICAgIC8vY29uc3QgZGVsdGEgPSB0aGlzLmNsb2NrLmdldERlbHRhKCk7XG5cbiAgICAvLyBDYWxsIGFueSB2ZW5kb3Igb3IgbW9kdWxlIGZyYW1lIHVwZGF0ZXMgaGVyZVxuICAgIFRXRUVOLnVwZGF0ZSgpO1xuXG4gICAgLy8gUkFGXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpOyAvLyBCaW5kIHRoZSBtYWluIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuICB9XG59XG4iLCJpbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vLi4vdXRpbHMva2V5Ym9hcmQnO1xuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gTWFuYWdlcyBhbGwgaW5wdXQgaW50ZXJhY3Rpb25zXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSB7XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG5cbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXG4gICAgLy8gSW5zdGFudGlhdGUga2V5Ym9hcmQgaGVscGVyXG4gICAgdGhpcy5rZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpO1xuXG4gICAgLy8gTGlzdGVuZXJzXG4gICAgLy8gTW91c2UgZXZlbnRzXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4gSGVscGVycy50aHJvdHRsZSh0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KSwgMjUwKSwgZmFsc2UpO1xuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VMZWF2ZShldmVudCksIGZhbHNlKTtcbiAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VPdmVyKGV2ZW50KSwgZmFsc2UpO1xuXG4gICAgLy8gS2V5Ym9hcmQgZXZlbnRzXG4gICAgdGhpcy5rZXlib2FyZC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIC8vIE9ubHkgb25jZVxuICAgICAgaWYoZXZlbnQucmVwZWF0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5rZXlib2FyZC5ldmVudE1hdGNoZXMoZXZlbnQsICdlc2NhcGUnKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnRXNjYXBlIHByZXNzZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IHRydWU7XG4gIH1cblxuICBvbk1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gZmFsc2U7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblxuICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBDb25maWcuaXNNb3VzZU1vdmluZyA9IGZhbHNlO1xuICAgIH0sIDIwMCk7XG5cbiAgICBDb25maWcuaXNNb3VzZU1vdmluZyA9IHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IE1hdGVyaWFsIGZyb20gJy4uL2NvbXBvbmVudHMvbWF0ZXJpYWwnO1xuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlscyc7XG5pbXBvcnQgeyBHTFRGTG9hZGVyIH0gZnJvbSAnLi4vbG9hZGVycy9HTFRGTG9hZGVyJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBMb2FkcyBpbiBhIHNpbmdsZSBvYmplY3QgZnJvbSB0aGUgY29uZmlnIGZpbGVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUsIG1hbmFnZXIsIHRleHR1cmVzKSB7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuXG4gICAgdGhpcy5vYmogPSBudWxsO1xuICAgIHRoaXMucmVmID0gbnVsbDtcbiAgfVxuXG4gIGxvYWQobW9kZWxEYXRhKSB7XG4gICAgLy8gTWFuYWdlciBpcyBwYXNzZWQgaW4gdG8gbG9hZGVyIHRvIGRldGVybWluZSB3aGVuIGxvYWRpbmcgZG9uZSBpbiBtYWluXG4gICAgbmV3IEdMVEZMb2FkZXIodGhpcy5tYW5hZ2VyKS5sb2FkKFxuICAgICAgbW9kZWxEYXRhLnBhdGgsXG4gICAgICAoZ2x0ZikgPT4ge1xuICAgICAgICBjb25zdCBzY2VuZSA9IGdsdGYuc2NlbmU7XG4gICAgICAgIGxldCBtZXNoO1xuICAgICAgICBpZiAoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XG4gICAgICAgICAgc2NlbmUudHJhdmVyc2UoZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUuaXNNZXNoIHx8IG5vZGUuaXNMaWdodCkgbm9kZS5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzTWVzaCkge1xuICAgICAgICAgICAgICBub2RlLm1hdGVyaWFsLndpcmVmcmFtZSA9IENvbmZpZy5tZXNoLndpcmVmcmFtZTtcbiAgICAgICAgICAgICAgbWVzaCA9IG5vZGU7XG4gICAgICAgICAgICAgIG1lc2guc2NhbGUubXVsdGlwbHlTY2FsYXIobW9kZWxEYXRhLnNjYWxlKTtcbiAgICAgICAgICAgICAgLy8gbWVzaC5wb3NpdGlvbi5zZXQoLi4ubW9kZWxEYXRhLnBvc2l0aW9uKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vYmogPSBtZXNoO1xuXG4gICAgICAgIEJ1ZmZlckdlb21ldHJ5VXRpbHMuY29tcHV0ZVRhbmdlbnRzKG1lc2guZ2VvbWV0cnkpO1xuXG4gICAgICAgIHZhciBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuICAgICAgICBncm91cC5zY2FsZS5tdWx0aXBseVNjYWxhcigwLjI1KTtcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQoIGdyb3VwICk7XG5cbiAgICAgICAgdGhpcy5yZWYgPSBncm91cDtcblxuICAgICAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgbWF0cml4V29ybGQgaXMgdXAgdG8gZGF0ZSBmb3IgdGhlIGJveGhlbHBlcnNcbiAgICAgICAgZ3JvdXAudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7XG4gICAgICAgIGdyb3VwLmFkZChtZXNoKTtcblxuICAgICAgICAvLyBBZGQgdG8gc2NlbmVcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQoc2NlbmUpO1xuICAgICAgfSxcbiAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcbiAgICAgIEhlbHBlcnMubG9nRXJyb3IoKVxuICAgICk7XG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5zY2VuZS5yZW1vdmUodGhpcy5yZWYpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG4vLyBQcm9taXNlIHBvbHlmaWxsIGZvciBJRVxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJ2VzNi1wcm9taXNlJztcblxuaW1wb3J0IEhlbHBlcnMgZnJvbSAnLi4vLi4vdXRpbHMvaGVscGVycyc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gVGhpcyBjbGFzcyBwcmVsb2FkcyBhbGwgdGV4dHVyZXMgaW4gdGhlIGltYWdlRmlsZXMgYXJyYXkgaW4gdGhlIENvbmZpZyB2aWEgRVM2IFByb21pc2VzLlxuLy8gT25jZSBhbGwgdGV4dHVyZXMgYXJlIGRvbmUgbG9hZGluZyB0aGUgbW9kZWwgaXRzZWxmIHdpbGwgYmUgbG9hZGVkIGFmdGVyIHRoZSBQcm9taXNlIC50aGVuKCkgY2FsbGJhY2suXG4vLyBVc2luZyBwcm9taXNlcyB0byBwcmVsb2FkIHRleHR1cmVzIHByZXZlbnRzIGlzc3VlcyB3aGVuIGFwcGx5aW5nIHRleHR1cmVzIHRvIG1hdGVyaWFsc1xuLy8gYmVmb3JlIHRoZSB0ZXh0dXJlcyBoYXZlIGxvYWRlZC5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBQcm9wIHRoYXQgd2lsbCBjb250YWluIGFsbCBsb2FkZWQgdGV4dHVyZXNcbiAgICB0aGlzLnRleHR1cmVzID0ge307XG4gIH1cblxuICBsb2FkKCkge1xuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XG4gICAgY29uc3QgbWF4QW5pc290cm9weSA9IENvbmZpZy5tYXhBbmlzb3Ryb3B5O1xuICAgIGNvbnN0IGltYWdlRmlsZXMgPSBDb25maWcudGV4dHVyZS5pbWFnZUZpbGVzO1xuICAgIGNvbnN0IHByb21pc2VBcnJheSA9IFtdO1xuXG4gICAgbG9hZGVyLnNldFBhdGgoQ29uZmlnLnRleHR1cmUucGF0aCk7XG5cbiAgICBpbWFnZUZpbGVzLmZvckVhY2goaW1hZ2VGaWxlID0+IHtcbiAgICAgIC8vIEFkZCBhbiBpbmRpdmlkdWFsIFByb21pc2UgZm9yIGVhY2ggaW1hZ2UgaW4gYXJyYXlcbiAgICAgIHByb21pc2VBcnJheS5wdXNoKG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gRWFjaCBQcm9taXNlIHdpbGwgYXR0ZW1wdCB0byBsb2FkIHRoZSBpbWFnZSBmaWxlXG4gICAgICAgIGxvYWRlci5sb2FkKGltYWdlRmlsZS5pbWFnZSxcbiAgICAgICAgICAvLyBUaGlzIGdldHMgY2FsbGVkIG9uIGxvYWQgd2l0aCB0aGUgbG9hZGVkIHRleHR1cmVcbiAgICAgICAgICB0ZXh0dXJlID0+IHtcbiAgICAgICAgICAgIHRleHR1cmUuYW5pc290cm9weSA9IG1heEFuaXNvdHJvcHk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgUHJvbWlzZSB3aXRoIG9iamVjdCBvZiB0ZXh0dXJlIGlmIGl0IGlzIGluc3RhbmNlIG9mIFRIUkVFLlRleHR1cmVcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsT0JKID0ge307XG4gICAgICAgICAgICBtb2RlbE9CSltpbWFnZUZpbGUubmFtZV0gPSB0ZXh0dXJlO1xuICAgICAgICAgICAgaWYobW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdIGluc3RhbmNlb2YgVEhSRUUuVGV4dHVyZSlcbiAgICAgICAgICAgICAgcmVzb2x2ZShtb2RlbE9CSik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBIZWxwZXJzLmxvZ1Byb2dyZXNzKCksXG4gICAgICAgICAgeGhyID0+IHJlamVjdChuZXcgRXJyb3IoeGhyICsgJ0FuIGVycm9yIG9jY3VycmVkIGxvYWRpbmcgd2hpbGUgbG9hZGluZyAnICsgaW1hZ2VGaWxlLmltYWdlKSlcbiAgICAgICAgKVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBQcm9taXNlcyBpbiBhcnJheSBhbmQgcmV0dXJuIGFub3RoZXIgUHJvbWlzZSB3aGVuIGFsbCBoYXZlIHJlc29sdmVkIG9yIGNvbnNvbGUgbG9nIHJlYXNvbiB3aGVuIGFueSByZWplY3RcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKHRleHR1cmVzID0+IHtcbiAgICAgIC8vIFNldCB0aGUgdGV4dHVyZXMgcHJvcCBvYmplY3QgdG8gaGF2ZSBuYW1lIGJlIHRoZSByZXNvbHZlZCB0ZXh0dXJlXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlc1tPYmplY3Qua2V5cyh0ZXh0dXJlc1tpXSlbMF1dID0gdGV4dHVyZXNbaV1bT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXTtcbiAgICAgIH1cbiAgICB9LCByZWFzb24gPT4gY29uc29sZS5sb2cocmVhc29uKSk7XG4gIH1cbn1cbiIsImltcG9ydCBUV0VFTiBmcm9tICdAdHdlZW5qcy90d2Vlbi5qcyc7XG5cbi8vIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSBzdGF0ZSBvZiB0aGUgYXBwXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzRGV2OiBmYWxzZSxcbiAgaXNTaG93aW5nU3RhdHM6IHRydWUsXG4gIGlzTG9hZGVkOiBmYWxzZSxcbiAgaXNUd2VlbmluZzogZmFsc2UsXG4gIGlzUm90YXRpbmc6IHRydWUsXG4gIGlzTW91c2VNb3Zpbmc6IGZhbHNlLFxuICBpc01vdXNlT3ZlcjogZmFsc2UsXG4gIG1heEFuaXNvdHJvcHk6IDEsXG4gIGRwcjogMSxcbiAgZWFzaW5nOiBUV0VFTi5FYXNpbmcuUXVhZHJhdGljLkluT3V0LFxuICBkdXJhdGlvbjogNTAwLFxuICBtb2RlbHM6IHsgXG4gICAgcGxheWVyOiB7XG4gICAgICBwYXRoOiAnLi9hc3NldHMvbW9kZWxzL3BsYXllclNwYWNlc2hpcC5nbGInLFxuICAgICAgc2NhbGU6IDEsXG4gICAgfSxcbiAgfSxcbiAgdGV4dHVyZToge1xuICAgIHBhdGg6ICcuL2Fzc2V0cy90ZXh0dXJlcy8nLFxuICAgIGltYWdlRmlsZXM6IFtcbiAgICAgIHsgbmFtZTogJ1VWJywgaW1hZ2U6ICdVVl9HcmlkX1NtLmpwZycgfVxuICAgIF1cbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogZmFsc2UsXG4gICAgd2lyZWZyYW1lOiBmYWxzZSxcbiAgICB0cmFuc2x1Y2VudDogdHJ1ZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmXG4gICAgfVxuICB9LFxuICBmb2c6IHtcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgbmVhcjogMC4wMDA4XG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogMzUsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxNi85LFxuICAgIHBvc1g6IDAsXG4gICAgcG9zWTogNSxcbiAgICBwb3NaOiAtMTUsXG4gIH0sXG4gIGNvbnRyb2xzOiB7XG4gICAgYXV0b1JvdGF0ZTogZmFsc2UsXG4gICAgYXV0b1JvdGF0ZVNwZWVkOiAtMC41LFxuICAgIHJvdGF0ZVNwZWVkOiAwLjUsXG4gICAgem9vbVNwZWVkOiAwLjgsXG4gICAgbWluRGlzdGFuY2U6IDIwMCxcbiAgICBtYXhEaXN0YW5jZTogNjAwLFxuICAgIG1pblBvbGFyQW5nbGU6IE1hdGguUEkgLyA1LFxuICAgIG1heFBvbGFyQW5nbGU6IE1hdGguUEkgLyAyLFxuICAgIG1pbkF6aW11dGhBbmdsZTogLUluZmluaXR5LFxuICAgIG1heEF6aW11dGhBbmdsZTogSW5maW5pdHksXG4gICAgZW5hYmxlRGFtcGluZzogdHJ1ZSxcbiAgICBkYW1waW5nRmFjdG9yOiAwLjUsXG4gICAgZW5hYmxlWm9vbTogdHJ1ZSxcbiAgICB0YXJnZXQ6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgejogMFxuICAgIH1cbiAgfSxcbiAgYW1iaWVudExpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHgxNDE0MTRcbiAgfSxcbiAgZGlyZWN0aW9uYWxMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZjBmMGYwLFxuICAgIGludGVuc2l0eTogMC40LFxuICAgIHg6IC03NSxcbiAgICB5OiAyODAsXG4gICAgejogMTUwXG4gIH0sXG4gIHNoYWRvdzoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgaGVscGVyRW5hYmxlZDogdHJ1ZSxcbiAgICBiaWFzOiAwLFxuICAgIG1hcFdpZHRoOiAyMDQ4LFxuICAgIG1hcEhlaWdodDogMjA0OCxcbiAgICBuZWFyOiAyNTAsXG4gICAgZmFyOiA0MDAsXG4gICAgdG9wOiAxMDAsXG4gICAgcmlnaHQ6IDEwMCxcbiAgICBib3R0b206IC0xMDAsXG4gICAgbGVmdDogLTEwMFxuICB9LFxuICBwb2ludExpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHhmZmZmZmYsXG4gICAgaW50ZW5zaXR5OiAwLjM0LFxuICAgIGRpc3RhbmNlOiAxMTUsXG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIHo6IDBcbiAgfSxcbiAgaGVtaUxpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHhjOGM4YzgsXG4gICAgZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC41NSxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMFxuICB9XG59O1xuIiwiLyoqXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICovXG5cbmltcG9ydCB7XG4gIEJ1ZmZlckF0dHJpYnV0ZSxcbiAgQnVmZmVyR2VvbWV0cnksXG4gIEludGVybGVhdmVkQnVmZmVyLFxuICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcbiAgVHJpYW5nbGVGYW5EcmF3TW9kZSxcbiAgVHJpYW5nbGVTdHJpcERyYXdNb2RlLFxuICBUcmlhbmdsZXNEcmF3TW9kZSxcbiAgVmVjdG9yMixcbiAgVmVjdG9yMyxcbn0gZnJvbSAndGhyZWUnO1xuXG52YXIgQnVmZmVyR2VvbWV0cnlVdGlscyA9IHtcbiAgY29tcHV0ZVRhbmdlbnRzOiBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5pbmRleDtcbiAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAvLyBiYXNlZCBvbiBodHRwOi8vd3d3LnRlcmF0aG9uLmNvbS9jb2RlL3RhbmdlbnQuaHRtbFxuICAgIC8vIChwZXIgdmVydGV4IHRhbmdlbnRzKVxuXG4gICAgaWYgKFxuICAgICAgaW5kZXggPT09IG51bGwgfHxcbiAgICAgIGF0dHJpYnV0ZXMucG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgYXR0cmlidXRlcy5ub3JtYWwgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgYXR0cmlidXRlcy51diA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLmNvbXB1dGVUYW5nZW50cygpIGZhaWxlZC4gTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzIChpbmRleCwgcG9zaXRpb24sIG5vcm1hbCBvciB1diknXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbmRpY2VzID0gaW5kZXguYXJyYXk7XG4gICAgdmFyIHBvc2l0aW9ucyA9IGF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gICAgdmFyIG5vcm1hbHMgPSBhdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTtcbiAgICB2YXIgdXZzID0gYXR0cmlidXRlcy51di5hcnJheTtcblxuICAgIHZhciBuVmVydGljZXMgPSBwb3NpdGlvbnMubGVuZ3RoIC8gMztcblxuICAgIGlmIChhdHRyaWJ1dGVzLnRhbmdlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCd0YW5nZW50JywgbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDQgKiBuVmVydGljZXMpLCA0KSk7XG4gICAgfVxuXG4gICAgdmFyIHRhbmdlbnRzID0gYXR0cmlidXRlcy50YW5nZW50LmFycmF5O1xuXG4gICAgdmFyIHRhbjEgPSBbXSxcbiAgICAgICAgdGFuMiA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuVmVydGljZXM7IGkrKykge1xuICAgICAgdGFuMVtpXSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICB0YW4yW2ldID0gbmV3IFZlY3RvcjMoKTtcbiAgICB9XG5cbiAgICB2YXIgdkEgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICB2QiA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIHZDID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgdXZBID0gbmV3IFZlY3RvcjIoKSxcbiAgICAgICAgdXZCID0gbmV3IFZlY3RvcjIoKSxcbiAgICAgICAgdXZDID0gbmV3IFZlY3RvcjIoKSxcbiAgICAgICAgc2RpciA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIHRkaXIgPSBuZXcgVmVjdG9yMygpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlVHJpYW5nbGUoYSwgYiwgYykge1xuICAgICAgdkEuZnJvbUFycmF5KHBvc2l0aW9ucywgYSAqIDMpO1xuICAgICAgdkIuZnJvbUFycmF5KHBvc2l0aW9ucywgYiAqIDMpO1xuICAgICAgdkMuZnJvbUFycmF5KHBvc2l0aW9ucywgYyAqIDMpO1xuXG4gICAgICB1dkEuZnJvbUFycmF5KHV2cywgYSAqIDIpO1xuICAgICAgdXZCLmZyb21BcnJheSh1dnMsIGIgKiAyKTtcbiAgICAgIHV2Qy5mcm9tQXJyYXkodXZzLCBjICogMik7XG5cbiAgICAgIHZCLnN1Yih2QSk7XG4gICAgICB2Qy5zdWIodkEpO1xuXG4gICAgICB1dkIuc3ViKHV2QSk7XG4gICAgICB1dkMuc3ViKHV2QSk7XG5cbiAgICAgIHZhciByID0gMS4wIC8gKHV2Qi54ICogdXZDLnkgLSB1dkMueCAqIHV2Qi55KTtcblxuICAgICAgLy8gc2lsZW50bHkgaWdub3JlIGRlZ2VuZXJhdGUgdXYgdHJpYW5nbGVzIGhhdmluZyBjb2luY2lkZW50IG9yIGNvbGluZWFyIHZlcnRpY2VzXG5cbiAgICAgIGlmICghaXNGaW5pdGUocikpIHJldHVybjtcblxuICAgICAgc2Rpci5jb3B5KHZCKS5tdWx0aXBseVNjYWxhcih1dkMueSkuYWRkU2NhbGVkVmVjdG9yKHZDLCAtdXZCLnkpLm11bHRpcGx5U2NhbGFyKHIpO1xuICAgICAgdGRpci5jb3B5KHZDKS5tdWx0aXBseVNjYWxhcih1dkIueCkuYWRkU2NhbGVkVmVjdG9yKHZCLCAtdXZDLngpLm11bHRpcGx5U2NhbGFyKHIpO1xuXG4gICAgICB0YW4xW2FdLmFkZChzZGlyKTtcbiAgICAgIHRhbjFbYl0uYWRkKHNkaXIpO1xuICAgICAgdGFuMVtjXS5hZGQoc2Rpcik7XG5cbiAgICAgIHRhbjJbYV0uYWRkKHRkaXIpO1xuICAgICAgdGFuMltiXS5hZGQodGRpcik7XG4gICAgICB0YW4yW2NdLmFkZCh0ZGlyKTtcbiAgICB9XG5cbiAgICB2YXIgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xuXG4gICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGdyb3VwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgIGNvdW50OiBpbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgfSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcblxuICAgICAgdmFyIHN0YXJ0ID0gZ3JvdXAuc3RhcnQ7XG4gICAgICB2YXIgY291bnQgPSBncm91cC5jb3VudDtcblxuICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0LCBqbCA9IHN0YXJ0ICsgY291bnQ7IGogPCBqbDsgaiArPSAzKSB7XG4gICAgICAgIGhhbmRsZVRyaWFuZ2xlKGluZGljZXNbaiArIDBdLCBpbmRpY2VzW2ogKyAxXSwgaW5kaWNlc1tqICsgMl0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0bXAgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICB0bXAyID0gbmV3IFZlY3RvcjMoKTtcbiAgICB2YXIgbiA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIG4yID0gbmV3IFZlY3RvcjMoKTtcbiAgICB2YXIgdywgdCwgdGVzdDtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVZlcnRleCh2KSB7XG4gICAgICBuLmZyb21BcnJheShub3JtYWxzLCB2ICogMyk7XG4gICAgICBuMi5jb3B5KG4pO1xuXG4gICAgICB0ID0gdGFuMVt2XTtcblxuICAgICAgLy8gR3JhbS1TY2htaWR0IG9ydGhvZ29uYWxpemVcblxuICAgICAgdG1wLmNvcHkodCk7XG4gICAgICB0bXAuc3ViKG4ubXVsdGlwbHlTY2FsYXIobi5kb3QodCkpKS5ub3JtYWxpemUoKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGhhbmRlZG5lc3NcblxuICAgICAgdG1wMi5jcm9zc1ZlY3RvcnMobjIsIHQpO1xuICAgICAgdGVzdCA9IHRtcDIuZG90KHRhbjJbdl0pO1xuICAgICAgdyA9IHRlc3QgPCAwLjAgPyAtMS4wIDogMS4wO1xuXG4gICAgICB0YW5nZW50c1t2ICogNF0gPSB0bXAueDtcbiAgICAgIHRhbmdlbnRzW3YgKiA0ICsgMV0gPSB0bXAueTtcbiAgICAgIHRhbmdlbnRzW3YgKiA0ICsgMl0gPSB0bXAuejtcbiAgICAgIHRhbmdlbnRzW3YgKiA0ICsgM10gPSB3O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG5cbiAgICAgIHZhciBzdGFydCA9IGdyb3VwLnN0YXJ0O1xuICAgICAgdmFyIGNvdW50ID0gZ3JvdXAuY291bnQ7XG5cbiAgICAgIGZvciAodmFyIGogPSBzdGFydCwgamwgPSBzdGFydCArIGNvdW50OyBqIDwgamw7IGogKz0gMykge1xuICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMF0pO1xuICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMV0pO1xuICAgICAgICBoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tqICsgMl0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtICB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyaWVzXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IHVzZUdyb3Vwc1xuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeX1cbiAgICovXG4gIG1lcmdlQnVmZmVyR2VvbWV0cmllczogZnVuY3Rpb24gKGdlb21ldHJpZXMsIHVzZUdyb3Vwcykge1xuICAgIHZhciBpc0luZGV4ZWQgPSBnZW9tZXRyaWVzWzBdLmluZGV4ICE9PSBudWxsO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldChPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLmF0dHJpYnV0ZXMpKTtcbiAgICB2YXIgbW9ycGhBdHRyaWJ1dGVzVXNlZCA9IG5ldyBTZXQoT2JqZWN0LmtleXMoZ2VvbWV0cmllc1swXS5tb3JwaEF0dHJpYnV0ZXMpKTtcblxuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG4gICAgdmFyIG1vcnBoQXR0cmlidXRlcyA9IHt9O1xuXG4gICAgdmFyIG1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gZ2VvbWV0cmllc1swXS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcblxuICAgIHZhciBtZXJnZWRHZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xuXG4gICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICB2YXIgYXR0cmlidXRlc0NvdW50ID0gMDtcblxuICAgICAgLy8gZW5zdXJlIHRoYXQgYWxsIGdlb21ldHJpZXMgYXJlIGluZGV4ZWQsIG9yIG5vbmVcblxuICAgICAgaWYgKGlzSW5kZXhlZCAhPT0gKGdlb21ldHJ5LmluZGV4ICE9PSBudWxsKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgaSArXG4gICAgICAgICAgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIGluZGV4IGF0dHJpYnV0ZSBleGlzdHMgYW1vbmcgYWxsIGdlb21ldHJpZXMsIG9yIGluIG5vbmUgb2YgdGhlbS4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBnYXRoZXIgYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxuXG4gICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzVXNlZC5oYXMobmFtZSkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgJy4gQWxsIGdlb21ldHJpZXMgbXVzdCBoYXZlIGNvbXBhdGlibGUgYXR0cmlidXRlczsgbWFrZSBzdXJlIFwiJyArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGVzW25hbWVdID0gW107XG5cbiAgICAgICAgYXR0cmlidXRlc1tuYW1lXS5wdXNoKGdlb21ldHJ5LmF0dHJpYnV0ZXNbbmFtZV0pO1xuXG4gICAgICAgIGF0dHJpYnV0ZXNDb3VudCsrO1xuICAgICAgfVxuXG4gICAgICAvLyBlbnN1cmUgZ2VvbWV0cmllcyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzXG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzQ291bnQgIT09IGF0dHJpYnV0ZXNVc2VkLnNpemUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgIGkgK1xuICAgICAgICAgICcuIE1ha2Ugc3VyZSBhbGwgZ2VvbWV0cmllcyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIGdhdGhlciBtb3JwaCBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XG5cbiAgICAgIGlmIChtb3JwaFRhcmdldHNSZWxhdGl2ZSAhPT0gZ2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgIGkgK1xuICAgICAgICAgICcuIC5tb3JwaFRhcmdldHNSZWxhdGl2ZSBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBuYW1lIGluIGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykge1xuICAgICAgICBpZiAoIW1vcnBoQXR0cmlidXRlc1VzZWQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgICBpICtcbiAgICAgICAgICAgICcuICAubW9ycGhBdHRyaWJ1dGVzIG11c3QgYmUgY29uc2lzdGVudCB0aHJvdWdob3V0IGFsbCBnZW9tZXRyaWVzLidcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcblxuICAgICAgICBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ucHVzaChnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBnYXRoZXIgLnVzZXJEYXRhXG5cbiAgICAgIG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhID0gbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEgfHwgW107XG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YS5wdXNoKGdlb21ldHJ5LnVzZXJEYXRhKTtcblxuICAgICAgaWYgKHVzZUdyb3Vwcykge1xuICAgICAgICB2YXIgY291bnQ7XG5cbiAgICAgICAgaWYgKGlzSW5kZXhlZCkge1xuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY291bnQgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAnLiBUaGUgZ2VvbWV0cnkgbXVzdCBoYXZlIGVpdGhlciBhbiBpbmRleCBvciBhIHBvc2l0aW9uIGF0dHJpYnV0ZSdcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVyZ2VkR2VvbWV0cnkuYWRkR3JvdXAob2Zmc2V0LCBjb3VudCwgaSk7XG5cbiAgICAgICAgb2Zmc2V0ICs9IGNvdW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1lcmdlIGluZGljZXNcblxuICAgIGlmIChpc0luZGV4ZWQpIHtcbiAgICAgIHZhciBpbmRleE9mZnNldCA9IDA7XG4gICAgICB2YXIgbWVyZ2VkSW5kZXggPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGdlb21ldHJpZXNbaV0uaW5kZXg7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpbmRleC5jb3VudDsgKytqKSB7XG4gICAgICAgICAgbWVyZ2VkSW5kZXgucHVzaChpbmRleC5nZXRYKGopICsgaW5kZXhPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXhPZmZzZXQgKz0gZ2VvbWV0cmllc1tpXS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O1xuICAgICAgfVxuXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRJbmRleChtZXJnZWRJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gbWVyZ2UgYXR0cmlidXRlc1xuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgbWVyZ2VkQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoYXR0cmlidXRlc1tuYW1lXSk7XG5cbiAgICAgIGlmICghbWVyZ2VkQXR0cmlidXRlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSAnICtcbiAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAnIGF0dHJpYnV0ZS4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUobmFtZSwgbWVyZ2VkQXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICAvLyBtZXJnZSBtb3JwaCBhdHRyaWJ1dGVzXG5cbiAgICBmb3IgKHZhciBuYW1lIGluIG1vcnBoQXR0cmlidXRlcykge1xuICAgICAgdmFyIG51bU1vcnBoVGFyZ2V0cyA9IG1vcnBoQXR0cmlidXRlc1tuYW1lXVswXS5sZW5ndGg7XG5cbiAgICAgIGlmIChudW1Nb3JwaFRhcmdldHMgPT09IDApIGJyZWFrO1xuXG4gICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgPSBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgfHwge307XG4gICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsraSkge1xuICAgICAgICB2YXIgbW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgbW9ycGhBdHRyaWJ1dGVzVG9NZXJnZS5wdXNoKG1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhtb3JwaEF0dHJpYnV0ZXNUb01lcmdlKTtcblxuICAgICAgICBpZiAoIW1lcmdlZE1vcnBoQXR0cmlidXRlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdoaWxlIHRyeWluZyB0byBtZXJnZSB0aGUgJyArXG4gICAgICAgICAgICBuYW1lICtcbiAgICAgICAgICAgICcgbW9ycGhBdHRyaWJ1dGUuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV0ucHVzaChtZXJnZWRNb3JwaEF0dHJpYnV0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlZEdlb21ldHJ5O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckF0dHJpYnV0ZT59IGF0dHJpYnV0ZXNcbiAgICogQHJldHVybiB7QnVmZmVyQXR0cmlidXRlfVxuICAgKi9cbiAgbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIHZhciBUeXBlZEFycmF5O1xuICAgIHZhciBpdGVtU2l6ZTtcbiAgICB2YXIgbm9ybWFsaXplZDtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoVHlwZWRBcnJheSA9PT0gdW5kZWZpbmVkKSBUeXBlZEFycmF5ID0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yO1xuICAgICAgaWYgKFR5cGVkQXJyYXkgIT09IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuYXJyYXkgbXVzdCBiZSBvZiBjb25zaXN0ZW50IGFycmF5IHR5cGVzIGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtU2l6ZSA9PT0gdW5kZWZpbmVkKSBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcbiAgICAgIGlmIChpdGVtU2l6ZSAhPT0gYXR0cmlidXRlLml0ZW1TaXplKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09IHVuZGVmaW5lZCkgbm9ybWFsaXplZCA9IGF0dHJpYnV0ZS5ub3JtYWxpemVkO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGF0dHJpYnV0ZS5ub3JtYWxpemVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBhcnJheUxlbmd0aCArPSBhdHRyaWJ1dGUuYXJyYXkubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgYXJyYXkuc2V0KGF0dHJpYnV0ZXNbaV0uYXJyYXksIG9mZnNldCk7XG5cbiAgICAgIG9mZnNldCArPSBhdHRyaWJ1dGVzW2ldLmFycmF5Lmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckF0dHJpYnV0ZT59IGF0dHJpYnV0ZXNcbiAgICogQHJldHVybiB7QXJyYXk8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxuICAgKi9cbiAgaW50ZXJsZWF2ZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgLy8gSW50ZXJsZWF2ZXMgdGhlIHByb3ZpZGVkIGF0dHJpYnV0ZXMgaW50byBhbiBJbnRlcmxlYXZlZEJ1ZmZlciBhbmQgcmV0dXJuc1xuICAgIC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcbiAgICB2YXIgVHlwZWRBcnJheTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSB0aGUgbGVuZ3RoIGFuZCB0eXBlIG9mIHRoZSBpbnRlcmxlYXZlZEJ1ZmZlclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldO1xuXG4gICAgICBpZiAoVHlwZWRBcnJheSA9PT0gdW5kZWZpbmVkKSBUeXBlZEFycmF5ID0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yO1xuICAgICAgaWYgKFR5cGVkQXJyYXkgIT09IGF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRyaWJ1dGVCdWZmZXJzIG9mIGRpZmZlcmVudCB0eXBlcyBjYW5ub3QgYmUgaW50ZXJsZWF2ZWQnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XG4gICAgICBzdHJpZGUgKz0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgc2V0IG9mIGJ1ZmZlciBhdHRyaWJ1dGVzXG4gICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEludGVybGVhdmVkQnVmZmVyKG5ldyBUeXBlZEFycmF5KGFycmF5TGVuZ3RoKSwgc3RyaWRlKTtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIGdldHRlcnMgPSBbJ2dldFgnLCAnZ2V0WScsICdnZXRaJywgJ2dldFcnXTtcbiAgICB2YXIgc2V0dGVycyA9IFsnc2V0WCcsICdzZXRZJywgJ3NldFonLCAnc2V0VyddO1xuXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICB2YXIgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG4gICAgICB2YXIgY291bnQgPSBhdHRyaWJ1dGUuY291bnQ7XG4gICAgICB2YXIgaWJhID0gbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKFxuICAgICAgICBpbnRlcmxlYXZlZEJ1ZmZlcixcbiAgICAgICAgaXRlbVNpemUsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgYXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICk7XG4gICAgICByZXMucHVzaChpYmEpO1xuXG4gICAgICBvZmZzZXQgKz0gaXRlbVNpemU7XG5cbiAgICAgIC8vIE1vdmUgdGhlIGRhdGEgZm9yIGVhY2ggYXR0cmlidXRlIGludG8gdGhlIG5ldyBpbnRlcmxlYXZlZEJ1ZmZlclxuICAgICAgLy8gYXQgdGhlIGFwcHJvcHJpYXRlIG9mZnNldFxuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb3VudDsgYysrKSB7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xuICAgICAgICAgIGliYVtzZXR0ZXJzW2tdXShjLCBhdHRyaWJ1dGVbZ2V0dGVyc1trXV0oYykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJ5XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGVzdGltYXRlQnl0ZXNVc2VkOiBmdW5jdGlvbiAoZ2VvbWV0cnkpIHtcbiAgICAvLyBSZXR1cm4gdGhlIGVzdGltYXRlZCBtZW1vcnkgdXNlZCBieSB0aGlzIGdlb21ldHJ5IGluIGJ5dGVzXG4gICAgLy8gQ2FsY3VsYXRlIHVzaW5nIGl0ZW1TaXplLCBjb3VudCwgYW5kIEJZVEVTX1BFUl9FTEVNRU5UIHRvIGFjY291bnRcbiAgICAvLyBmb3IgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzLlxuICAgIHZhciBtZW0gPSAwO1xuICAgIGZvciAodmFyIG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgdmFyIGF0dHIgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICBtZW0gKz0gYXR0ci5jb3VudCAqIGF0dHIuaXRlbVNpemUgKiBhdHRyLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgIH1cblxuICAgIHZhciBpbmRpY2VzID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICBtZW0gKz0gaW5kaWNlcyA/IGluZGljZXMuY291bnQgKiBpbmRpY2VzLml0ZW1TaXplICogaW5kaWNlcy5hcnJheS5CWVRFU19QRVJfRUxFTUVOVCA6IDA7XG4gICAgcmV0dXJuIG1lbTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxuICAgKiBAcmV0dXJuIHtCdWZmZXJHZW9tZXRyeT59XG4gICAqL1xuICBtZXJnZVZlcnRpY2VzOiBmdW5jdGlvbiAoZ2VvbWV0cnksIHRvbGVyYW5jZSA9IDFlLTQpIHtcbiAgICB0b2xlcmFuY2UgPSBNYXRoLm1heCh0b2xlcmFuY2UsIE51bWJlci5FUFNJTE9OKTtcblxuICAgIC8vIEdlbmVyYXRlIGFuIGluZGV4IGJ1ZmZlciBpZiB0aGUgZ2VvbWV0cnkgZG9lc24ndCBoYXZlIG9uZSwgb3Igb3B0aW1pemUgaXRcbiAgICAvLyBpZiBpdCdzIGFscmVhZHkgYXZhaWxhYmxlLlxuICAgIHZhciBoYXNoVG9JbmRleCA9IHt9O1xuICAgIHZhciBpbmRpY2VzID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICB2YXIgcG9zaXRpb25zID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuICAgIHZhciB2ZXJ0ZXhDb3VudCA9IGluZGljZXMgPyBpbmRpY2VzLmNvdW50IDogcG9zaXRpb25zLmNvdW50O1xuXG4gICAgLy8gbmV4dCB2YWx1ZSBmb3IgdHJpYW5nbGUgaW5kaWNlc1xuICAgIHZhciBuZXh0SW5kZXggPSAwO1xuXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcbiAgICB2YXIgYXR0cmlidXRlTmFtZXMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5hdHRyaWJ1dGVzKTtcbiAgICB2YXIgYXR0ckFycmF5cyA9IHt9O1xuICAgIHZhciBtb3JwaEF0dHJzQXJyYXlzID0ge307XG4gICAgdmFyIG5ld0luZGljZXMgPSBbXTtcbiAgICB2YXIgZ2V0dGVycyA9IFsnZ2V0WCcsICdnZXRZJywgJ2dldFonLCAnZ2V0VyddO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgYXJyYXlzXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbaV07XG5cbiAgICAgIGF0dHJBcnJheXNbbmFtZV0gPSBbXTtcblxuICAgICAgdmFyIG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXTtcbiAgICAgIGlmIChtb3JwaEF0dHIpIHtcbiAgICAgICAgbW9ycGhBdHRyc0FycmF5c1tuYW1lXSA9IG5ldyBBcnJheShtb3JwaEF0dHIubGVuZ3RoKS5maWxsKCkubWFwKCgpID0+IFtdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb252ZXJ0IHRoZSBlcnJvciB0b2xlcmFuY2UgdG8gYW4gYW1vdW50IG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXG4gICAgdmFyIGRlY2ltYWxTaGlmdCA9IE1hdGgubG9nMTAoMSAvIHRvbGVyYW5jZSk7XG4gICAgdmFyIHNoaWZ0TXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBkZWNpbWFsU2hpZnQpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4Q291bnQ7IGkrKykge1xuICAgICAgdmFyIGluZGV4ID0gaW5kaWNlcyA/IGluZGljZXMuZ2V0WChpKSA6IGk7XG5cbiAgICAgIC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIHZlcnRleCBhdHRyaWJ1dGVzIGF0IHRoZSBjdXJyZW50IGluZGV4ICdpJ1xuICAgICAgdmFyIGhhc2ggPSAnJztcbiAgICAgIGZvciAodmFyIGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcblxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcbiAgICAgICAgICAvLyBkb3VibGUgdGlsZGUgdHJ1bmNhdGVzIHRoZSBkZWNpbWFsIHZhbHVlXG4gICAgICAgICAgaGFzaCArPSBgJHt+fihhdHRyaWJ1dGVbZ2V0dGVyc1trXV0oaW5kZXgpICogc2hpZnRNdWx0aXBsaWVyKX0sYDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBpZiBpdCdzIGFscmVhZHlcbiAgICAgIC8vIHVzZWQgYnkgYW5vdGhlciBpbmRleFxuICAgICAgaWYgKGhhc2ggaW4gaGFzaFRvSW5kZXgpIHtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGhhc2hUb0luZGV4W2hhc2hdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNvcHkgZGF0YSB0byB0aGUgbmV3IGluZGV4IGluIHRoZSBhdHRyaWJ1dGUgYXJyYXlzXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tqXTtcbiAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgIHZhciBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgICAgIHZhciBuZXdhcnJheSA9IGF0dHJBcnJheXNbbmFtZV07XG4gICAgICAgICAgdmFyIG5ld01vcnBoQXJyYXlzID0gbW9ycGhBdHRyc0FycmF5c1tuYW1lXTtcblxuICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xuICAgICAgICAgICAgdmFyIGdldHRlckZ1bmMgPSBnZXR0ZXJzW2tdO1xuICAgICAgICAgICAgbmV3YXJyYXkucHVzaChhdHRyaWJ1dGVbZ2V0dGVyRnVuY10oaW5kZXgpKTtcblxuICAgICAgICAgICAgaWYgKG1vcnBoQXR0cikge1xuICAgICAgICAgICAgICBmb3IgKHZhciBtID0gMCwgbWwgPSBtb3JwaEF0dHIubGVuZ3RoOyBtIDwgbWw7IG0rKykge1xuICAgICAgICAgICAgICAgIG5ld01vcnBoQXJyYXlzW21dLnB1c2gobW9ycGhBdHRyW21dW2dldHRlckZ1bmNdKGluZGV4KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBoYXNoVG9JbmRleFtoYXNoXSA9IG5leHRJbmRleDtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKG5leHRJbmRleCk7XG4gICAgICAgIG5leHRJbmRleCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIHR5cGVkIGFycmF5cyBmcm9tIG5ldyBhdHRyaWJ1dGUgYXJyYXlzIGFuZCB1cGRhdGVcbiAgICAvLyB0aGUgYXR0cmlidXRlQnVmZmVyc1xuICAgIGNvbnN0IHJlc3VsdCA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZXNbaV07XG4gICAgICB2YXIgb2xkQXR0cmlidXRlID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuXG4gICAgICB2YXIgYnVmZmVyID0gbmV3IG9sZEF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3RvcihhdHRyQXJyYXlzW25hbWVdKTtcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKGJ1ZmZlciwgb2xkQXR0cmlidXRlLml0ZW1TaXplLCBvbGRBdHRyaWJ1dGUubm9ybWFsaXplZCk7XG5cbiAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cmlidXRlKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGUgYXJyYXlzXG4gICAgICBpZiAobmFtZSBpbiBtb3JwaEF0dHJzQXJyYXlzKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9ycGhBdHRyc0FycmF5c1tuYW1lXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBvbGRNb3JwaEF0dHJpYnV0ZSA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXTtcblxuICAgICAgICAgIHZhciBidWZmZXIgPSBuZXcgb2xkTW9ycGhBdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IobW9ycGhBdHRyc0FycmF5c1tuYW1lXVtqXSk7XG4gICAgICAgICAgdmFyIG1vcnBoQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLml0ZW1TaXplLFxuICAgICAgICAgICAgb2xkTW9ycGhBdHRyaWJ1dGUubm9ybWFsaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzdWx0Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXSA9IG1vcnBoQXR0cmlidXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5kaWNlc1xuXG4gICAgcmVzdWx0LnNldEluZGV4KG5ld0luZGljZXMpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRyYXdNb2RlXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cbiAgICovXG4gIHRvVHJpYW5nbGVzRHJhd01vZGU6IGZ1bmN0aW9uIChnZW9tZXRyeSwgZHJhd01vZGUpIHtcbiAgICBpZiAoZHJhd01vZGUgPT09IFRyaWFuZ2xlc0RyYXdNb2RlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogR2VvbWV0cnkgYWxyZWFkeSBkZWZpbmVkIGFzIHRyaWFuZ2xlcy4nXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH1cblxuICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSB8fCBkcmF3TW9kZSA9PT0gVHJpYW5nbGVTdHJpcERyYXdNb2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG4gICAgICAvLyBnZW5lcmF0ZSBpbmRleCBpZiBub3QgcHJlc2VudFxuXG4gICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgICB2YXIgcG9zaXRpb24gPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaChpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKTtcbiAgICAgICAgICBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5kZWZpbmVkIHBvc2l0aW9uIGF0dHJpYnV0ZS4gUHJvY2Vzc2luZyBub3QgcG9zc2libGUuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vXG5cbiAgICAgIHZhciBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcbiAgICAgIHZhciBuZXdJbmRpY2VzID0gW107XG5cbiAgICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSkge1xuICAgICAgICAvLyBnbC5UUklBTkdMRV9GQU5cblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoMCkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBnbC5UUklBTkdMRV9TVFJJUFxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobmV3SW5kaWNlcy5sZW5ndGggLyAzICE9PSBudW1iZXJPZlRyaWFuZ2xlcykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5hYmxlIHRvIGdlbmVyYXRlIGNvcnJlY3QgYW1vdW50IG9mIHRyaWFuZ2xlcy4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIGJ1aWxkIGZpbmFsIGdlb21ldHJ5XG5cbiAgICAgIHZhciBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcbiAgICAgIG5ld0dlb21ldHJ5LmNsZWFyR3JvdXBzKCk7XG5cbiAgICAgIHJldHVybiBuZXdHZW9tZXRyeTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5rbm93biBkcmF3IG1vZGU6JywgZHJhd01vZGUpO1xuICAgIHJldHVybiBnZW9tZXRyeTtcbiAgfSxcbn07XG5cbmV4cG9ydCB7IEJ1ZmZlckdlb21ldHJ5VXRpbHMgfTtcbiIsIi8qKlxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqIEBhdXRob3IgbXIuZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY2FudmFzOiAhIXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gIHdlYmdsOiAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgcmV0dXJuICEhKHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgJiYgKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSkpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSkoKSxcblxuICB3b3JrZXJzOiAhIXdpbmRvdy5Xb3JrZXIsXG4gIGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcblxuICBnZXRXZWJHTEVycm9yTWVzc2FnZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LmlkID0gJ3dlYmdsLWVycm9yLW1lc3NhZ2UnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9ICdtb25vc3BhY2UnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFNpemUgPSAnMTNweCc7XG4gICAgZWxlbWVudC5zdHlsZS5mb250V2VpZ2h0ID0gJ25vcm1hbCc7XG4gICAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7XG4gICAgZWxlbWVudC5zdHlsZS5jb2xvciA9ICcjMDAwJztcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmcgPSAnMS41ZW0nO1xuICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnNDAwcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luID0gJzVlbSBhdXRvIDAnO1xuXG4gICAgaWYoIXRoaXMud2ViZ2wpIHtcbiAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCA/IFtcbiAgICAgICAgJ1lvdXIgZ3JhcGhpY3MgY2FyZCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIgLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKSA6IFtcbiAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXG4gICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9LFxuXG4gIGFkZEdldFdlYkdMTWVzc2FnZTogZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICAgIHZhciBwYXJlbnQsIGlkLCBlbGVtZW50O1xuXG4gICAgcGFyYW1ldGVycyA9IHBhcmFtZXRlcnMgfHwge307XG5cbiAgICBwYXJlbnQgPSBwYXJhbWV0ZXJzLnBhcmVudCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5wYXJlbnQgOiBkb2N1bWVudC5ib2R5O1xuICAgIGlkID0gcGFyYW1ldGVycy5pZCAhPT0gdW5kZWZpbmVkID8gcGFyYW1ldGVycy5pZCA6ICdvbGRpZSc7XG5cbiAgICBlbGVtZW50ID0gdGhpcy5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xuICAgIGVsZW1lbnQuaWQgPSBpZDtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxufTtcbiIsIi8vIFByb3ZpZGVzIHNpbXBsZSBzdGF0aWMgZnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIGFwcFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVycyB7XG4gIHN0YXRpYyB0aHJvdHRsZShmbiwgdGhyZXNoaG9sZCwgc2NvcGUpIHtcbiAgICB0aHJlc2hob2xkIHx8ICh0aHJlc2hob2xkID0gMjUwKTtcbiAgICBsZXQgbGFzdCwgZGVmZXJUaW1lcjtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBzY29wZSB8fCB0aGlzO1xuXG4gICAgICBjb25zdCBub3cgID0gK25ldyBEYXRlLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICBpZihsYXN0ICYmIG5vdyA8IGxhc3QgKyB0aHJlc2hob2xkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWZlclRpbWVyKTtcbiAgICAgICAgZGVmZXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGFzdCA9IG5vdztcbiAgICAgICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfSwgdGhyZXNoaG9sZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGFzdCA9IG5vdztcbiAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBsb2dQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7XG4gICAgICBpZih4aHIubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICBjb25zdCBwZXJjZW50Q29tcGxldGUgPSB4aHIubG9hZGVkIC8geGhyLnRvdGFsICogMTAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlLCAyKSArICclIGRvd25sb2FkZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbG9nRXJyb3IoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgY29uc29sZS5lcnJvcih4aHIpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVDb2xvckNoYW5nZShjb2xvcikge1xuICAgIHJldHVybiAodmFsdWUpID0+IHtcbiAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKCcjJywgJzB4Jyk7XG4gICAgICB9XG5cbiAgICAgIGNvbG9yLnNldEhleCh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGUobWVzaCkge1xuICAgIHRoaXMubmVlZHNVcGRhdGUobWVzaC5tYXRlcmlhbCwgbWVzaC5nZW9tZXRyeSk7XG4gIH1cblxuICBzdGF0aWMgbmVlZHNVcGRhdGUobWF0ZXJpYWwsIGdlb21ldHJ5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgbWF0ZXJpYWwuc2hhZGluZyA9ICttYXRlcmlhbC5zaGFkaW5nOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgIG1hdGVyaWFsLnZlcnRleENvbG9ycyA9ICttYXRlcmlhbC52ZXJ0ZXhDb2xvcnM7IC8vRW5zdXJlIG51bWJlclxuICAgICAgbWF0ZXJpYWwuc2lkZSA9ICttYXRlcmlhbC5zaWRlOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICBnZW9tZXRyeS5ub3JtYWxzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICBnZW9tZXRyeS5jb2xvcnNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHVwZGF0ZVRleHR1cmUobWF0ZXJpYWwsIG1hdGVyaWFsS2V5LCB0ZXh0dXJlcykge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIG1hdGVyaWFsW21hdGVyaWFsS2V5XSA9IHRleHR1cmVzW2tleV07XG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfTtcbiAgfVxufVxuIiwiY29uc3QgQUxJQVMgPSB7XG4gICdsZWZ0J1x0XHQ6IDM3LFxuICAndXAnXHRcdCAgOiAzOCxcbiAgJ3JpZ2h0J1x0XHQ6IDM5LFxuICAnZG93bidcdFx0OiA0MCxcbiAgJ3NwYWNlJ1x0XHQ6IDMyLFxuICAndGFiJ1x0XHQgIDogOSxcbiAgJ2VzY2FwZSdcdDogMjdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudCkge1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgdGhpcy5rZXlDb2RlcyA9IHt9O1xuXG4gICAgLy8gYmluZCBrZXlFdmVudHNcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XG5cbiAgICAvLyBiaW5kIHdpbmRvdyBibHVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLm9uQmx1ciwgZmFsc2UpO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksIGZhbHNlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLCBmYWxzZSk7XG5cbiAgICAvLyB1bmJpbmQgd2luZG93IGJsdXIgZXZlbnRcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHRoaXMub25CbHVyLCBmYWxzZSk7XG4gIH1cblxuICBvbkJsdXIoKSB7XG4gICAgZm9yKGNvbnN0IHByb3AgaW4gdGhpcy5rZXlDb2RlcylcbiAgICAgIHRoaXMua2V5Q29kZXNbcHJvcF0gPSBmYWxzZTtcbiAgfVxuXG4gIG9uS2V5Q2hhbmdlKGV2ZW50KSB7XG4gICAgLy8gbG9nIHRvIGRlYnVnXG4gICAgLy9jb25zb2xlLmxvZygnb25LZXlDaGFuZ2UnLCBldmVudCwgZXZlbnQua2V5Q29kZSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50LmN0cmxLZXksIGV2ZW50LmFsdEtleSwgZXZlbnQubWV0YUtleSlcblxuICAgIC8vIHVwZGF0ZSB0aGlzLmtleUNvZGVzXG4gICAgY29uc3Qga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgdGhpcy5rZXlDb2Rlc1trZXlDb2RlXSA9IGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJztcbiAgfVxuXG4gIHByZXNzZWQoa2V5RGVzYykge1xuICAgIGNvbnN0IGtleXMgPSBrZXlEZXNjLnNwbGl0KCcrJyk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgaWYoT2JqZWN0LmtleXMoQUxJQVMpLmluZGV4T2Yoa2V5KSAhPSAtMSkge1xuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1tBTElBU1trZXldXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXNzZWQgPSB0aGlzLmtleUNvZGVzW2tleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCldO1xuICAgICAgfVxuICAgICAgaWYoIXByZXNzZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGV2ZW50TWF0Y2hlcyhldmVudCwga2V5RGVzYykge1xuICAgIGNvbnN0IGFsaWFzZXMgPSBBTElBUztcbiAgICBjb25zdCBhbGlhc0tleXMgPSBPYmplY3Qua2V5cyhhbGlhc2VzKTtcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdCgnKycpO1xuICAgIC8vIGxvZyB0byBkZWJ1Z1xuICAgIC8vIGNvbnNvbGUubG9nKCdldmVudE1hdGNoZXMnLCBldmVudCwgZXZlbnQua2V5Q29kZSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50LmN0cmxLZXksIGV2ZW50LmFsdEtleSwgZXZlbnQubWV0YUtleSlcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGxldCBwcmVzc2VkID0gZmFsc2U7XG4gICAgICBpZihrZXkgPT09ICdzaGlmdCcpIHtcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LnNoaWZ0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmKGtleSA9PT0gJ2N0cmwnKSB7XG4gICAgICAgIHByZXNzZWQgPSBldmVudC5jdHJsS2V5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmKGtleSA9PT0gJ2FsdCcpIHtcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LmFsdEtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZihrZXkgPT09ICdtZXRhJykge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQubWV0YUtleSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZihhbGlhc0tleXMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQua2V5Q29kZSA9PT0gYWxpYXNlc1trZXldO1xuICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleUNvZGUgPT09IGtleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpIHtcbiAgICAgICAgcHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZighcHJlc3NlZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9