/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/app.js":(e,t,r)=>{"use strict";r.r(t);var n=r("./src/js/data/config.js"),a=r("./src/js/utils/detector.js"),o=r("./src/js/app/main.js");r("./src/css/app.scss");console.log("----- RUNNING IN DEV ENVIRONMENT! -----"),n.default.isDev=!0,function(){if(a.default.webgl){var e=document.getElementById("appContainer");new o.default(e)}else a.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r("./node_modules/three/build/three.module.js"),a=r("./src/js/data/config.js");function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){var r,s,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var l=t.domElement.width,u=t.domElement.height;this.threeCamera=new n.PerspectiveCamera(a.default.camera.fov,l/u,a.default.camera.near,a.default.camera.far),(r=this.threeCamera.position).set.apply(r,o(a.default.camera.position)),(s=this.threeCamera).lookAt.apply(s,o(a.default.camera.lookAt)),this.updateSize(t),window.addEventListener("resize",(function(){return i.updateSize(t)}),!1)}var t,r,s;return t=e,(r=[{key:"updateSize",value:function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()}}])&&i(t.prototype,r),s&&i(t,s),e}()},"./src/js/app/components/geometry.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r("./node_modules/three/build/three.module.js"),a=r("./src/js/data/config.js");function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.geo=null}var t,r,s;return t=e,(r=[{key:"make",value:function(e){var t=this;return"plane"===e?function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.geo=new n.PlaneGeometry(e,r,a,o)}:"sphere"===e?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;t.geo=new n.SphereGeometry(e,r,a)}:"cylinder"===e?function(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.geo=new n.CylinderGeometry(e,e,r,a,o)}:void 0}},{key:"place",value:function(e,t,r){var s,i;this.mesh=new n.Mesh(this.geo,r),(s=this.mesh.position).set.apply(s,o(e)),(i=this.mesh.rotation).set.apply(i,o(t)),a.default.shadow.enabled&&(this.mesh.receiveShadow=!0),this.scene.add(this.mesh)}},{key:"unload",value:function(){this.scene.remove(this.mesh),this.mesh.geometry.dispose()}}])&&i(t.prototype,r),s&&i(t,s),e}()},"./src/js/app/components/light.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),a=r("./src/js/data/config.js");function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.init()}var t,r,s;return t=e,(r=[{key:"init",value:function(){this.ambientLight=new n.AmbientLight(a.default.ambientLight.color),this.ambientLight.visible=a.default.ambientLight.enabled,this.pointLight=new n.PointLight(a.default.pointLight.color,a.default.pointLight.intensity,a.default.pointLight.distance),this.pointLight.position.set(a.default.pointLight.x,a.default.pointLight.y,a.default.pointLight.z),this.pointLight.visible=a.default.pointLight.enabled,this.directionalLight=new n.DirectionalLight(a.default.directionalLight.color,a.default.directionalLight.intensity),this.directionalLight.position.set(a.default.directionalLight.x,a.default.directionalLight.y,a.default.directionalLight.z),this.directionalLight.visible=a.default.directionalLight.enabled,this.directionalLight.castShadow=a.default.shadow.enabled,this.directionalLight.shadow.bias=a.default.shadow.bias,this.directionalLight.shadow.camera.near=a.default.shadow.near,this.directionalLight.shadow.camera.far=a.default.shadow.far,this.directionalLight.shadow.camera.left=a.default.shadow.left,this.directionalLight.shadow.camera.right=a.default.shadow.right,this.directionalLight.shadow.camera.top=a.default.shadow.top,this.directionalLight.shadow.camera.bottom=a.default.shadow.bottom,this.directionalLight.shadow.mapSize.width=a.default.shadow.mapWidth,this.directionalLight.shadow.mapSize.height=a.default.shadow.mapHeight,a.default.isDev&&(this.directionalLightHelper=new n.CameraHelper(this.directionalLight.shadow.camera),this.directionalLightHelper.visible=a.default.shadow.helperEnabled),this.hemiLight=new n.HemisphereLight(a.default.hemiLight.color,a.default.hemiLight.groundColor,a.default.hemiLight.intensity),this.hemiLight.position.set(a.default.hemiLight.x,a.default.hemiLight.y,a.default.hemiLight.z),this.hemiLight.visible=a.default.hemiLight.enabled}},{key:"place",value:function(e){switch(e){case"ambient":this.scene.add(this.ambientLight);break;case"directional":this.scene.add(this.directionalLight),a.default.isDev&&this.scene.add(this.directionalLightHelper);break;case"point":this.scene.add(this.pointLight);break;case"hemi":this.scene.add(this.hemiLight)}}}])&&o(t.prototype,r),s&&o(t,s),e}()},"./src/js/app/components/material.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r("./node_modules/three/build/three.module.js");var a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.basic=new n.MeshBasicMaterial({color:t,side:n.DoubleSide}),this.standard=new n.MeshStandardMaterial({color:t,roughness:1,metalness:0,side:n.DoubleSide}),this.wire=new n.MeshBasicMaterial({wireframe:!0})}},"./src/js/app/components/renderer.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),a=r("./src/js/data/config.js");function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.container=r,this.threeRenderer=new n.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(t.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),r.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=n.PCFSoftShadowMap,a.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return o.updateSize()}),!1),window.addEventListener("resize",(function(){return o.updateSize()}),!1)}var t,r,s;return t=e,(r=[{key:"updateSize",value:function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)}},{key:"render",value:function(e,t){this.threeRenderer.render(e,t)}}])&&o(t.prototype,r),s&&o(t,s),e}()},"./src/js/app/helpers/stats.js":(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,o,s,i;r.r(t),r.d(t,{default:()=>l});var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t}var t,r,l;return t=e,l=[{key:"start",value:function(){a("frame").start(),s.start(),a("rAF").tick(),a("FPS").frame(),a("render").start()}},{key:"end",value:function(){a("render").end(),a("frame").end(),a("rStats").start(),a().update(),a("rStats").end()}}],(r=[{key:"setUp",value:function(){o=new BrowserStats,s=new glStats,i=new threeStats(this.renderer.threeRenderer),a=new rStats({CSSPath:"./css/",userTimingAPI:!0,values:{frame:{caption:"Total frame time (ms)",over:16,average:!0,avgMs:100},fps:{caption:"Framerate (FPS)",below:30},calls:{caption:"Calls (three.js)",over:3e3},raf:{caption:"Time since last rAF (ms)",average:!0,avgMs:100},rstats:{caption:"rStats update (ms)",average:!0,avgMs:100},texture:{caption:"GenTex",average:!0,avgMs:100}},groups:[{caption:"Framerate",values:["fps","raf"]},{caption:"Frame Budget",values:["frame","texture","setup","render"]}],fractions:[{base:"frame",steps:["texture","setup","render"]}],plugins:[o,i]})}}])&&n(t.prototype,r),l&&n(t,l),e}()},"./src/js/app/loaders/GLTFLoader.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLTFLoader:()=>o});var n=r("./node_modules/three/build/three.module.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(){function e(e){n.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(n.Loader.prototype),{constructor:e,load:function(e,t,r,a){var o,s=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:n.LoaderUtils.extractUrlBase(e),s.manager.itemStart(e);var i=function(t){a?a(t):console.error(t),s.manager.itemError(e),s.manager.itemEnd(e)},l=new n.FileLoader(s.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===s.crossOrigin&&l.setWithCredentials(!0),l.load(e,(function(r){try{s.parse(r,o,(function(r){t(r),s.manager.itemEnd(e)}),i)}catch(e){i(e)}}),r,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,a,c){var f,m={};if("string"==typeof e)f=e;else if(n.LoaderUtils.decodeText(new Uint8Array(e,0,4))===u){try{m[r.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(c&&c(e))}f=m[r.KHR_BINARY_GLTF].content}else f=n.LoaderUtils.decodeText(new Uint8Array(e));var y=JSON.parse(f);if(void 0===y.asset||y.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(y.extensionsUsed)for(var b=0;b<y.extensionsUsed.length;++b){var w=y.extensionsUsed[b],S=y.extensionsRequired||[];switch(w){case r.KHR_LIGHTS_PUNCTUAL:m[w]=new s(y);break;case r.KHR_MATERIALS_CLEARCOAT:m[w]=new l;break;case r.KHR_MATERIALS_UNLIT:m[w]=new i;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[w]=new g;break;case r.KHR_DRACO_MESH_COMPRESSION:m[w]=new p(y,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:m[w]=new o(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:m[w]=new h;break;case r.KHR_MESH_QUANTIZATION:m[w]=new v;break;default:S.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}new N(y,m,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(a,c)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function o(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=e}function s(e){this.name=r.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function i(){this.name=r.KHR_MATERIALS_UNLIT}function l(){this.name=r.KHR_MATERIALS_CLEARCOAT}s.prototype.loadLight=function(e){var t,r=this.lightDefs[e],a=new n.Color(16777215);void 0!==r.color&&a.fromArray(r.color);var o=void 0!==r.range?r.range:0;switch(r.type){case"directional":(t=new n.DirectionalLight(a)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.PointLight(a)).distance=o;break;case"spot":(t=new n.SpotLight(a)).distance=o,r.spot=r.spot||{},r.spot.innerConeAngle=void 0!==r.spot.innerConeAngle?r.spot.innerConeAngle:0,r.spot.outerConeAngle=void 0!==r.spot.outerConeAngle?r.spot.outerConeAngle:Math.PI/4,t.angle=r.spot.outerConeAngle,t.penumbra=1-r.spot.innerConeAngle/r.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+r.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==r.intensity&&(t.intensity=r.intensity),t.name=r.name||"light_"+e,Promise.resolve(t)},i.prototype.getMaterialType=function(){return n.MeshBasicMaterial},i.prototype.extendParams=function(e,t,r){var a=[];e.color=new n.Color(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var s=o.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}void 0!==o.baseColorTexture&&a.push(r.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(a)},l.prototype.getMaterialType=function(){return n.MeshPhysicalMaterial},l.prototype.extendParams=function(e,t,r){var a=[],o=t.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&a.push(r.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&a.push(r.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(a.push(r.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var s=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new n.Vector2(s,s)}return Promise.all(a)};var u="glTF",c=1313821514,f=5130562;function d(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:n.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var a=new DataView(e,12),o=0;o<a.byteLength;){var s=a.getUint32(o,!0);o+=4;var i=a.getUint32(o,!0);if(o+=4,i===c){var l=new Uint8Array(e,12+o,s);this.content=n.LoaderUtils.decodeText(l)}else if(i===f){var d=12+o;this.body=e.slice(d,d+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function h(){this.name=r.KHR_TEXTURE_TRANSFORM}function m(e){n.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),a=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),i={specular:{value:(new n.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=i,this.onBeforeCompile=function(e){for(var n in i)e.uniforms[n]=i[n];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",o),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return i.specular.value},set:function(e){i.specular.value=e}},specularMap:{get:function(){return i.specularMap.value},set:function(e){i.specularMap.value=e}},glossiness:{get:function(){return i.glossiness.value},set:function(e){i.glossiness.value=e}},glossinessMap:{get:function(){return i.glossinessMap.value},set:function(e){i.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return m},extendParams:function(e,t,r){var a=t.extensions[this.name];e.color=new n.Color(1,1,1),e.opacity=1;var o=[];if(Array.isArray(a.diffuseFactor)){var s=a.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(void 0!==a.diffuseTexture&&o.push(r.assignTexture(e,"map",a.diffuseTexture)),e.emissive=new n.Color(0,0,0),e.glossiness=void 0!==a.glossinessFactor?a.glossinessFactor:1,e.specular=new n.Color(1,1,1),Array.isArray(a.specularFactor)&&e.specular.fromArray(a.specularFactor),void 0!==a.specularGlossinessTexture){var i=a.specularGlossinessTexture;o.push(r.assignTexture(e,"glossinessMap",i)),o.push(r.assignTexture(e,"specularMap",i))}return Promise.all(o)},createMaterial:function(e){var t=new m(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=n.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=r.KHR_MESH_QUANTIZATION}function y(e,t,r,a){n.Interpolant.call(this,e,t,r,a)}p.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},i={},l={};for(var u in o){var c=_[u]||u.toLowerCase();s[c]=o[u]}for(u in e.attributes){c=_[u]||u.toLowerCase();if(void 0!==o[u]){var f=r.accessors[e.attributes[u]],d=j[f.componentType];l[c]=d,i[c]=!0===f.normalized}}return t.getDependency("bufferView",a).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],a=i[r];void 0!==a&&(n.normalized=a)}t(e)}),s,l)}))}))},h.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(n.MeshStandardMaterial.prototype),m.prototype.constructor=m,m.prototype.copy=function(e){return n.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},y.prototype=Object.create(n.Interpolant.prototype),y.prototype.constructor=y,y.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,a=e*n*3+n,o=0;o!==n;o++)t[o]=r[a+o];return t},y.prototype.beforeStart_=y.prototype.copySampleValue_,y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(e,t,r,n){for(var a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,i=2*s,l=3*s,u=n-t,c=(r-t)/u,f=c*c,d=f*c,p=e*l,h=p-l,m=-2*d+3*f,g=d-f,v=1-m,y=g-f+c,b=0;b!==s;b++){var w=o[h+b+s],S=o[h+b+i]*u,T=o[p+b+s],M=o[p+b]*u;a[b]=v*w+y*S+m*T+g*M}return a};var b=0,w=1,S=2,T=3,M=4,E=5,L=6,j={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},x={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},A={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},R={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},O={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},C={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},I="OPAQUE",P="MASK",k="BLEND",U={"image/png":n.RGBAFormat,"image/jpeg":n.RGBFormat};function G(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function F(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function B(e,t){void 0!==t.extras&&("object"===a(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function H(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(r=0,n=a.length;r<n;r++)e.morphTargetDictionary[a[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function D(e){for(var t="",r=Object.keys(e).sort(),n=0,a=r.length;n<a;n++)t+=r[n]+":"+e[r[n]]+";";return t}function N(e,r,a){this.json=e||{},this.extensions=r||{},this.options=a||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new n.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function z(e,t,r){var a=t.attributes,o=[];function s(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var i in a){var l=_[i]||i.toLowerCase();l in e.attributes||o.push(s(a[i],l))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(u)}return B(e,t),function(e,t,r){var a=t.attributes,o=new n.Box3;if(void 0!==a.POSITION){var s=(p=r.json.accessors[a.POSITION]).min,i=p.max;if(void 0!==s&&void 0!==i){o.set(new n.Vector3(s[0],s[1],s[2]),new n.Vector3(i[0],i[1],i[2]));var l=t.targets;if(void 0!==l){for(var u=new n.Vector3,c=new n.Vector3,f=0,d=l.length;f<d;f++){var p,h=l[f];if(void 0!==h.POSITION)s=(p=r.json.accessors[h.POSITION]).min,i=p.max,void 0!==s&&void 0!==i?(c.setX(Math.max(Math.abs(s[0]),Math.abs(i[0]))),c.setY(Math.max(Math.abs(s[1]),Math.abs(i[1]))),c.setZ(Math.max(Math.abs(s[2]),Math.abs(i[2]))),u.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}o.expandByVector(u)}e.boundingBox=o;var m=new n.Sphere;o.getCenter(m.center),m.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,a=!1,o=0,s=t.length;o<s&&(void 0!==(u=t[o]).POSITION&&(n=!0),void 0!==u.NORMAL&&(a=!0),!n||!a);o++);if(!n&&!a)return Promise.resolve(e);var i=[],l=[];for(o=0,s=t.length;o<s;o++){var u=t[o];if(n){var c=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;i.push(c)}a&&(c=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(i),Promise.all(l)]).then((function(t){var r=t[0],o=t[1];return n&&(e.morphAttributes.position=r),a&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function V(e,t){var r=e.getIndex();if(null===r){var a=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var s=0;s<o.count;s++)a.push(s);e.setIndex(a),r=e.getIndex()}var i=r.count-2,l=[];if(t===n.TriangleFanDrawMode)for(s=1;s<=i;s++)l.push(r.getX(0)),l.push(r.getX(s)),l.push(r.getX(s+1));else for(s=0;s<i;s++)s%2==0?(l.push(r.getX(s)),l.push(r.getX(s+1)),l.push(r.getX(s+2))):(l.push(r.getX(s+2)),l.push(r.getX(s+1)),l.push(r.getX(s)));l.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u}return N.prototype.parse=function(e,t){var r=this,n=this.json,a=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var o={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};F(a,o,n),B(o,n),e(o)})).catch(t)},N.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n={},a={},o=0,s=t.length;o<s;o++)for(var i=t[o].joints,l=0,u=i.length;l<u;l++)e[i[l]].isBone=!0;for(var c=0,f=e.length;c<f;c++){var d=e[c];void 0!==d.mesh&&(void 0===n[d.mesh]&&(n[d.mesh]=a[d.mesh]=0),n[d.mesh]++,void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=n,this.json.meshUses=a},N.prototype.getDependency=function(e,t){var n=e+":"+t,a=this.cache.get(n);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this.loadNode(t);break;case"mesh":a=this.loadMesh(t);break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this.loadBufferView(t);break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this.loadMaterial(t);break;case"texture":a=this.loadTexture(t);break;case"skin":a=this.loadSkin(t);break;case"animation":a=this.loadAnimation(t);break;case"camera":a=this.loadCamera(t);break;case"light":a=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,a)}return a},N.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},N.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var a=this.options;return new Promise((function(e,r){n.load(G(t.uri,a.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},N.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))},N.prototype.loadAccessor=function(e){var t=this,r=this.json,a=this.json.accessors[e];if(void 0===a.bufferView&&void 0===a.sparse)return Promise.resolve(null);var o=[];return void 0!==a.bufferView?o.push(this.getDependency("bufferView",a.bufferView)):o.push(null),void 0!==a.sparse&&(o.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,s,i=e[0],l=R[a.type],u=j[a.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=a.byteOffset||0,p=void 0!==a.bufferView?r.bufferViews[a.bufferView].byteStride:void 0,h=!0===a.normalized;if(p&&p!==f){var m=Math.floor(d/p),g="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+m+":"+a.count,v=t.cache.get(g);v||(o=new u(i,m*p,a.count*p/c),v=new n.InterleavedBuffer(o,p/c),t.cache.add(g,v)),s=new n.InterleavedBufferAttribute(v,l,d%p/c,h)}else o=null===i?new u(a.count*l):new u(i,d,a.count*l),s=new n.BufferAttribute(o,l,h);if(void 0!==a.sparse){var y=R.SCALAR,b=j[a.sparse.indices.componentType],w=a.sparse.indices.byteOffset||0,S=a.sparse.values.byteOffset||0,T=new b(e[1],w,a.sparse.count*y),M=new u(e[2],S,a.sparse.count*l);null!==i&&(s=new n.BufferAttribute(s.array.slice(),s.itemSize,s.normalized));for(var E=0,L=T.length;E<L;E++){var x=T[E];if(s.setX(x,M[E*l]),l>=2&&s.setY(x,M[E*l+1]),l>=3&&s.setZ(x,M[E*l+2]),l>=4&&s.setW(x,M[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s}))},N.prototype.loadTexture=function(e){var t,a=this,o=this.json,s=this.options,i=this.textureLoader,l=self.URL||self.webkitURL,u=o.textures[e],c=u.extensions||{},f=(t=c[r.MSFT_TEXTURE_DDS]?o.images[c[r.MSFT_TEXTURE_DDS].source]:o.images[u.source]).uri,d=!1;return void 0!==t.bufferView&&(f=a.getDependency("bufferView",t.bufferView).then((function(e){d=!0;var r=new Blob([e],{type:t.mimeType});return f=l.createObjectURL(r)}))),Promise.resolve(f).then((function(e){var t=s.manager.getHandler(e);return t||(t=c[r.MSFT_TEXTURE_DDS]?a.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:i),new Promise((function(r,n){t.load(G(e,s.path),r,void 0,n)}))})).then((function(e){!0===d&&l.revokeObjectURL(f),e.flipY=!1,u.name&&(e.name=u.name),t.mimeType in U&&(e.format=U[t.mimeType]);var r=(o.samplers||{})[u.sampler]||{};return e.magFilter=x[r.magFilter]||n.LinearFilter,e.minFilter=x[r.minFilter]||n.LinearMipmapLinearFilter,e.wrapS=A[r.wrapS]||n.RepeatWrapping,e.wrapT=A[r.wrapT]||n.RepeatWrapping,e}))},N.prototype.assignTexture=function(e,t,a){var o=this;return this.getDependency("texture",a.index).then((function(s){if(!s.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":s.format=n.RGBFormat}if(void 0===a.texCoord||0==a.texCoord||"aoMap"===t&&1==a.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+a.texCoord+" for texture "+t+" not yet supported."),o.extensions[r.KHR_TEXTURE_TRANSFORM]){var i=void 0!==a.extensions?a.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;i&&(s=o.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(s,i))}e[t]=s}))},N.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,a=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal,i=!0===e.isSkinnedMesh,l=Object.keys(t.morphAttributes).length>0,u=l&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c="PointsMaterial:"+r.uuid,f=this.cache.get(c);f||(f=new n.PointsMaterial,n.Material.prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,f.sizeAttenuation=!1,this.cache.add(c,f)),r=f}else if(e.isLine){c="LineBasicMaterial:"+r.uuid;var d=this.cache.get(c);d||(d=new n.LineBasicMaterial,n.Material.prototype.copy.call(d,r),d.color.copy(r.color),this.cache.add(c,d)),r=d}if(a||o||s||i||l){c="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),i&&(c+="skinning:"),a&&(c+="vertex-tangents:"),o&&(c+="vertex-colors:"),s&&(c+="flat-shading:"),l&&(c+="morph-targets:"),u&&(c+="morph-normals:");var p=this.cache.get(c);p||(p=r.clone(),i&&(p.skinning=!0),a&&(p.vertexTangents=!0),o&&(p.vertexColors=!0),s&&(p.flatShading=!0),l&&(p.morphTargets=!0),u&&(p.morphNormals=!0),this.cache.add(c,p)),r=p}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),r.normalScale&&!a&&(r.normalScale.y=-r.normalScale.y),r.clearcoatNormalScale&&!a&&(r.clearcoatNormalScale.y=-r.clearcoatNormalScale.y),e.material=r},N.prototype.loadMaterial=function(e){var t,a=this,o=this.json,s=this.extensions,i=o.materials[e],l={},u=i.extensions||{},c=[];if(u[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var f=s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=f.getMaterialType(),c.push(f.extendParams(l,i,a))}else if(u[r.KHR_MATERIALS_UNLIT]){var d=s[r.KHR_MATERIALS_UNLIT];t=d.getMaterialType(),c.push(d.extendParams(l,i,a))}else{t=n.MeshStandardMaterial;var p=i.pbrMetallicRoughness||{};if(l.color=new n.Color(1,1,1),l.opacity=1,Array.isArray(p.baseColorFactor)){var h=p.baseColorFactor;l.color.fromArray(h),l.opacity=h[3]}void 0!==p.baseColorTexture&&c.push(a.assignTexture(l,"map",p.baseColorTexture)),l.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,l.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(c.push(a.assignTexture(l,"metalnessMap",p.metallicRoughnessTexture)),c.push(a.assignTexture(l,"roughnessMap",p.metallicRoughnessTexture)))}!0===i.doubleSided&&(l.side=n.DoubleSide);var g=i.alphaMode||I;if(g===k?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,g===P&&(l.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==n.MeshBasicMaterial&&(c.push(a.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new n.Vector2(1,1),void 0!==i.normalTexture.scale&&l.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==n.MeshBasicMaterial&&(c.push(a.assignTexture(l,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(l.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==n.MeshBasicMaterial&&(l.emissive=(new n.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==n.MeshBasicMaterial&&c.push(a.assignTexture(l,"emissiveMap",i.emissiveTexture)),u[r.KHR_MATERIALS_CLEARCOAT]){var v=s[r.KHR_MATERIALS_CLEARCOAT];t=v.getMaterialType(),c.push(v.extendParams(l,{extensions:u},a))}return Promise.all(c).then((function(){var e;return e=t===m?s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new t(l),i.name&&(e.name=i.name),e.map&&(e.map.encoding=n.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=n.sRGBEncoding),B(e,i),i.extensions&&F(s,e,i),e}))},N.prototype.loadGeometries=function(e){var t=this,a=this.extensions,o=this.primitiveCache;function s(e){return a[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return z(r,e,t)}))}for(var i,l,u=[],c=0,f=e.length;c<f;c++){var d,p=e[c],h=(l=void 0,(l=(i=p).extensions&&i.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+D(l.attributes):i.indices+":"+D(i.attributes)+":"+i.mode),m=o[h];if(m)u.push(m.promise);else d=p.extensions&&p.extensions[r.KHR_DRACO_MESH_COMPRESSION]?s(p):z(new n.BufferGeometry,p,t),o[h]={primitive:p,promise:d},u.push(d)}return Promise.all(u)},N.prototype.loadMesh=function(e){for(var t,r=this,a=this.json.meshes[e],o=a.primitives,s=[],i=0,l=o.length;i<l;i++){var u=void 0===o[i].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[i].material);s.push(u)}return s.push(r.loadGeometries(o)),Promise.all(s).then((function(t){for(var s=t.slice(0,t.length-1),i=t[t.length-1],l=[],u=0,c=i.length;u<c;u++){var f,d=i[u],p=o[u],h=s[u];if(p.mode===M||p.mode===E||p.mode===L||void 0===p.mode)!0!==(f=!0===a.isSkinnedMesh?new n.SkinnedMesh(d,h):new n.Mesh(d,h)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),p.mode===E?f.geometry=V(f.geometry,n.TriangleStripDrawMode):p.mode===L&&(f.geometry=V(f.geometry,n.TriangleFanDrawMode));else if(p.mode===w)f=new n.LineSegments(d,h);else if(p.mode===T)f=new n.Line(d,h);else if(p.mode===S)f=new n.LineLoop(d,h);else{if(p.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);f=new n.Points(d,h)}Object.keys(f.geometry.morphAttributes).length>0&&H(f,a),f.name=a.name||"mesh_"+e,i.length>1&&(f.name+="_"+u),B(f,a),r.assignFinalMaterial(f),l.push(f)}if(1===l.length)return l[0];var m=new n.Group;for(u=0,c=l.length;u<c;u++)m.add(l[u]);return m}))},N.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],a=r[r.type];if(a)return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),r.name&&(t.name=r.name),B(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},N.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},N.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],a=[],o=[],s=[],i=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],f=t.samplers[c.sampler],d=c.target,p=void 0!==d.node?d.node:d.id,h=void 0!==t.parameters?t.parameters[f.input]:f.input,m=void 0!==t.parameters?t.parameters[f.output]:f.output;r.push(this.getDependency("node",p)),a.push(this.getDependency("accessor",h)),o.push(this.getDependency("accessor",m)),s.push(f),i.push(d)}return Promise.all([Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(i)]).then((function(r){for(var a=r[0],o=r[1],s=r[2],i=r[3],l=r[4],u=[],c=0,f=a.length;c<f;c++){var d=a[c],p=o[c],h=s[c],m=i[c],g=l[c];if(void 0!==d){var v;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,O[g.path]){case O.weights:v=n.NumberKeyframeTrack;break;case O.rotation:v=n.QuaternionKeyframeTrack;break;case O.position:case O.scale:default:v=n.VectorKeyframeTrack}var b=d.name?d.name:d.uuid,w=void 0!==m.interpolation?C[m.interpolation]:n.InterpolateLinear,S=[];O[g.path]===O.weights?d.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&S.push(e.name?e.name:e.uuid)})):S.push(b);var T=h.array;if(h.normalized){var M;if(T.constructor===Int8Array)M=1/127;else if(T.constructor===Uint8Array)M=1/255;else if(T.constructor==Int16Array)M=1/32767;else{if(T.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");M=1/65535}for(var E=new Float32Array(T.length),L=0,j=T.length;L<j;L++)E[L]=T[L]*M;T=E}for(L=0,j=S.length;L<j;L++){var x=new v(S[L]+"."+O[g.path],p.array,T,w);"CUBICSPLINE"===m.interpolation&&(x.createInterpolant=function(e){return new y(this.times,this.values,this.getValueSize()/3,e)},x.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(x)}}}var A=t.name?t.name:"animation_"+e;return new n.AnimationClip(A,void 0,u)}))},N.prototype.loadNode=function(e){var t,a=this.json,o=this.extensions,s=this,i=a.meshReferences,l=a.meshUses,u=a.nodes[e];return(t=[],void 0!==u.mesh&&t.push(s.getDependency("mesh",u.mesh).then((function(e){var t;if(i[u.mesh]>1){var r=l[u.mesh]++;(t=e.clone()).name+="_instance_"+r}else t=e;return void 0!==u.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=u.weights.length;t<r;t++)e.morphTargetInfluences[t]=u.weights[t]})),t}))),void 0!==u.camera&&t.push(s.getDependency("camera",u.camera)),u.extensions&&u.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==u.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&t.push(s.getDependency("light",u.extensions[r.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(t)).then((function(e){var t;if((t=!0===u.isBone?new n.Bone:e.length>1?new n.Group:1===e.length?e[0]:new n.Object3D)!==e[0])for(var r=0,a=e.length;r<a;r++)t.add(e[r]);if(u.name&&(t.userData.name=u.name,t.name=n.PropertyBinding.sanitizeNodeName(u.name)),B(t,u),u.extensions&&F(o,t,u),void 0!==u.matrix){var s=new n.Matrix4;s.fromArray(u.matrix),t.applyMatrix4(s)}else void 0!==u.translation&&t.position.fromArray(u.translation),void 0!==u.rotation&&t.quaternion.fromArray(u.rotation),void 0!==u.scale&&t.scale.fromArray(u.scale);return t}))},N.prototype.loadScene=function(){function e(t,r,a,o){var s=a.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===s.skin?e:o.getDependency("skin",s.skin).then((function(e){for(var r=[],n=0,a=(t=e).joints.length;n<a;n++)r.push(o.getDependency("node",t.joints[n]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var a=[],o=[],s=0,i=r.length;s<i;s++){var l=r[s];if(l){a.push(l);var u=new n.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*s),o.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[s])}e.bind(new n.Skeleton(a,o),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var n=[];if(s.children)for(var i=s.children,l=0,u=i.length;l<u;l++){var c=i[l];n.push(e(c,t,a,o))}return Promise.all(n)}))}return function(t){var r=this.json,a=this.extensions,o=this.json.scenes[t],s=new n.Group;o.name&&(s.name=o.name),B(s,o),o.extensions&&F(a,s,o);for(var i=o.nodes||[],l=[],u=0,c=i.length;u<c;u++)l.push(e(i[u],s,r,this));return Promise.all(l).then((function(){return s}))}}(),e}()},"./src/js/app/main.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r("./node_modules/three/build/three.module.js"),a=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),o=r("./src/js/app/components/renderer.js"),s=r("./src/js/app/components/camera.js"),i=r("./src/js/app/components/light.js"),l=r("./src/js/app/helpers/stats.js"),u=r("./src/js/app/model/texture.js"),c=r("./src/js/app/managers/interaction.js"),f=r("./src/js/data/config.js"),d=r("./src/js/data/store.js"),p=r("./src/js/app/objects/player.js"),h=r("./src/js/app/objects/asteroid.js"),m=r("./src/js/app/objects/stars.js"),g=r("./src/js/utils/collisions.js");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.clock=new n.Clock,this.scene=new n.Scene,this.scene.fog=new n.FogExp2(f.default.fog.color,f.default.fog.near),window.devicePixelRatio&&(f.default.dpr=window.devicePixelRatio),this.renderer=new o.default(this.scene,t),this.camera=new s.default(this.renderer.threeRenderer),this.light=new i.default(this.scene);["ambient","directional","point","hemi"].forEach((function(e){return r.light.place(e)})),f.default.isDev&&f.default.isShowingStats&&(this.stats=new l.default(this.renderer),this.stats.setUp()),this.health=100,this.score=0,this.texture=new u.default,this.texture.load().then((function(){r.manager=new n.LoadingManager,r.player=new p.default(r.scene,r.manager,r.texture.textures),r.player.load(f.default.models.player),r.asteroidOne=new h.default(r.scene,r.manager,r.textures);var e=y({position:[1e3,1e3,1e3],path:f.default.models.asteroid.paths[0]},f.default.models.asteroid);r.asteroidOne.load(e),r.asteroidTwo=new h.default(r.scene,r.manager,r.textures);var t=y({position:[1e3,1e3,1e3],path:f.default.models.asteroid.paths[1]},f.default.models.asteroid);r.asteroidTwo.load(t),r.star=new m.default(r.scene,r.manager,r.textures),r.star.load(y({position:[1e3,1e3,1e3]},f.default.models.star)),r.asteroids=[],r.bullets=[],r.stars=[],r.manager.onProgress=function(e,t,r){console.log("".concat(e,": ").concat(t," ").concat(r))},r.manager.onLoad=function(){new c.default(r.renderer.threeRenderer,r.scene),f.default.isLoaded=!0,r.container.querySelector("#status").style.display="none",setTimeout((function(){d.default.star.canSpawn=!0}),f.default.models.star.canSpawnInterval/2),setInterval((function(){console.log(r.score,r.health)}),3e3),r.render()}}))}var t,r,v;return t=e,(r=[{key:"render",value:function(){var e=this;if(f.default.isDev&&f.default.isShowingStats&&l.default.start(),this.renderer.render(this.scene,this.camera.threeCamera),f.default.isDev&&f.default.isShowingStats&&l.default.end(),this.health<=0)return d.default.gameOver=!0,this.container.querySelector("#status").style.display="initial",this.container.querySelector("#status").style.fontSize="48",void(this.container.querySelector("#status").innerHTML="Game Over!");a.default.update(),this.bullets=this.bullets.concat(this.player.update()),this.asteroids=this.asteroids.concat((0,h.spawnAsteroids)(this.asteroidOne,this.asteroidTwo)),this.stars=this.stars.concat((0,m.spawnStars)(this.star));var t=this.asteroids.filter((function(e){return!e.deleted})),r=this.bullets.filter((function(e){return!e.deleted})),n=this.stars.filter((function(e){return!e.deleted})),o=(0,g.default)(this.player.ref,t.map((function(e){return e.ref})));o.length>0&&(this.health+=f.default.models.asteroid.health),o.forEach((function(e){t[e].unload(),t[e].deleted=!0})),(o=(0,g.default)(this.player.ref,n.map((function(e){return e.ref})))).length>0&&(this.score+=f.default.models.star.score),o.forEach((function(e){n[e].unload(),n[e].deleted=!0}));for(var s=0;s<r.length;s+=2){var i=(0,g.default)(r[s].ref.mesh,t.map((function(e){return e.ref})));console.log(i.length),i.forEach((function(r){t[r].unload(),t[r].deleted=!0,e.score+=f.default.models.asteroid.score})),i.length&&(r[s].unload(),r[s].deleted=!0,r[s+1].unload(),r[s+1].deleted=!0)}this.container.querySelector("#healthHUD").innerHTML=this.health,this.container.querySelector("#scoreHUD").innerHTML=this.score,requestAnimationFrame(this.render.bind(this))}}])&&w(t.prototype,r),v&&w(t,v),e}()},"./src/js/app/managers/interaction.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r("./src/js/utils/keyboard.js"),a=r("./src/js/utils/helpers.js"),o=r("./src/js/data/config.js"),s=r("./src/js/data/store.js");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderer=t,this.scene=r,this.timeout=null,this.keyboard=new n.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return a.default.throttle(o.onMouseMove(e),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return o.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return o.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||(o.keyboard.pressed("a")?s.default.player.direction="left":o.keyboard.pressed("d")&&(s.default.player.direction="right"),o.keyboard.pressed("space")&&(s.default.player.shoot=!0))}))}var t,r,l;return t=e,(r=[{key:"onMouseOver",value:function(e){e.preventDefault(),o.default.isMouseOver=!0}},{key:"onMouseLeave",value:function(e){e.preventDefault(),o.default.isMouseOver=!1}},{key:"onMouseMove",value:function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){o.default.isMouseMoving=!1}),200),o.default.isMouseMoving=!0}}])&&i(t.prototype,r),l&&i(t,l),e}()},"./src/js/app/model/model.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r("./node_modules/three/build/three.module.js"),a=r("./src/js/utils/helpers.js"),o=r("./src/js/utils/bufferGeometryUtils.js"),s=r("./src/js/app/loaders/GLTFLoader.js"),i=r("./src/js/data/config.js");function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.textures=n,this.manager=r,this.deleted=!1,this.ref=null}var t,r,u;return t=e,(r=[{key:"load",value:function(e){var t=this;new s.GLTFLoader(this.manager).load(e.path,(function(r){var a,s,u=r.scene,c=[];u.traverse((function(e){(e.isMesh||e.isLight)&&(e.castShadow=i.default.shadow.enabled),e.isMesh&&(e.material.wireframe=i.default.mesh.wireframe,s=e,c.push(e))}));var f=new n.Group;c.forEach((function(e){return f.add(e)})),f.scale.multiplyScalar(e.scale),(a=f.position).set.apply(a,l(e.position||[0,0,0])),o.BufferGeometryUtils.computeTangents(s.geometry),t.ref=f,t.scene.add(f),f.updateMatrixWorld(!0),t.scene.add(u)}),a.default.logProgress(),a.default.logError())}},{key:"unload",value:function(){this.scene.remove(this.ref),this.ref.children.forEach((function(e){e.geometry.dispose(),e.material.dispose()}))}},{key:"update",value:function(){}},{key:"clone",value:function(){var t=new e(this.scene,this.manager,this.textures);return t.ref=this.ref.clone(),this.scene.add(t.ref),t.ref.updateMatrixWorld(!0),t}}])&&c(t.prototype,r),u&&c(t,u),e}()},"./src/js/app/model/texture.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r("./node_modules/three/build/three.module.js"),a=r("./node_modules/es6-promise/dist/es6-promise.js"),o=r("./src/js/utils/helpers.js"),s=r("./src/js/data/config.js");function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures={}}var t,r,l;return t=e,(r=[{key:"load",value:function(){var e=this,t=new n.TextureLoader,r=s.default.maxAnisotropy,i=s.default.texture.imageFiles,l=[];return t.setPath(s.default.texture.path),i.forEach((function(e){l.push(new a.Promise((function(a,s){t.load(e.image,(function(t){t.anisotropy=r;var o={};o[e.name]=t,o[e.name]instanceof n.Texture&&a(o)}),o.default.logProgress(),(function(t){return s(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),a.Promise.all(l).then((function(t){for(var r=0;r<t.length;r++)e.textures[Object.keys(t[r])[0]]=t[r][Object.keys(t[r])[0]]}),(function(e){return console.log(e)}))}}])&&i(t.prototype,r),l&&i(t,l),e}()},"./src/js/app/objects/asteroid.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{spawnAsteroids:()=>m,default:()=>g});var n=r("./src/js/app/model/model.js"),a=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),o=r("./src/js/data/config.js"),s=r("./src/js/data/store.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){var r=[];if(s.default.asteroid.canSpawn){s.default.asteroid.canSpawn=!1;var n=[],i=!1;if(Math.random()<.5){switch(Math.floor(3*Math.random())){case 0:n.push([7,0,150]);break;case 1:n.push([0,0,150]);break;case 2:n.push([-7,0,150])}i=!0}if(Math.random()<.3/.7&&!i){for(var u=Math.floor(3*Math.random()),c=u;u===c;)c=Math.floor(3*Math.random());switch(u){case 0:n.push([7,0,150]);break;case 1:n.push([0,0,150]);break;case 2:n.push([-7,0,150])}switch(c){case 0:n.push([7,0,150]);break;case 1:n.push([0,0,150]);break;case 2:n.push([-7,0,150])}i=!0}i||(n.push([7,0,150]),n.push([0,0,150]),n.push([-7,0,150])),setTimeout((function(){s.default.asteroid.canSpawn=!0}),o.default.models.asteroid.canSpawnInterval),n.forEach((function(n){var s,i=Math.floor(2*Math.random())?e.clone():t.clone();(s=i.ref.position).set.apply(s,l(n)),function(e){var t;new a.default.Tween(e.ref.position).to({z:-120},o.default.models.asteroid.animationInterval).onComplete((function(){e.unload(),e.deleted=!0})).start(),t=Math.random()<.5?{x:"+".concat(2*Math.PI),y:"+".concat(2*Math.PI)}:{x:"+".concat(2*Math.PI),z:"+".concat(2*Math.PI)},new a.default.Tween(e.ref.rotation).to(t,o.default.models.asteroid.animationInterval).repeat(1/0).start()}(i),r.push(i)}))}return r}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=d(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(n.default)},"./src/js/app/objects/bullet.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r("./src/js/data/config.js"),a=r("./src/js/app/components/geometry.js");function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.deleted=!1,this.ref=new a.default(t),this.ref.make("cylinder")(n.default.models.bullets.radius,n.default.models.bullets.length,n.default.models.bullets.segments);var s=o*n.default.models.bullets.position[0]+r.x,i=n.default.models.bullets.position[1]+r.y,l=n.default.models.bullets.position[2]+r.z;this.ref.place([s,i,l],n.default.models.bullets.rotation,n.default.models.bullets.material)}var t,r,s;return t=e,(r=[{key:"unload",value:function(){this.ref.unload()}}])&&o(t.prototype,r),s&&o(t,s),e}()},"./src/js/app/objects/player.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r("./src/js/app/model/model.js"),a=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),o=r("./src/js/data/store.js"),s=r("./src/js/data/config.js"),i=r("./src/js/app/objects/bullet.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(p,e);var t,r,n,l=d(p);function p(){return u(this,p),l.apply(this,arguments)}return t=p,(r=[{key:"update",value:function(){var e=[];if(!o.default.player.animating){var t="",r=0;"left"===o.default.player.direction&&o.default.player.position>-1?(t="+7",r=-Math.PI/6,o.default.player.position-=1):"right"===o.default.player.direction&&o.default.player.position<1&&(t="-7",r=+Math.PI/6,o.default.player.position+=1),o.default.player.direction&&t&&r&&(new a.default.Tween(this.ref.position).to({x:t},s.default.models.player.animationInterval).easing(s.default.easing).onStart((function(){return o.default.player.animating=!0})).onComplete((function(){return o.default.player.animating=!1})).start(),new a.default.Tween(this.ref.rotation).to({z:r},s.default.models.player.animationInterval/2).easing(s.default.easing).chain(new a.default.Tween(this.ref.rotation).to({z:0},s.default.models.player.animationInterval/2).easing(s.default.easing)).start()),o.default.player.shoot&&o.default.player.canShoot&&(e.push(new i.default(this.scene,this.ref.position,1)),e.push(new i.default(this.scene,this.ref.position,-1)),o.default.player.canShoot=!1,setTimeout((function(){return o.default.player.canShoot=!0}),1/s.default.models.player.fireRate*1e3),e.forEach((function(e){new a.default.Tween(e.ref.mesh.position).to({z:150},s.default.models.bullets.animationInterval).onComplete((function(){e.unload(),e.deleted=!0})).start()})))}return o.default.player.direction="",o.default.player.shoot=!1,e}}])&&c(t.prototype,r),n&&c(t,n),p}(n.default)},"./src/js/app/objects/stars.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{spawnStars:()=>m,default:()=>g});var n=r("./src/js/app/model/model.js"),a=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),o=r("./src/js/data/config.js"),s=r("./src/js/data/store.js");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){var t=[];if(s.default.star.canSpawn){s.default.star.canSpawn=!1;var r=[],n=!1;if(Math.random()<.4){switch(Math.floor(3*Math.random())){case 0:r.push([7,0,150]);break;case 1:r.push([0,0,150]);break;case 2:r.push([-7,0,150])}n=!0}if(Math.random()<.3/.4&&!n){for(var i=Math.floor(3*Math.random()),u=i;i===u;)u=Math.floor(3*Math.random());switch(i){case 0:r.push([7,0,150]);break;case 1:r.push([0,0,150]);break;case 2:r.push([-7,0,150])}switch(u){case 0:r.push([7,0,150]);break;case 1:r.push([0,0,150]);break;case 2:r.push([-7,0,150])}n=!0}n||(r.push([7,0,150]),r.push([0,0,150]),r.push([-7,0,150])),setTimeout((function(){s.default.star.canSpawn=!0}),o.default.models.star.canSpawnInterval),r.forEach((function(r){var n,s=e.clone();(n=s.ref.position).set.apply(n,l(r)),function(e){new a.default.Tween(e.ref.position).to({z:-120},o.default.models.star.animationInterval).onComplete((function(){e.unload(),e.deleted=!0})).start(),new a.default.Tween(e.ref.rotation).to({y:2*Math.PI},o.default.models.star.animationInterval/4).repeat(1/0).start()}(s),t.push(s)}))}return t}const g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t=d(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(n.default)},"./src/js/data/config.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),a=r("./src/js/app/components/material.js");const o={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,maxAnisotropy:1,dpr:1,easing:n.default.Easing.Quadratic.InOut,duration:500,models:{player:{path:"./assets/models/playerSpaceship.glb",scale:1,position:[0,0,0],animationInterval:600,fireRate:3},bullets:{material:new a.default(255).standard,position:[.71,-.7,1],rotation:[Math.PI/2,0,0],radius:.1,length:2,segments:8,animationInterval:1500},asteroid:{paths:["./assets/models/enemyAsteroid1.glb","./assets/models/enemyAsteroid2.glb"],scale:1,animationInterval:6e3,canSpawnInterval:2e3,score:10,health:-10},star:{path:"./assets/models/star.glb",scale:1,animationInterval:6e3,canSpawnInterval:2e3,score:50}},texture:{path:"./assets/textures/",imageFiles:[{name:"UV",image:"UV_Grid_Sm.jpg"}]},mesh:{enableHelper:!1,wireframe:!1,translucent:!0,material:{color:16777215,emissive:16777215}},fog:{color:0,near:8e-4},camera:{fov:15,near:2,far:1e3,aspect:16/9,position:[0,10,-42],lookAt:[0,0,10]},ambientLight:{enabled:!0,color:1315860},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.34,distance:115,x:0,y:0,z:0},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0}}},"./src/js/data/store.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={score:0,star:{canSpawn:!1},asteroid:{canSpawn:!0},player:{direction:"",health:100,animating:!1,position:0,shoot:!1,canShoot:!0},gameOver:!1}},"./src/js/utils/bufferGeometryUtils.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BufferGeometryUtils:()=>a});var n=r("./node_modules/three/build/three.module.js"),a={computeTangents:function(e){var t=e.index,r=e.attributes;if(null!==t&&void 0!==r.position&&void 0!==r.normal&&void 0!==r.uv){var a=t.array,o=r.position.array,s=r.normal.array,i=r.uv.array,l=o.length/3;void 0===r.tangent&&e.setAttribute("tangent",new n.BufferAttribute(new Float32Array(4*l),4));for(var u=r.tangent.array,c=[],f=[],d=0;d<l;d++)c[d]=new n.Vector3,f[d]=new n.Vector3;var p=new n.Vector3,h=new n.Vector3,m=new n.Vector3,g=new n.Vector2,v=new n.Vector2,y=new n.Vector2,b=new n.Vector3,w=new n.Vector3,S=e.groups;0===S.length&&(S=[{start:0,count:a.length}]);d=0;for(var T=S.length;d<T;++d)for(var M=I=(C=S[d]).start,E=I+C.count;M<E;M+=3)P(a[M+0],a[M+1],a[M+2]);var L,j,x,A=new n.Vector3,R=new n.Vector3,_=new n.Vector3,O=new n.Vector3;for(d=0,T=S.length;d<T;++d){var C,I;for(M=I=(C=S[d]).start,E=I+C.count;M<E;M+=3)k(a[M+0]),k(a[M+1]),k(a[M+2])}}else console.error("THREE.BufferGeometryUtils: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function P(e,t,r){p.fromArray(o,3*e),h.fromArray(o,3*t),m.fromArray(o,3*r),g.fromArray(i,2*e),v.fromArray(i,2*t),y.fromArray(i,2*r),h.sub(p),m.sub(p),v.sub(g),y.sub(g);var n=1/(v.x*y.y-y.x*v.y);isFinite(n)&&(b.copy(h).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(n),w.copy(m).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(n),c[e].add(b),c[t].add(b),c[r].add(b),f[e].add(w),f[t].add(w),f[r].add(w))}function k(e){_.fromArray(s,3*e),O.copy(_),j=c[e],A.copy(j),A.sub(_.multiplyScalar(_.dot(j))).normalize(),R.crossVectors(O,j),x=R.dot(f[e]),L=x<0?-1:1,u[4*e]=A.x,u[4*e+1]=A.y,u[4*e+2]=A.z,u[4*e+3]=L}},mergeBufferGeometries:function(e,t){for(var r=null!==e[0].index,a=new Set(Object.keys(e[0].attributes)),o=new Set(Object.keys(e[0].morphAttributes)),s={},i={},l=e[0].morphTargetsRelative,u=new n.BufferGeometry,c=0,f=0;f<e.length;++f){var d=e[f],p=0;if(r!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var h in d.attributes){if(!a.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+'. All geometries must have compatible attributes; make sure "'+h+'" attribute exists among all geometries, or in none of them.'),null;void 0===s[h]&&(s[h]=[]),s[h].push(d.attributes[h]),p++}if(p!==a.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". Make sure all geometries have the same number of attributes."),null;if(l!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var h in d.morphAttributes){if(!o.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===i[h]&&(i[h]=[]),i[h].push(d.morphAttributes[h])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(d.userData),t){var m;if(r)m=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+f+". The geometry must have either an index or a position attribute"),null;m=d.attributes.position.count}u.addGroup(c,m,f),c+=m}}if(r){var g=0,v=[];for(f=0;f<e.length;++f){for(var y=e[f].index,b=0;b<y.count;++b)v.push(y.getX(b)+g);g+=e[f].attributes.position.count}u.setIndex(v)}for(var h in s){var w=this.mergeBufferAttributes(s[h]);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;u.setAttribute(h,w)}for(var h in i){var S=i[h][0].length;if(0===S)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[h]=[];for(f=0;f<S;++f){var T=[];for(b=0;b<i[h].length;++b)T.push(i[h][b][f]);var M=this.mergeBufferAttributes(T);if(!M)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;u.morphAttributes[h].push(M)}}return u},mergeBufferAttributes:function(e){for(var t,r,a,o=0,s=0;s<e.length;++s){var i=e[s];if(i.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=i.itemSize),r!==i.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===a&&(a=i.normalized),a!==i.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;o+=i.array.length}var l=new t(o),u=0;for(s=0;s<e.length;++s)l.set(e[s].array,u),u+=e[s].array.length;return new n.BufferAttribute(l,r,a)},interleaveAttributes:function(e){for(var t,r=0,a=0,o=0,s=e.length;o<s;++o){var i=e[o];if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=i.array.length,a+=i.itemSize}var l=new n.InterleavedBuffer(new t(r),a),u=0,c=[],f=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"],p=0;for(s=e.length;p<s;p++){var h=(i=e[p]).itemSize,m=i.count,g=new n.InterleavedBufferAttribute(l,h,u,i.normalized);c.push(g),u+=h;for(var v=0;v<m;v++)for(var y=0;y<h;y++)g[d[y]](v,i[f[y]](v))}return c},estimateBytesUsed:function(e){var t=0;for(var r in e.attributes){var n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}var a=e.getIndex();return t+=a?a.count*a.itemSize*a.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var r={},a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,i=0,l=Object.keys(e.attributes),u={},c={},f=[],d=["getX","getY","getZ","getW"],p=0,h=l.length;p<h;p++){u[w=l[p]]=[],(E=e.morphAttributes[w])&&(c[w]=new Array(E.length).fill().map((function(){return[]})))}var m=Math.log10(1/t),g=Math.pow(10,m);for(p=0;p<s;p++){var v=a?a.getX(p):p,y="",b=0;for(h=l.length;b<h;b++)for(var w=l[b],S=(M=e.getAttribute(w)).itemSize,T=0;T<S;T++)y+="".concat(~~(M[d[T]](v)*g),",");if(y in r)f.push(r[y]);else{for(b=0,h=l.length;b<h;b++){w=l[b];var M=e.getAttribute(w),E=e.morphAttributes[w],L=(S=M.itemSize,u[w]),j=c[w];for(T=0;T<S;T++){var x=d[T];if(L.push(M[x](v)),E)for(var A=0,R=E.length;A<R;A++)j[A].push(E[A][x](v))}}r[y]=i,f.push(i),i++}}var _=e.clone();for(p=0,h=l.length;p<h;p++){w=l[p];var O=e.getAttribute(w),C=new O.array.constructor(u[w]);M=new n.BufferAttribute(C,O.itemSize,O.normalized);if(_.setAttribute(w,M),w in c)for(b=0;b<c[w].length;b++){var I=e.morphAttributes[w][b],P=(C=new I.array.constructor(c[w][b]),new n.BufferAttribute(C,I.itemSize,I.normalized));_.morphAttributes[w][b]=P}}return _.setIndex(f),_},toTrianglesDrawMode:function(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===n.TriangleFanDrawMode||t===n.TriangleStripDrawMode){var r=e.getIndex();if(null===r){var a=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var s=0;s<o.count;s++)a.push(s);e.setIndex(a),r=e.getIndex()}var i=r.count-2,l=[];if(t===n.TriangleFanDrawMode)for(s=1;s<=i;s++)l.push(r.getX(0)),l.push(r.getX(s)),l.push(r.getX(s+1));else for(s=0;s<i;s++)s%2==0?(l.push(r.getX(s)),l.push(r.getX(s+1)),l.push(r.getX(s+2))):(l.push(r.getX(s+2)),l.push(r.getX(s+1)),l.push(r.getX(s)));l.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}}},"./src/js/utils/collisions.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r("./node_modules/three/build/three.module.js");function a(e,t){var r=(new n.Box3).setFromObject(e);return t.map((function(e){return(new n.Box3).setFromObject(e)})).map((function(e){return e.intersectsBox(r)})).reduce((function(e,t,r){return t?e.concat(r):e}),[])}},"./src/js/utils/detector.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,r,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=r,t.appendChild(n)}}},"./src/js/utils/helpers.js":(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,{default:()=>a});var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"throttle",value:function(e,t,r){var n,a;return t||(t=250),function(){var o=r||this,s=+new Date,i=arguments;n&&s<n+t?(clearTimeout(a),a=setTimeout((function(){n=s,e.apply(o,i)}),t)):(n=s,e.apply(o,i))}}},{key:"logProgress",value:function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}}}},{key:"logError",value:function(){return function(e){console.error(e)}}},{key:"handleColorChange",value:function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(t)}}},{key:"update",value:function(e){this.needsUpdate(e.material,e.geometry)}},{key:"needsUpdate",value:function(e,t){return function(){e.shading=+e.shading,e.vertexColors=+e.vertexColors,e.side=+e.side,e.needsUpdate=!0,t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.colorsNeedUpdate=!0}}},{key:"updateTexture",value:function(e,t,r){return function(n){e[t]=r[n],e.needsUpdate=!0}}}],(r=null)&&n(t.prototype,r),a&&n(t,a),e}()},"./src/js/utils/keyboard.js":(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,{default:()=>o});var a={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27},o=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domElement=t||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return r.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return r.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return r.onBlur}),!1)}var t,r,o;return t=e,(r=[{key:"destroy",value:function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)}},{key:"onBlur",value:function(){for(var e in this.keyCodes)this.keyCodes[e]=!1}},{key:"onKeyChange",value:function(e){var t=e.keyCode;this.keyCodes[t]="keydown"===e.type}},{key:"pressed",value:function(e){for(var t=e.split("+"),r=0;r<t.length;r++){var n=t[r],o=!1;if(o=-1!=Object.keys(a).indexOf(n)?this.keyCodes[a[n]]:this.keyCodes[n.toUpperCase().charCodeAt(0)],!o)return!1}return!0}},{key:"eventMatches",value:function(e,t){for(var r=a,n=Object.keys(r),o=t.split("+"),s=0;s<o.length;s++){var i=o[s],l=!1;if("shift"===i?l=!!e.shiftKey:"ctrl"===i?l=!!e.ctrlKey:"alt"===i?l=!!e.altKey:"meta"===i?l=!!e.metaKey:-1!==n.indexOf(i)?l=e.keyCode===r[i]:e.keyCode===i.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0}}])&&n(t.prototype,r),o&&n(t,o),e}()},"./src/css/app.scss":(e,t,r)=>{"use strict";r.r(t)}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.js",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2NhbWVyYS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2dlb21ldHJ5LmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvbGlnaHQuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9tYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL3JlbmRlcmVyLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2hlbHBlcnMvc3RhdHMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbG9hZGVycy9HTFRGTG9hZGVyLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL21haW4uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbWFuYWdlcnMvaW50ZXJhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbW9kZWwvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbW9kZWwvdGV4dHVyZS5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9vYmplY3RzL2FzdGVyb2lkLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL29iamVjdHMvYnVsbGV0LmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL29iamVjdHMvcGxheWVyLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL29iamVjdHMvc3RhcnMuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9kYXRhL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2RhdGEvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy91dGlscy9idWZmZXJHZW9tZXRyeVV0aWxzLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvY29sbGlzaW9ucy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvaGVscGVycy5qcyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2tleWJvYXJkLmpzIl0sIm5hbWVzIjpbImNvbnNvbGUiLCJsb2ciLCJDb25maWciLCJEZXRlY3RvciIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYWluIiwiaW5pdCIsIkNhbWVyYSIsInJlbmRlcmVyIiwid2lkdGgiLCJkb21FbGVtZW50IiwiaGVpZ2h0IiwidGhpcyIsInRocmVlQ2FtZXJhIiwiVEhSRUUiLCJwb3NpdGlvbiIsInNldCIsImxvb2tBdCIsInVwZGF0ZVNpemUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiYXNwZWN0IiwidXBkYXRlUHJvamVjdGlvbk1hdHJpeCIsIkdlb21ldHJ5Iiwic2NlbmUiLCJnZW8iLCJ0eXBlIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwicmFkaXVzIiwicmFkaWFsU2VnbWVudHMiLCJyb3RhdGlvbiIsIm1hdGVyaWFsIiwibWVzaCIsInJlY2VpdmVTaGFkb3ciLCJhZGQiLCJyZW1vdmUiLCJnZW9tZXRyeSIsImRpc3Bvc2UiLCJMaWdodCIsImFtYmllbnRMaWdodCIsInZpc2libGUiLCJwb2ludExpZ2h0IiwiZGlyZWN0aW9uYWxMaWdodCIsImNhc3RTaGFkb3ciLCJzaGFkb3ciLCJiaWFzIiwiY2FtZXJhIiwibmVhciIsImZhciIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIm1hcFNpemUiLCJkaXJlY3Rpb25hbExpZ2h0SGVscGVyIiwiaGVtaUxpZ2h0IiwibGlnaHROYW1lIiwiTWF0ZXJpYWwiLCJjb2xvciIsImJhc2ljIiwic2lkZSIsInN0YW5kYXJkIiwicm91Z2huZXNzIiwibWV0YWxuZXNzIiwid2lyZSIsIndpcmVmcmFtZSIsIlJlbmRlcmVyIiwidGhyZWVSZW5kZXJlciIsImFudGlhbGlhcyIsInNldENsZWFyQ29sb3IiLCJmb2ciLCJzZXRQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJzZXRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW5kZXIiLCJyUyIsImJTIiwiZ2xTIiwidFMiLCJTdGF0cyIsInN0YXJ0IiwidGljayIsImZyYW1lIiwiZW5kIiwidXBkYXRlIiwiQnJvd3NlclN0YXRzIiwiZ2xTdGF0cyIsInRocmVlU3RhdHMiLCJyU3RhdHMiLCJDU1NQYXRoIiwidXNlclRpbWluZ0FQSSIsInZhbHVlcyIsImNhcHRpb24iLCJvdmVyIiwiYXZlcmFnZSIsImF2Z01zIiwiZnBzIiwiYmVsb3ciLCJjYWxscyIsInJhZiIsInJzdGF0cyIsInRleHR1cmUiLCJncm91cHMiLCJmcmFjdGlvbnMiLCJiYXNlIiwic3RlcHMiLCJwbHVnaW5zIiwiR0xURkxvYWRlciIsIm1hbmFnZXIiLCJMb2FkZXIiLCJkcmFjb0xvYWRlciIsImRkc0xvYWRlciIsIkdMVEZSZWdpc3RyeSIsIm9iamVjdHMiLCJnZXQiLCJrZXkiLCJvYmplY3QiLCJyZW1vdmVBbGwiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJhc3NpZ24iLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImxvYWQiLCJ1cmwiLCJvbkxvYWQiLCJvblByb2dyZXNzIiwib25FcnJvciIsInJlc291cmNlUGF0aCIsInNjb3BlIiwicGF0aCIsIkxvYWRlclV0aWxzIiwiaXRlbVN0YXJ0IiwiX29uRXJyb3IiLCJlIiwiZXJyb3IiLCJpdGVtRXJyb3IiLCJpdGVtRW5kIiwibG9hZGVyIiwiRmlsZUxvYWRlciIsInNldFBhdGgiLCJzZXRSZXNwb25zZVR5cGUiLCJjcm9zc09yaWdpbiIsInNldFdpdGhDcmVkZW50aWFscyIsImRhdGEiLCJwYXJzZSIsImdsdGYiLCJzZXREUkFDT0xvYWRlciIsInNldEREU0xvYWRlciIsImNvbnRlbnQiLCJleHRlbnNpb25zIiwiVWludDhBcnJheSIsIkJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDIiwiRVhURU5TSU9OUyIsIktIUl9CSU5BUllfR0xURiIsIkdMVEZCaW5hcnlFeHRlbnNpb24iLCJqc29uIiwiSlNPTiIsInVuZGVmaW5lZCIsImFzc2V0IiwidmVyc2lvbiIsIkVycm9yIiwiZXh0ZW5zaW9uc1VzZWQiLCJpIiwibGVuZ3RoIiwiZXh0ZW5zaW9uTmFtZSIsImV4dGVuc2lvbnNSZXF1aXJlZCIsIktIUl9MSUdIVFNfUFVOQ1RVQUwiLCJHTFRGTGlnaHRzRXh0ZW5zaW9uIiwiS0hSX01BVEVSSUFMU19DTEVBUkNPQVQiLCJHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uIiwiS0hSX01BVEVSSUFMU19VTkxJVCIsIkdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbiIsIktIUl9NQVRFUklBTFNfUEJSX1NQRUNVTEFSX0dMT1NTSU5FU1MiLCJHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uIiwiS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT04iLCJHTFRGRHJhY29NZXNoQ29tcHJlc3Npb25FeHRlbnNpb24iLCJNU0ZUX1RFWFRVUkVfRERTIiwiR0xURlRleHR1cmVERFNFeHRlbnNpb24iLCJLSFJfVEVYVFVSRV9UUkFOU0ZPUk0iLCJHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbiIsIktIUl9NRVNIX1FVQU5USVpBVElPTiIsIkdMVEZNZXNoUXVhbnRpemF0aW9uRXh0ZW5zaW9uIiwiaW5kZXhPZiIsIndhcm4iLCJHTFRGUGFyc2VyIiwibmFtZSIsImV4dGVuc2lvbiIsImxpZ2h0RGVmcyIsImxpZ2h0cyIsImxvYWRMaWdodCIsImxpZ2h0SW5kZXgiLCJsaWdodE5vZGUiLCJsaWdodERlZiIsIkNvbG9yIiwiZnJvbUFycmF5IiwicmFuZ2UiLCJEaXJlY3Rpb25hbExpZ2h0IiwidGFyZ2V0IiwiUG9pbnRMaWdodCIsImRpc3RhbmNlIiwiU3BvdExpZ2h0Iiwic3BvdCIsImlubmVyQ29uZUFuZ2xlIiwib3V0ZXJDb25lQW5nbGUiLCJNYXRoIiwiUEkiLCJhbmdsZSIsInBlbnVtYnJhIiwiZGVjYXkiLCJpbnRlbnNpdHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldE1hdGVyaWFsVHlwZSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZXh0ZW5kUGFyYW1zIiwibWF0ZXJpYWxQYXJhbXMiLCJtYXRlcmlhbERlZiIsInBhcnNlciIsInBlbmRpbmciLCJvcGFjaXR5IiwibWV0YWxsaWNSb3VnaG5lc3MiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyIsIkFycmF5IiwiaXNBcnJheSIsImJhc2VDb2xvckZhY3RvciIsImFycmF5IiwiYmFzZUNvbG9yVGV4dHVyZSIsInB1c2giLCJhc3NpZ25UZXh0dXJlIiwiYWxsIiwiTWVzaFBoeXNpY2FsTWF0ZXJpYWwiLCJjbGVhcmNvYXRGYWN0b3IiLCJjbGVhcmNvYXQiLCJjbGVhcmNvYXRUZXh0dXJlIiwiY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yIiwiY2xlYXJjb2F0Um91Z2huZXNzIiwiY2xlYXJjb2F0Um91Z2huZXNzVGV4dHVyZSIsImNsZWFyY29hdE5vcm1hbFRleHR1cmUiLCJzY2FsZSIsImNsZWFyY29hdE5vcm1hbFNjYWxlIiwiVmVjdG9yMiIsIkJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMiLCJib2R5IiwiaGVhZGVyVmlldyIsIkRhdGFWaWV3IiwiaGVhZGVyIiwibWFnaWMiLCJzbGljZSIsImdldFVpbnQzMiIsImNodW5rVmlldyIsImNodW5rSW5kZXgiLCJieXRlTGVuZ3RoIiwiY2h1bmtMZW5ndGgiLCJjaHVua1R5cGUiLCJjb250ZW50QXJyYXkiLCJieXRlT2Zmc2V0IiwicHJlbG9hZCIsIkdMVEZNZXNoU3RhbmRhcmRTR01hdGVyaWFsIiwicGFyYW1zIiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJpc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCIsInNwZWN1bGFyTWFwUGFyc0ZyYWdtZW50Q2h1bmsiLCJqb2luIiwiZ2xvc3NpbmVzc01hcFBhcnNGcmFnbWVudENodW5rIiwic3BlY3VsYXJNYXBGcmFnbWVudENodW5rIiwiZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmsiLCJsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayIsInVuaWZvcm1zIiwic3BlY3VsYXIiLCJ2YWx1ZSIsInNldEhleCIsImdsb3NzaW5lc3MiLCJzcGVjdWxhck1hcCIsImdsb3NzaW5lc3NNYXAiLCJfZXh0cmFVbmlmb3JtcyIsIm9uQmVmb3JlQ29tcGlsZSIsInNoYWRlciIsInVuaWZvcm1OYW1lIiwiZnJhZ21lbnRTaGFkZXIiLCJyZXBsYWNlIiwiZGVmaW5lUHJvcGVydGllcyIsInYiLCJkZWZpbmVzIiwiVVNFX0dMT1NTSU5FU1NNQVAiLCJVU0VfUk9VR0hORVNTTUFQIiwibWV0YWxuZXNzTWFwIiwicm91Z2huZXNzTWFwIiwic2V0VmFsdWVzIiwic3BlY3VsYXJHbG9zc2luZXNzUGFyYW1zIiwicGJyU3BlY3VsYXJHbG9zc2luZXNzIiwiZGlmZnVzZUZhY3RvciIsImRpZmZ1c2VUZXh0dXJlIiwiZW1pc3NpdmUiLCJnbG9zc2luZXNzRmFjdG9yIiwic3BlY3VsYXJGYWN0b3IiLCJzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIiwic3BlY0dsb3NzTWFwRGVmIiwiY3JlYXRlTWF0ZXJpYWwiLCJtYXAiLCJsaWdodE1hcCIsImxpZ2h0TWFwSW50ZW5zaXR5IiwiYW9NYXAiLCJhb01hcEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZW1pc3NpdmVNYXAiLCJidW1wTWFwIiwiYnVtcFNjYWxlIiwibm9ybWFsTWFwIiwibm9ybWFsTWFwVHlwZSIsIlRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsIm5vcm1hbFNjYWxlIiwiZGlzcGxhY2VtZW50TWFwIiwiZGlzcGxhY2VtZW50U2NhbGUiLCJkaXNwbGFjZW1lbnRCaWFzIiwiYWxwaGFNYXAiLCJlbnZNYXAiLCJlbnZNYXBJbnRlbnNpdHkiLCJyZWZyYWN0aW9uUmF0aW8iLCJHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudCIsInBhcmFtZXRlclBvc2l0aW9ucyIsInNhbXBsZVZhbHVlcyIsInNhbXBsZVNpemUiLCJyZXN1bHRCdWZmZXIiLCJJbnRlcnBvbGFudCIsImRlY29kZVByaW1pdGl2ZSIsInByaW1pdGl2ZSIsImJ1ZmZlclZpZXdJbmRleCIsImJ1ZmZlclZpZXciLCJnbHRmQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlcyIsInRocmVlQXR0cmlidXRlTWFwIiwiYXR0cmlidXRlTm9ybWFsaXplZE1hcCIsImF0dHJpYnV0ZVR5cGVNYXAiLCJhdHRyaWJ1dGVOYW1lIiwidGhyZWVBdHRyaWJ1dGVOYW1lIiwiQVRUUklCVVRFUyIsInRvTG93ZXJDYXNlIiwiYWNjZXNzb3JEZWYiLCJhY2Nlc3NvcnMiLCJjb21wb25lbnRUeXBlIiwiV0VCR0xfQ09NUE9ORU5UX1RZUEVTIiwibm9ybWFsaXplZCIsImdldERlcGVuZGVuY3kiLCJ0aGVuIiwiZGVjb2RlRHJhY29GaWxlIiwiYXR0cmlidXRlIiwiZXh0ZW5kVGV4dHVyZSIsInRyYW5zZm9ybSIsImNsb25lIiwib2Zmc2V0IiwicmVwZWF0IiwidGV4Q29vcmQiLCJuZWVkc1VwZGF0ZSIsImNvcHkiLCJzb3VyY2UiLCJjb3B5U2FtcGxlVmFsdWVfIiwiaW5kZXgiLCJyZXN1bHQiLCJ2YWx1ZVNpemUiLCJiZWZvcmVTdGFydF8iLCJhZnRlckVuZF8iLCJpbnRlcnBvbGF0ZV8iLCJpMSIsInQwIiwidCIsInQxIiwic3RyaWRlIiwic3RyaWRlMiIsInN0cmlkZTMiLCJ0ZCIsInAiLCJwcCIsInBwcCIsIm9mZnNldDEiLCJvZmZzZXQwIiwiczIiLCJzMyIsInMwIiwiczEiLCJwMCIsIm0wIiwicDEiLCJtMSIsIldFQkdMX0NPTlNUQU5UUyIsIjUxMjAiLCJJbnQ4QXJyYXkiLCI1MTIxIiwiNTEyMiIsIkludDE2QXJyYXkiLCI1MTIzIiwiVWludDE2QXJyYXkiLCI1MTI1IiwiVWludDMyQXJyYXkiLCI1MTI2IiwiRmxvYXQzMkFycmF5IiwiV0VCR0xfRklMVEVSUyIsIjk3MjgiLCJOZWFyZXN0RmlsdGVyIiwiOTcyOSIsIkxpbmVhckZpbHRlciIsIjk5ODQiLCJOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlciIsIjk5ODUiLCJMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyIiwiOTk4NiIsIk5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIiLCI5OTg3IiwiTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyIiwiV0VCR0xfV1JBUFBJTkdTIiwiMzMwNzEiLCJDbGFtcFRvRWRnZVdyYXBwaW5nIiwiMzM2NDgiLCJNaXJyb3JlZFJlcGVhdFdyYXBwaW5nIiwiMTA0OTciLCJSZXBlYXRXcmFwcGluZyIsIldFQkdMX1RZUEVfU0laRVMiLCJTQ0FMQVIiLCJWRUMyIiwiVkVDMyIsIlZFQzQiLCJNQVQyIiwiTUFUMyIsIk1BVDQiLCJQT1NJVElPTiIsIk5PUk1BTCIsIlRBTkdFTlQiLCJURVhDT09SRF8wIiwiVEVYQ09PUkRfMSIsIkNPTE9SXzAiLCJXRUlHSFRTXzAiLCJKT0lOVFNfMCIsIlBBVEhfUFJPUEVSVElFUyIsInRyYW5zbGF0aW9uIiwid2VpZ2h0cyIsIklOVEVSUE9MQVRJT04iLCJDVUJJQ1NQTElORSIsIkxJTkVBUiIsIkludGVycG9sYXRlTGluZWFyIiwiU1RFUCIsIkludGVycG9sYXRlRGlzY3JldGUiLCJBTFBIQV9NT0RFUyIsIk1JTUVfVFlQRV9GT1JNQVRTIiwiUkdCQUZvcm1hdCIsIlJHQkZvcm1hdCIsInJlc29sdmVVUkwiLCJ0ZXN0IiwiYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhIiwia25vd25FeHRlbnNpb25zIiwib2JqZWN0RGVmIiwidXNlckRhdGEiLCJnbHRmRXh0ZW5zaW9ucyIsImFzc2lnbkV4dHJhc1RvVXNlckRhdGEiLCJnbHRmRGVmIiwiZXh0cmFzIiwidXBkYXRlTW9ycGhUYXJnZXRzIiwibWVzaERlZiIsImlsIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwidGFyZ2V0TmFtZXMiLCJtb3JwaFRhcmdldERpY3Rpb25hcnkiLCJjcmVhdGVBdHRyaWJ1dGVzS2V5IiwiYXR0cmlidXRlc0tleSIsImtleXMiLCJzb3J0Iiwib3B0aW9ucyIsImNhY2hlIiwicHJpbWl0aXZlQ2FjaGUiLCJ0ZXh0dXJlTG9hZGVyIiwiVGV4dHVyZUxvYWRlciIsInNldENyb3NzT3JpZ2luIiwiZmlsZUxvYWRlciIsImFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMiLCJwcmltaXRpdmVEZWYiLCJhc3NpZ25BdHRyaWJ1dGVBY2Nlc3NvciIsImFjY2Vzc29ySW5kZXgiLCJhY2Nlc3NvciIsInNldEF0dHJpYnV0ZSIsImdsdGZBdHRyaWJ1dGVOYW1lIiwiaW5kaWNlcyIsInNldEluZGV4IiwiYm94IiwiQm94MyIsIm1pbiIsIm1heCIsIlZlY3RvcjMiLCJ0YXJnZXRzIiwibWF4RGlzcGxhY2VtZW50IiwidmVjdG9yIiwic2V0WCIsImFicyIsInNldFkiLCJzZXRaIiwiZXhwYW5kQnlWZWN0b3IiLCJib3VuZGluZ0JveCIsInNwaGVyZSIsIlNwaGVyZSIsImdldENlbnRlciIsImNlbnRlciIsImRpc3RhbmNlVG8iLCJib3VuZGluZ1NwaGVyZSIsImNvbXB1dGVCb3VuZHMiLCJoYXNNb3JwaFBvc2l0aW9uIiwiaGFzTW9ycGhOb3JtYWwiLCJwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMiLCJwZW5kaW5nTm9ybWFsQWNjZXNzb3JzIiwicGVuZGluZ0FjY2Vzc29yIiwibm9ybWFsIiwibW9ycGhQb3NpdGlvbnMiLCJtb3JwaE5vcm1hbHMiLCJtb3JwaEF0dHJpYnV0ZXMiLCJtb3JwaFRhcmdldHNSZWxhdGl2ZSIsImFkZE1vcnBoVGFyZ2V0cyIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsImdldEluZGV4IiwiZ2V0QXR0cmlidXRlIiwiY291bnQiLCJudW1iZXJPZlRyaWFuZ2xlcyIsIm5ld0luZGljZXMiLCJUcmlhbmdsZUZhbkRyYXdNb2RlIiwiZ2V0WCIsIm5ld0dlb21ldHJ5IiwibWFya0RlZnMiLCJnZXREZXBlbmRlbmNpZXMiLCJkZXBlbmRlbmNpZXMiLCJzY2VuZXMiLCJhbmltYXRpb25zIiwiY2FtZXJhcyIsIm5vZGVEZWZzIiwibm9kZXMiLCJza2luRGVmcyIsInNraW5zIiwibWVzaERlZnMiLCJtZXNoZXMiLCJtZXNoUmVmZXJlbmNlcyIsIm1lc2hVc2VzIiwic2tpbkluZGV4Iiwic2tpbkxlbmd0aCIsImpvaW50cyIsImlzQm9uZSIsIm5vZGVJbmRleCIsIm5vZGVMZW5ndGgiLCJub2RlRGVmIiwic2tpbiIsImlzU2tpbm5lZE1lc2giLCJjYWNoZUtleSIsImRlcGVuZGVuY3kiLCJsb2FkU2NlbmUiLCJsb2FkTm9kZSIsImxvYWRNZXNoIiwibG9hZEFjY2Vzc29yIiwibG9hZEJ1ZmZlclZpZXciLCJsb2FkQnVmZmVyIiwibG9hZE1hdGVyaWFsIiwibG9hZFRleHR1cmUiLCJsb2FkU2tpbiIsImxvYWRBbmltYXRpb24iLCJsb2FkQ2FtZXJhIiwiZGVmcyIsImRlZiIsImJ1ZmZlckluZGV4IiwiYnVmZmVyRGVmIiwiYnVmZmVycyIsInVyaSIsInJlamVjdCIsImJ1ZmZlclZpZXdEZWYiLCJidWZmZXJWaWV3cyIsImJ1ZmZlciIsInNwYXJzZSIsInBlbmRpbmdCdWZmZXJWaWV3cyIsImJ1ZmZlckF0dHJpYnV0ZSIsIml0ZW1TaXplIiwiVHlwZWRBcnJheSIsImVsZW1lbnRCeXRlcyIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiaXRlbUJ5dGVzIiwiYnl0ZVN0cmlkZSIsImliU2xpY2UiLCJmbG9vciIsImliQ2FjaGVLZXkiLCJpYiIsIkludGVybGVhdmVkQnVmZmVyIiwiSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJpdGVtU2l6ZUluZGljZXMiLCJUeXBlZEFycmF5SW5kaWNlcyIsImJ5dGVPZmZzZXRJbmRpY2VzIiwiYnl0ZU9mZnNldFZhbHVlcyIsInNwYXJzZUluZGljZXMiLCJzcGFyc2VWYWx1ZXMiLCJzZXRXIiwidGV4dHVyZUluZGV4IiwiVVJMIiwic2VsZiIsIndlYmtpdFVSTCIsInRleHR1cmVEZWYiLCJ0ZXh0dXJlcyIsInRleHR1cmVFeHRlbnNpb25zIiwic291cmNlVVJJIiwiaW1hZ2VzIiwiaXNPYmplY3RVUkwiLCJibG9iIiwiQmxvYiIsIm1pbWVUeXBlIiwiY3JlYXRlT2JqZWN0VVJMIiwiZ2V0SGFuZGxlciIsInJldm9rZU9iamVjdFVSTCIsImZsaXBZIiwiZm9ybWF0Iiwic2FtcGxlciIsInNhbXBsZXJzIiwibWFnRmlsdGVyIiwibWluRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIm1hcE5hbWUiLCJtYXBEZWYiLCJpc0NvbXByZXNzZWRUZXh0dXJlIiwiYXNzaWduRmluYWxNYXRlcmlhbCIsInVzZVZlcnRleFRhbmdlbnRzIiwidGFuZ2VudCIsInVzZVZlcnRleENvbG9ycyIsInVzZUZsYXRTaGFkaW5nIiwidXNlU2tpbm5pbmciLCJ1c2VNb3JwaFRhcmdldHMiLCJ1c2VNb3JwaE5vcm1hbHMiLCJpc1BvaW50cyIsInV1aWQiLCJwb2ludHNNYXRlcmlhbCIsIlBvaW50c01hdGVyaWFsIiwic2l6ZUF0dGVudWF0aW9uIiwiaXNMaW5lIiwibGluZU1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJjYWNoZWRNYXRlcmlhbCIsInNraW5uaW5nIiwidmVydGV4VGFuZ2VudHMiLCJ2ZXJ0ZXhDb2xvcnMiLCJmbGF0U2hhZGluZyIsIm1vcnBoVGFyZ2V0cyIsInV2MiIsInV2IiwieSIsIm1hdGVyaWFsSW5kZXgiLCJtYXRlcmlhbFR5cGUiLCJtYXRlcmlhbHMiLCJtYXRlcmlhbEV4dGVuc2lvbnMiLCJzZ0V4dGVuc2lvbiIsImttdUV4dGVuc2lvbiIsIm1ldGFsbGljRmFjdG9yIiwicm91Z2huZXNzRmFjdG9yIiwibWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlIiwiZG91YmxlU2lkZWQiLCJEb3VibGVTaWRlIiwiYWxwaGFNb2RlIiwidHJhbnNwYXJlbnQiLCJkZXB0aFdyaXRlIiwiYWxwaGFUZXN0IiwiYWxwaGFDdXRvZmYiLCJub3JtYWxUZXh0dXJlIiwib2NjbHVzaW9uVGV4dHVyZSIsInN0cmVuZ3RoIiwiZW1pc3NpdmVGYWN0b3IiLCJlbWlzc2l2ZVRleHR1cmUiLCJjbGVhcmNvYXRFeHRlbnNpb24iLCJlbmNvZGluZyIsInNSR0JFbmNvZGluZyIsImxvYWRHZW9tZXRyaWVzIiwicHJpbWl0aXZlcyIsImNyZWF0ZURyYWNvUHJpbWl0aXZlIiwiZHJhY29FeHRlbnNpb24iLCJnZW9tZXRyeVByb21pc2UiLCJtb2RlIiwiY2FjaGVkIiwicHJvbWlzZSIsIkJ1ZmZlckdlb21ldHJ5IiwibWVzaEluZGV4IiwiZGVwdGhUZXN0IiwiRnJvbnRTaWRlIiwicmVzdWx0cyIsImdlb21ldHJpZXMiLCJTa2lubmVkTWVzaCIsIk1lc2giLCJza2luV2VpZ2h0Iiwibm9ybWFsaXplU2tpbldlaWdodHMiLCJUcmlhbmdsZVN0cmlwRHJhd01vZGUiLCJMaW5lU2VnbWVudHMiLCJMaW5lIiwiTGluZUxvb3AiLCJQb2ludHMiLCJncm91cCIsIkdyb3VwIiwiY2FtZXJhSW5kZXgiLCJjYW1lcmFEZWYiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsIk1hdGhVdGlscyIsInlmb3YiLCJhc3BlY3RSYXRpbyIsInpuZWFyIiwiemZhciIsIk9ydGhvZ3JhcGhpY0NhbWVyYSIsInhtYWciLCJ5bWFnIiwic2tpbkRlZiIsInNraW5FbnRyeSIsImludmVyc2VCaW5kTWF0cmljZXMiLCJhbmltYXRpb25JbmRleCIsImFuaW1hdGlvbkRlZiIsInBlbmRpbmdOb2RlcyIsInBlbmRpbmdJbnB1dEFjY2Vzc29ycyIsInBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMiLCJwZW5kaW5nU2FtcGxlcnMiLCJwZW5kaW5nVGFyZ2V0cyIsImNoYW5uZWxzIiwiY2hhbm5lbCIsIm5vZGUiLCJpZCIsImlucHV0IiwicGFyYW1ldGVycyIsIm91dHB1dCIsImlucHV0QWNjZXNzb3JzIiwib3V0cHV0QWNjZXNzb3JzIiwidHJhY2tzIiwiaW5wdXRBY2Nlc3NvciIsIm91dHB1dEFjY2Vzc29yIiwiVHlwZWRLZXlmcmFtZVRyYWNrIiwidXBkYXRlTWF0cml4IiwibWF0cml4QXV0b1VwZGF0ZSIsIk51bWJlcktleWZyYW1lVHJhY2siLCJRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayIsIlZlY3RvcktleWZyYW1lVHJhY2siLCJ0YXJnZXROYW1lIiwiaW50ZXJwb2xhdGlvbiIsInRyYXZlcnNlIiwiaXNNZXNoIiwib3V0cHV0QXJyYXkiLCJzY2FsZWQiLCJqIiwiamwiLCJ0cmFjayIsImNyZWF0ZUludGVycG9sYW50IiwidGltZXMiLCJnZXRWYWx1ZVNpemUiLCJpc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSIsIkFuaW1hdGlvbkNsaXAiLCJpbnN0YW5jZU51bSIsIm8iLCJsaWdodCIsIkJvbmUiLCJPYmplY3QzRCIsIlByb3BlcnR5QmluZGluZyIsIm1hdHJpeCIsIk1hdHJpeDQiLCJhcHBseU1hdHJpeDQiLCJxdWF0ZXJuaW9uIiwiYnVpbGROb2RlSGllcmFjaHkiLCJub2RlSWQiLCJwYXJlbnRPYmplY3QiLCJwZW5kaW5nSm9pbnRzIiwiam9pbnROb2RlcyIsImJvbmVzIiwiYm9uZUludmVyc2VzIiwiam9pbnROb2RlIiwibWF0IiwiYmluZCIsIlNrZWxldG9uIiwibWF0cml4V29ybGQiLCJjaGlsZHJlbiIsImNoaWxkIiwic2NlbmVJbmRleCIsInNjZW5lRGVmIiwibm9kZUlkcyIsImNsb2NrIiwiZm9yRWFjaCIsInBsYWNlIiwic3RhdHMiLCJzZXRVcCIsImhlYWx0aCIsInNjb3JlIiwiVGV4dHVyZSIsInBsYXllciIsIlBsYXllciIsImFzdGVyb2lkT25lIiwiQXN0ZXJvaWQiLCJhc3Rlcm9pZE9uZURhdGEiLCJhc3Rlcm9pZFR3byIsImFzdGVyb2lkVHdvRGF0YSIsInN0YXIiLCJTdGFyIiwiYXN0ZXJvaWRzIiwiYnVsbGV0cyIsInN0YXJzIiwiaXRlbSIsImxvYWRlZCIsInRvdGFsIiwiSW50ZXJhY3Rpb24iLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsIlN0b3JlIiwic2V0SW50ZXJ2YWwiLCJmb250U2l6ZSIsImlubmVySFRNTCIsIlRXRUVOIiwiY29uY2F0Iiwic3Bhd25Bc3Rlcm9pZHMiLCJzcGF3blN0YXJzIiwiY29sbGlkYWJsZUFzdGVyb2lkcyIsImZpbHRlciIsImFzdGVyb2lkIiwiZGVsZXRlZCIsImNvbGxpZGFibGVCdWxsZXRzIiwiYnVsbGV0IiwiY29sbGlkYWJsZVN0YXJzIiwiY29sbGlzaW9ucyIsImdldENvbGxpc2lvbnMiLCJyZWYiLCJhc3Rlcm9pZElkeCIsInVubG9hZCIsInN0YXJJZHgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lb3V0Iiwia2V5Ym9hcmQiLCJLZXlib2FyZCIsImV2ZW50IiwiSGVscGVycyIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZUxlYXZlIiwib25Nb3VzZU92ZXIiLCJwcmVzc2VkIiwicHJldmVudERlZmF1bHQiLCJjbGVhclRpbWVvdXQiLCJNb2RlbCIsIm1vZGVsRGF0YSIsImlzTGlnaHQiLCJtdWx0aXBseVNjYWxhciIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJ1cGRhdGVNYXRyaXhXb3JsZCIsIm1vZGVsIiwibWF4QW5pc290cm9weSIsImltYWdlRmlsZXMiLCJwcm9taXNlQXJyYXkiLCJpbWFnZUZpbGUiLCJpbWFnZSIsImFuaXNvdHJvcHkiLCJtb2RlbE9CSiIsInhociIsInJlYXNvbiIsInBvc2l0aW9ucyIsImRvbmUiLCJyYW5kb20iLCJsYW5lMSIsImxhbmUyIiwiZmluYWxSb3RhdGlvbiIsInRvIiwieiIsIm9uQ29tcGxldGUiLCJ4IiwiSW5maW5pdHkiLCJzZXR1cEFuaW1hdGlvbnMiLCJCdWxsZXQiLCJzaGlwUG9zaXRpb24iLCJtYWtlIiwicG9zWCIsInBvc1kiLCJwb3NaIiwicm90WiIsImVhc2luZyIsIm9uU3RhcnQiLCJjaGFpbiIsIm5ld1N0YXIiLCJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiZHByIiwiZHVyYXRpb24iLCJtb2RlbHMiLCJhbmltYXRpb25JbnRlcnZhbCIsImZpcmVSYXRlIiwic2VnbWVudHMiLCJwYXRocyIsImNhblNwYXduSW50ZXJ2YWwiLCJlbmFibGVIZWxwZXIiLCJ0cmFuc2x1Y2VudCIsImZvdiIsImhlbHBlckVuYWJsZWQiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsImdyb3VuZENvbG9yIiwiY2FuU3Bhd24iLCJkaXJlY3Rpb24iLCJhbmltYXRpbmciLCJzaG9vdCIsImNhblNob290IiwiZ2FtZU92ZXIiLCJjb21wdXRlVGFuZ2VudHMiLCJub3JtYWxzIiwidXZzIiwiblZlcnRpY2VzIiwidGFuZ2VudHMiLCJ0YW4xIiwidGFuMiIsInZBIiwidkIiLCJ2QyIsInV2QSIsInV2QiIsInV2QyIsInNkaXIiLCJ0ZGlyIiwiaGFuZGxlVHJpYW5nbGUiLCJ3IiwidG1wIiwidG1wMiIsIm4iLCJuMiIsImhhbmRsZVZlcnRleCIsImEiLCJiIiwiYyIsInN1YiIsInIiLCJpc0Zpbml0ZSIsImFkZFNjYWxlZFZlY3RvciIsImRvdCIsIm5vcm1hbGl6ZSIsImNyb3NzVmVjdG9ycyIsIm1lcmdlQnVmZmVyR2VvbWV0cmllcyIsInVzZUdyb3VwcyIsImlzSW5kZXhlZCIsImF0dHJpYnV0ZXNVc2VkIiwiU2V0IiwibW9ycGhBdHRyaWJ1dGVzVXNlZCIsIm1lcmdlZEdlb21ldHJ5IiwiYXR0cmlidXRlc0NvdW50IiwiaGFzIiwic2l6ZSIsIm1lcmdlZFVzZXJEYXRhIiwiYWRkR3JvdXAiLCJpbmRleE9mZnNldCIsIm1lcmdlZEluZGV4IiwibWVyZ2VkQXR0cmlidXRlIiwibWVyZ2VCdWZmZXJBdHRyaWJ1dGVzIiwibnVtTW9ycGhUYXJnZXRzIiwibW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSIsIm1lcmdlZE1vcnBoQXR0cmlidXRlIiwiYXJyYXlMZW5ndGgiLCJpc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlIiwiaW50ZXJsZWF2ZUF0dHJpYnV0ZXMiLCJsIiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJyZXMiLCJnZXR0ZXJzIiwic2V0dGVycyIsImliYSIsImsiLCJlc3RpbWF0ZUJ5dGVzVXNlZCIsIm1lbSIsImF0dHIiLCJtZXJnZVZlcnRpY2VzIiwidG9sZXJhbmNlIiwiTnVtYmVyIiwiRVBTSUxPTiIsImhhc2hUb0luZGV4IiwidmVydGV4Q291bnQiLCJuZXh0SW5kZXgiLCJhdHRyaWJ1dGVOYW1lcyIsImF0dHJBcnJheXMiLCJtb3JwaEF0dHJzQXJyYXlzIiwibW9ycGhBdHRyIiwiZmlsbCIsImRlY2ltYWxTaGlmdCIsImxvZzEwIiwic2hpZnRNdWx0aXBsaWVyIiwicG93IiwiaGFzaCIsIm5ld2FycmF5IiwibmV3TW9ycGhBcnJheXMiLCJnZXR0ZXJGdW5jIiwibSIsIm1sIiwib2xkQXR0cmlidXRlIiwib2xkTW9ycGhBdHRyaWJ1dGUiLCJtb3JwaEF0dHJpYnV0ZSIsIlRyaWFuZ2xlc0RyYXdNb2RlIiwiY2xlYXJHcm91cHMiLCJjb2xsaWRhYmxlTWVzaExpc3QiLCJtZXNoQm94Iiwic2V0RnJvbU9iamVjdCIsImNvbGxpZGFibGVNZXNoIiwiaW50ZXJzZWN0c0JveCIsInJlZHVjZSIsIm91dCIsImhpdCIsImlkeCIsImNhbnZhcyIsIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsIndlYmdsIiwiY3JlYXRlRWxlbWVudCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImdldENvbnRleHQiLCJ3b3JrZXJzIiwiV29ya2VyIiwiZmlsZWFwaSIsIkZpbGUiLCJGaWxlUmVhZGVyIiwiRmlsZUxpc3QiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImVsZW1lbnQiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsInRleHRBbGlnbiIsImJhY2tncm91bmQiLCJwYWRkaW5nIiwibWFyZ2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyZW50IiwiZm4iLCJ0aHJlc2hob2xkIiwibGFzdCIsImRlZmVyVGltZXIiLCJjb250ZXh0Iiwibm93IiwiRGF0ZSIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50Q29tcGxldGUiLCJyb3VuZCIsInNoYWRpbmciLCJ2ZXJ0aWNlc05lZWRVcGRhdGUiLCJub3JtYWxzTmVlZFVwZGF0ZSIsImNvbG9yc05lZWRVcGRhdGUiLCJtYXRlcmlhbEtleSIsIkFMSUFTIiwidXAiLCJkb3duIiwic3BhY2UiLCJ0YWIiLCJlc2NhcGUiLCJrZXlDb2RlcyIsIm9uS2V5Q2hhbmdlIiwib25CbHVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByb3AiLCJrZXlDb2RlIiwia2V5RGVzYyIsInNwbGl0IiwidG9VcHBlckNhc2UiLCJjaGFyQ29kZUF0IiwiYWxpYXNlcyIsImFsaWFzS2V5cyIsInNoaWZ0S2V5IiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiXSwibWFwcGluZ3MiOiI7aVNBU0VBLFFBQVFDLElBQUksMkNBRVpDLGlCQUFlLEVBR2pCLFdBRUUsR0FBSUMsZ0JBRUcsQ0FDTCxJQUFNQyxFQUFZQyxTQUFTQyxlQUFlLGdCQUMxQyxJQUFJQyxVQUFLSCxRQUhURCwrQkFPSkssSSxra0NDbkJxQkMsRSxXQUNuQixXQUFZQyxHQUFVLGdCLDRGQUFBLFNBQ3BCLElBQU1DLEVBQVFELEVBQVNFLFdBQVdELE1BQzVCRSxFQUFTSCxFQUFTRSxXQUFXQyxPQUduQ0MsS0FBS0MsWUFBYyxJQUFJQyxvQkFBd0JkLHFCQUFtQlMsRUFBUUUsRUFBUVgsc0JBQW9CQSx1QkFDdEcsRUFBQVksS0FBS0MsWUFBWUUsVUFBU0MsSUFBMUIsVUFBaUNoQiw2QkFDakMsRUFBQVksS0FBS0MsYUFBWUksT0FBakIsVUFBMkJqQiwwQkFHM0JZLEtBQUtNLFdBQVdWLEdBR2hCVyxPQUFPQyxpQkFBaUIsVUFBVSxrQkFBTSxFQUFLRixXQUFXVixNQUFXLEcsaURBR3JFLFNBQVdBLEdBRVRJLEtBQUtDLFlBQVlRLE9BQVNiLEVBQVNFLFdBQVdELE1BQVFELEVBQVNFLFdBQVdDLE9BRzFFQyxLQUFLQyxZQUFZUyw4QixxbUNDdEJBQyxFLFdBQ25CLFdBQVlDLEksNEZBQU8sU0FDakJaLEtBQUtZLE1BQVFBLEVBQ2JaLEtBQUthLElBQU0sSywyQ0FHYixTQUFLQyxHQUFNLFdBQ1QsTUFBYSxVQUFUQSxFQUNLLFNBQUNqQixFQUFPRSxHQUFrRCxJQUExQ2dCLEVBQTBDLHVEQUExQixFQUFHQyxFQUF1Qix1REFBTixFQUN6RCxFQUFLSCxJQUFNLElBQUlYLGdCQUNiTCxFQUNBRSxFQUNBZ0IsRUFDQUMsSUFLTyxX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LEVBQVVoQixFQUNWaUIsRUFBWXg2QixPQUFPd1YsS0FBSytrQixHQUN4Qi9rQixFQUFPMmtCLEVBQVFDLE1BQU0sS0FHbEJ4M0IsRUFBSSxFQUFHQSxFQUFJNFMsRUFBSzNTLE9BQVFELElBQUssQ0FDcEMsSUFBTWhELEVBQU00VixFQUFLNVMsR0FDYjRwQixHQUFVLEVBY2QsR0FiWSxVQUFSNXNCLEVBQ0Y0c0IsSUFBVUwsRUFBTXNPLFNBQ0MsU0FBUjc2QixFQUNUNHNCLElBQVVMLEVBQU11TyxRQUNDLFFBQVI5NkIsRUFDVDRzQixJQUFVTCxFQUFNd08sT0FDQyxTQUFSLzZCLEVBQ1Q0c0IsSUFBVUwsRUFBTXlPLFNBQ3FCLElBQTVCSixFQUFVeDJCLFFBQVFwRSxHQUMzQjRzQixFQUFVTCxFQUFNK04sVUFBWUssRUFBUTM2QixHQUMzQnVzQixFQUFNK04sVUFBWXQ2QixFQUFJeTZCLGNBQWNDLFdBQVcsS0FDeEQ5TixHQUFVLElBRVBBLEVBQVMsT0FBTyxFQUd2QixPQUFPLE8iLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uZmlnIGZyb20gJy4vZGF0YS9jb25maWcnO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vdXRpbHMvZGV0ZWN0b3InO1xuaW1wb3J0IE1haW4gZnJvbSAnLi9hcHAvbWFpbic7XG5cbi8vIFN0eWxlc1xuaW1wb3J0ICcuLy4uL2Nzcy9hcHAuc2Nzcyc7XG5cbi8vIENoZWNrIGVudmlyb25tZW50IGFuZCBzZXQgdGhlIENvbmZpZyBoZWxwZXJcbmlmKF9fRU5WX18gPT09ICdkZXYnKSB7XG4gIGNvbnNvbGUubG9nKCctLS0tLSBSVU5OSU5HIElOIERFViBFTlZJUk9OTUVOVCEgLS0tLS0nKTtcblxuICBDb25maWcuaXNEZXYgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAvLyBDaGVjayBmb3Igd2ViR0wgY2FwYWJpbGl0aWVzXG4gIGlmKCFEZXRlY3Rvci53ZWJnbCkge1xuICAgIERldGVjdG9yLmFkZEdldFdlYkdMTWVzc2FnZSgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHBDb250YWluZXInKTtcbiAgICBuZXcgTWFpbihjb250YWluZXIpO1xuICB9XG59XG5cbmluaXQoKTtcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIENsYXNzIHRoYXQgY3JlYXRlcyBhbmQgdXBkYXRlcyB0aGUgbWFpbiBjYW1lcmFcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgY29uc3Qgd2lkdGggPSByZW5kZXJlci5kb21FbGVtZW50LndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBwb3NpdGlvbiBhIFBlcnNwZWN0aXZlIENhbWVyYVxuICAgIHRoaXMudGhyZWVDYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoQ29uZmlnLmNhbWVyYS5mb3YsIHdpZHRoIC8gaGVpZ2h0LCBDb25maWcuY2FtZXJhLm5lYXIsIENvbmZpZy5jYW1lcmEuZmFyKTtcbiAgICB0aGlzLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnNldCguLi5Db25maWcuY2FtZXJhLnBvc2l0aW9uKTtcbiAgICB0aGlzLnRocmVlQ2FtZXJhLmxvb2tBdCguLi5Db25maWcuY2FtZXJhLmxvb2tBdCk7XG5cbiAgICAvLyBJbml0aWFsIHNpemluZ1xuICAgIHRoaXMudXBkYXRlU2l6ZShyZW5kZXJlcik7XG4gICAgXG4gICAgLy8gTGlzdGVuZXJzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMudXBkYXRlU2l6ZShyZW5kZXJlciksIGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVNpemUocmVuZGVyZXIpIHtcbiAgICAvLyBVcGRhdGUgY2FtZXJhIGFzcGVjdCByYXRpbyB3aXRoIHdpbmRvdyBhc3BlY3QgcmF0aW9cbiAgICB0aGlzLnRocmVlQ2FtZXJhLmFzcGVjdCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGggLyByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcblxuICAgIC8vIEFsd2F5cyBjYWxsIHVwZGF0ZVByb2plY3Rpb25NYXRyaXggb24gY2FtZXJhIGNoYW5nZVxuICAgIHRoaXMudGhyZWVDYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcblxuLy8gVGhpcyBoZWxwZXIgY2xhc3MgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCB0aGVuIHBsYWNlIGdlb21ldHJ5IGluIHRoZSBzY2VuZVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihzY2VuZSkge1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB0aGlzLmdlbyA9IG51bGw7XG4gIH1cblxuICBtYWtlKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gXCJwbGFuZVwiKSB7XG4gICAgICByZXR1cm4gKHdpZHRoLCBoZWlnaHQsIHdpZHRoU2VnbWVudHMgPSAxLCBoZWlnaHRTZWdtZW50cyA9IDEpID0+IHtcbiAgICAgICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgd2lkdGhTZWdtZW50cyxcbiAgICAgICAgICBoZWlnaHRTZWdtZW50c1xuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJzcGhlcmVcIikge1xuICAgICAgcmV0dXJuIChyYWRpdXMsIHdpZHRoU2VnbWVudHMgPSAzMiwgaGVpZ2h0U2VnbWVudHMgPSAzMikgPT4ge1xuICAgICAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShcbiAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgd2lkdGhTZWdtZW50cyxcbiAgICAgICAgICBoZWlnaHRTZWdtZW50c1xuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJjeWxpbmRlclwiKSB7XG4gICAgICByZXR1cm4gKHJhZGl1cywgaGVpZ2h0LCByYWRpYWxTZWdtZW50cyA9IDMyLCBoZWlnaHRTZWdtZW50cyA9IDEpID0+IHtcbiAgICAgICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeShcbiAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICByYWRpYWxTZWdtZW50cyxcbiAgICAgICAgICBoZWlnaHRTZWdtZW50c1xuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwbGFjZShwb3NpdGlvbiwgcm90YXRpb24sIG1hdGVyaWFsKSB7XG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW8sIG1hdGVyaWFsKTtcblxuICAgIC8vIFVzZSBFUzYgc3ByZWFkIHRvIHNldCBwb3NpdGlvbiBhbmQgcm90YXRpb24gZnJvbSBwYXNzZWQgaW4gYXJyYXlcbiAgICB0aGlzLm1lc2gucG9zaXRpb24uc2V0KC4uLnBvc2l0aW9uKTtcbiAgICB0aGlzLm1lc2gucm90YXRpb24uc2V0KC4uLnJvdGF0aW9uKTtcblxuICAgIGlmIChDb25maWcuc2hhZG93LmVuYWJsZWQpIHtcbiAgICAgIHRoaXMubWVzaC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLm1lc2gpO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMubWVzaCk7XG4gICAgdGhpcy5tZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uLy4uL2RhdGEvY29uZmlnJztcblxuLy8gU2V0cyB1cCBhbmQgcGxhY2VzIGFsbCBsaWdodHMgaW4gc2NlbmVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpZ2h0IHtcbiAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgLy8gQW1iaWVudFxuICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChDb25maWcuYW1iaWVudExpZ2h0LmNvbG9yKTtcbiAgICB0aGlzLmFtYmllbnRMaWdodC52aXNpYmxlID0gQ29uZmlnLmFtYmllbnRMaWdodC5lbmFibGVkO1xuXG4gICAgLy8gUG9pbnQgbGlnaHRcbiAgICB0aGlzLnBvaW50TGlnaHQgPSBuZXcgVEhSRUUuUG9pbnRMaWdodChDb25maWcucG9pbnRMaWdodC5jb2xvciwgQ29uZmlnLnBvaW50TGlnaHQuaW50ZW5zaXR5LCBDb25maWcucG9pbnRMaWdodC5kaXN0YW5jZSk7XG4gICAgdGhpcy5wb2ludExpZ2h0LnBvc2l0aW9uLnNldChDb25maWcucG9pbnRMaWdodC54LCBDb25maWcucG9pbnRMaWdodC55LCBDb25maWcucG9pbnRMaWdodC56KTtcbiAgICB0aGlzLnBvaW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5wb2ludExpZ2h0LmVuYWJsZWQ7XG5cbiAgICAvLyBEaXJlY3Rpb25hbCBsaWdodFxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KENvbmZpZy5kaXJlY3Rpb25hbExpZ2h0LmNvbG9yLCBDb25maWcuZGlyZWN0aW9uYWxMaWdodC5pbnRlbnNpdHkpO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueCwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueSwgQ29uZmlnLmRpcmVjdGlvbmFsTGlnaHQueik7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnZpc2libGUgPSBDb25maWcuZGlyZWN0aW9uYWxMaWdodC5lbmFibGVkO1xuXG4gICAgLy8gU2hhZG93IG1hcFxuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gQ29uZmlnLnNoYWRvdy5lbmFibGVkO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuYmlhcyA9IENvbmZpZy5zaGFkb3cuYmlhcztcbiAgICB0aGlzLmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5uZWFyID0gQ29uZmlnLnNoYWRvdy5uZWFyO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmZhciA9IENvbmZpZy5zaGFkb3cuZmFyO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSBDb25maWcuc2hhZG93LmxlZnQ7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEucmlnaHQgPSBDb25maWcuc2hhZG93LnJpZ2h0O1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLnRvcCA9IENvbmZpZy5zaGFkb3cudG9wO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmJvdHRvbSA9IENvbmZpZy5zaGFkb3cuYm90dG9tO1xuICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IENvbmZpZy5zaGFkb3cubWFwV2lkdGg7XG4gICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IENvbmZpZy5zaGFkb3cubWFwSGVpZ2h0O1xuXG4gICAgLy8gU2hhZG93IGNhbWVyYSBoZWxwZXJcbiAgICBpZihDb25maWcuaXNEZXYpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uYWxMaWdodEhlbHBlciA9IG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIodGhpcy5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEpO1xuICAgICAgdGhpcy5kaXJlY3Rpb25hbExpZ2h0SGVscGVyLnZpc2libGUgPSBDb25maWcuc2hhZG93LmhlbHBlckVuYWJsZWQ7XG4gICAgfVxuICAgIC8vIEhlbWlzcGhlcmUgbGlnaHRcbiAgICB0aGlzLmhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoQ29uZmlnLmhlbWlMaWdodC5jb2xvciwgQ29uZmlnLmhlbWlMaWdodC5ncm91bmRDb2xvciwgQ29uZmlnLmhlbWlMaWdodC5pbnRlbnNpdHkpO1xuICAgIHRoaXMuaGVtaUxpZ2h0LnBvc2l0aW9uLnNldChDb25maWcuaGVtaUxpZ2h0LngsIENvbmZpZy5oZW1pTGlnaHQueSwgQ29uZmlnLmhlbWlMaWdodC56KTtcbiAgICB0aGlzLmhlbWlMaWdodC52aXNpYmxlID0gQ29uZmlnLmhlbWlMaWdodC5lbmFibGVkO1xuICB9XG5cbiAgcGxhY2UobGlnaHROYW1lKSB7XG4gICAgc3dpdGNoKGxpZ2h0TmFtZSkge1xuICAgICAgY2FzZSAnYW1iaWVudCc6XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RpcmVjdGlvbmFsJzpcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5kaXJlY3Rpb25hbExpZ2h0KTtcbiAgICAgICAgaWYoQ29uZmlnLmlzRGV2KSB7XG4gICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5kaXJlY3Rpb25hbExpZ2h0SGVscGVyKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncG9pbnQnOlxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBvaW50TGlnaHQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnaGVtaSc6XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuaGVtaUxpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuLy8gVVNlIHRoaXMgY2xhc3MgYXMgYSBoZWxwZXIgdG8gc2V0IHVwIHNvbWUgZGVmYXVsdCBtYXRlcmlhbHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGVyaWFsIHtcbiAgY29uc3RydWN0b3IoY29sb3IpIHtcbiAgICB0aGlzLmJhc2ljID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgIGNvbG9yLFxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSxcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhbmRhcmQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgY29sb3IsXG4gICAgICByb3VnaG5lc3M6IDEsXG4gICAgICBtZXRhbG5lc3M6IDAsXG4gICAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlLFxuICAgIH0pO1xuXG4gICAgdGhpcy53aXJlID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgd2lyZWZyYW1lOiB0cnVlIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vZGF0YS9jb25maWcnO1xuXG4vLyBNYWluIHdlYkdMIHJlbmRlcmVyIGNsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lLCBjb250YWluZXIpIHtcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLy8gQ3JlYXRlIFdlYkdMIHJlbmRlcmVyIGFuZCBzZXQgaXRzIGFudGlhbGlhc1xuICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHthbnRpYWxpYXM6IHRydWV9KTtcblxuICAgIC8vIFNldCBjbGVhciBjb2xvciB0byBmb2cgdG8gZW5hYmxlIGZvZyBvciB0byBoZXggY29sb3IgZm9yIG5vIGZvZ1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pOyAvLyBGb3IgcmV0aW5hXG5cbiAgICAvLyBBcHBlbmRzIGNhbnZhc1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRocmVlUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICAvLyBTaGFkb3cgbWFwIG9wdGlvbnNcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XG5cbiAgICAvLyBHZXQgYW5pc290cm9weSBmb3IgdGV4dHVyZXNcbiAgICBDb25maWcubWF4QW5pc290cm9weSA9IHRoaXMudGhyZWVSZW5kZXJlci5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpO1xuXG4gICAgLy8gSW5pdGlhbCBzaXplIHVwZGF0ZSBzZXQgdG8gY2FudmFzIGNvbnRhaW5lclxuICAgIHRoaXMudXBkYXRlU2l6ZSgpO1xuXG4gICAgLy8gTGlzdGVuZXJzXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHRoaXMudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMudXBkYXRlU2l6ZSgpLCBmYWxzZSk7XG4gIH1cblxuICB1cGRhdGVTaXplKCkge1xuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRTaXplKHRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICB9XG5cbiAgcmVuZGVyKHNjZW5lLCBjYW1lcmEpIHtcbiAgICAvLyBSZW5kZXJzIHNjZW5lIHRvIGNhbnZhcyB0YXJnZXRcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICB9XG59XG4iLCIvLyBMb2NhbCB2YXJzIGZvciByU3RhdHNcbmxldCByUywgYlMsIGdsUywgdFM7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRzIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cblxuICBzZXRVcCgpIHtcbiAgICBiUyA9IG5ldyBCcm93c2VyU3RhdHMoKTtcbiAgICBnbFMgPSBuZXcgZ2xTdGF0cygpO1xuICAgIHRTID0gbmV3IHRocmVlU3RhdHModGhpcy5yZW5kZXJlci50aHJlZVJlbmRlcmVyKTtcblxuICAgIHJTID0gbmV3IHJTdGF0cyh7XG4gICAgICBDU1NQYXRoOiAnLi9jc3MvJyxcbiAgICAgIHVzZXJUaW1pbmdBUEk6IHRydWUsXG4gICAgICB2YWx1ZXM6IHtcbiAgICAgICAgZnJhbWU6IHsgY2FwdGlvbjogJ1RvdGFsIGZyYW1lIHRpbWUgKG1zKScsIG92ZXI6IDE2LCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH0sXG4gICAgICAgIGZwczogeyBjYXB0aW9uOiAnRnJhbWVyYXRlIChGUFMpJywgYmVsb3c6IDMwIH0sXG4gICAgICAgIGNhbGxzOiB7IGNhcHRpb246ICdDYWxscyAodGhyZWUuanMpJywgb3ZlcjogMzAwMCB9LFxuICAgICAgICByYWY6IHsgY2FwdGlvbjogJ1RpbWUgc2luY2UgbGFzdCByQUYgKG1zKScsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfSxcbiAgICAgICAgcnN0YXRzOiB7IGNhcHRpb246ICdyU3RhdHMgdXBkYXRlIChtcyknLCBhdmVyYWdlOiB0cnVlLCBhdmdNczogMTAwIH0sXG4gICAgICAgIHRleHR1cmU6IHsgY2FwdGlvbjogJ0dlblRleCcsIGF2ZXJhZ2U6IHRydWUsIGF2Z01zOiAxMDAgfVxuICAgICAgfSxcbiAgICAgIGdyb3VwczogW1xuICAgICAgICB7IGNhcHRpb246ICdGcmFtZXJhdGUnLCB2YWx1ZXM6IFsnZnBzJywgJ3JhZiddIH0sXG4gICAgICAgIHsgY2FwdGlvbjogJ0ZyYW1lIEJ1ZGdldCcsIHZhbHVlczogWydmcmFtZScsICd0ZXh0dXJlJywgJ3NldHVwJywgJ3JlbmRlciddIH1cbiAgICAgIF0sXG4gICAgICBmcmFjdGlvbnM6IFtcbiAgICAgICAgeyBiYXNlOiAnZnJhbWUnLCBzdGVwczogWyd0ZXh0dXJlJywgJ3NldHVwJywgJ3JlbmRlciddIH1cbiAgICAgIF0sXG4gICAgICBwbHVnaW5zOiBbYlMsIHRTXVxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHN0YXJ0KCkge1xuICAgIHJTKCdmcmFtZScpLnN0YXJ0KCk7XG4gICAgZ2xTLnN0YXJ0KCk7XG5cbiAgICByUygnckFGJykudGljaygpO1xuICAgIHJTKCdGUFMnKS5mcmFtZSgpO1xuXG4gICAgclMoJ3JlbmRlcicpLnN0YXJ0KCk7XG4gIH1cblxuICBzdGF0aWMgZW5kKCkge1xuICAgIHJTKCdyZW5kZXInKS5lbmQoKTsgLy8gcmVuZGVyIGZpbmlzaGVkXG4gICAgclMoJ2ZyYW1lJykuZW5kKCk7IC8vIGZyYW1lIGZpbmlzaGVkXG5cbiAgICAvLyBMb2NhbCByU3RhdHMgdXBkYXRlXG4gICAgclMoJ3JTdGF0cycpLnN0YXJ0KCk7XG4gICAgclMoKS51cGRhdGUoKTtcbiAgICByUygnclN0YXRzJykuZW5kKCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQGF1dGhvciBSaWNoIFRpYmJldHQgLyBodHRwczovL2dpdGh1Yi5jb20vcmljaHRyXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBUb255IFBhcmlzaSAvIGh0dHA6Ly93d3cudG9ueXBhcmlzaS5jb20vXG4gKiBAYXV0aG9yIFRha2FoaXJvIC8gaHR0cHM6Ly9naXRodWIuY29tL3Rha2FoaXJveFxuICogQGF1dGhvciBEb24gTWNDdXJkeSAvIGh0dHBzOi8vd3d3LmRvbm1jY3VyZHkuY29tXG4gKi9cblxuaW1wb3J0IHtcbiAgQW5pbWF0aW9uQ2xpcCxcbiAgQm9uZSxcbiAgQm94MyxcbiAgQnVmZmVyQXR0cmlidXRlLFxuICBCdWZmZXJHZW9tZXRyeSxcbiAgQ2xhbXBUb0VkZ2VXcmFwcGluZyxcbiAgQ29sb3IsXG4gIERpcmVjdGlvbmFsTGlnaHQsXG4gIERvdWJsZVNpZGUsXG4gIEZpbGVMb2FkZXIsXG4gIEZyb250U2lkZSxcbiAgR3JvdXAsXG4gIEludGVybGVhdmVkQnVmZmVyLFxuICBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSxcbiAgSW50ZXJwb2xhbnQsXG4gIEludGVycG9sYXRlRGlzY3JldGUsXG4gIEludGVycG9sYXRlTGluZWFyLFxuICBMaW5lLFxuICBMaW5lQmFzaWNNYXRlcmlhbCxcbiAgTGluZUxvb3AsXG4gIExpbmVTZWdtZW50cyxcbiAgTGluZWFyRmlsdGVyLFxuICBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gIExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXIsXG4gIExvYWRlcixcbiAgTG9hZGVyVXRpbHMsXG4gIE1hdGVyaWFsLFxuICBNYXRoVXRpbHMsXG4gIE1hdHJpeDQsXG4gIE1lc2gsXG4gIE1lc2hCYXNpY01hdGVyaWFsLFxuICBNZXNoUGh5c2ljYWxNYXRlcmlhbCxcbiAgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsXG4gIE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG4gIE5lYXJlc3RGaWx0ZXIsXG4gIE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gIE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICBOdW1iZXJLZXlmcmFtZVRyYWNrLFxuICBPYmplY3QzRCxcbiAgT3J0aG9ncmFwaGljQ2FtZXJhLFxuICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgUG9pbnRMaWdodCxcbiAgUG9pbnRzLFxuICBQb2ludHNNYXRlcmlhbCxcbiAgUHJvcGVydHlCaW5kaW5nLFxuICBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxcbiAgUkdCQUZvcm1hdCxcbiAgUkdCRm9ybWF0LFxuICBSZXBlYXRXcmFwcGluZyxcbiAgU2tlbGV0b24sXG4gIFNraW5uZWRNZXNoLFxuICBTcGhlcmUsXG4gIFNwb3RMaWdodCxcbiAgVGFuZ2VudFNwYWNlTm9ybWFsTWFwLFxuICBUZXh0dXJlTG9hZGVyLFxuICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxuICBUcmlhbmdsZVN0cmlwRHJhd01vZGUsXG4gIFZlY3RvcjIsXG4gIFZlY3RvcjMsXG4gIFZlY3RvcktleWZyYW1lVHJhY2ssXG4gIHNSR0JFbmNvZGluZ1xufSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEdMVEZMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBHTFRGTG9hZGVyKG1hbmFnZXIpIHtcbiAgICBMb2FkZXIuY2FsbCh0aGlzLCBtYW5hZ2VyKTtcblxuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBudWxsO1xuICAgIHRoaXMuZGRzTG9hZGVyID0gbnVsbDtcbiAgfVxuXG4gIEdMVEZMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKExvYWRlci5wcm90b3R5cGUpLCB7XG4gICAgY29uc3RydWN0b3I6IEdMVEZMb2FkZXIsXG5cbiAgICBsb2FkOiBmdW5jdGlvbiAodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHtcbiAgICAgIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgICAgIHZhciByZXNvdXJjZVBhdGg7XG5cbiAgICAgIGlmICh0aGlzLnJlc291cmNlUGF0aCAhPT0gJycpIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5yZXNvdXJjZVBhdGg7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucGF0aCAhPT0gJycpIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gdGhpcy5wYXRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2VQYXRoID0gTG9hZGVyVXRpbHMuZXh0cmFjdFVybEJhc2UodXJsKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGVsbHMgdGhlIExvYWRpbmdNYW5hZ2VyIHRvIHRyYWNrIGFuIGV4dHJhIGl0ZW0sIHdoaWNoIHJlc29sdmVzIGFmdGVyXG4gICAgICAvLyB0aGUgbW9kZWwgaXMgZnVsbHkgbG9hZGVkLiBUaGlzIG1lYW5zIHRoZSBjb3VudCBvZiBpdGVtcyBsb2FkZWQgd2lsbFxuICAgICAgLy8gYmUgaW5jb3JyZWN0LCBidXQgZW5zdXJlcyBtYW5hZ2VyLm9uTG9hZCgpIGRvZXMgbm90IGZpcmUgZWFybHkuXG4gICAgICBzY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO1xuXG4gICAgICB2YXIgX29uRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7XG4gICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGxvYWRlciA9IG5ldyBGaWxlTG9hZGVyKHNjb3BlLm1hbmFnZXIpO1xuXG4gICAgICBsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO1xuICAgICAgbG9hZGVyLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKTtcblxuICAgICAgaWYgKHNjb3BlLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBsb2FkZXIubG9hZChcbiAgICAgICAgdXJsLFxuICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzY29wZS5wYXJzZShcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgcmVzb3VyY2VQYXRoLFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZ2x0Zikge1xuICAgICAgICAgICAgICAgIG9uTG9hZChnbHRmKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBfb25FcnJvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBfb25FcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUHJvZ3Jlc3MsXG4gICAgICAgIF9vbkVycm9yXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBzZXREUkFDT0xvYWRlcjogZnVuY3Rpb24gKGRyYWNvTG9hZGVyKSB7XG4gICAgICB0aGlzLmRyYWNvTG9hZGVyID0gZHJhY29Mb2FkZXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2V0RERTTG9hZGVyOiBmdW5jdGlvbiAoZGRzTG9hZGVyKSB7XG4gICAgICB0aGlzLmRkc0xvYWRlciA9IGRkc0xvYWRlcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBwYXJzZTogZnVuY3Rpb24gKGRhdGEsIHBhdGgsIG9uTG9hZCwgb25FcnJvcikge1xuICAgICAgdmFyIGNvbnRlbnQ7XG4gICAgICB2YXIgZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnRlbnQgPSBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1hZ2ljID0gTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLCAwLCA0KSk7XG5cbiAgICAgICAgaWYgKG1hZ2ljID09PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0JJTkFSWV9HTFRGXSA9IG5ldyBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGVudCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfQklOQVJZX0dMVEZdLmNvbnRlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQobmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShjb250ZW50KTtcblxuICAgICAgaWYgKGpzb24uYXNzZXQgPT09IHVuZGVmaW5lZCB8fCBqc29uLmFzc2V0LnZlcnNpb25bMF0gPCAyKSB7XG4gICAgICAgIGlmIChvbkVycm9yKVxuICAgICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgICBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGFzc2V0LiBnbFRGIHZlcnNpb25zID49Mi4wIGFyZSBzdXBwb3J0ZWQuJylcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChqc29uLmV4dGVuc2lvbnNVc2VkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbi5leHRlbnNpb25zVXNlZC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhciBleHRlbnNpb25OYW1lID0ganNvbi5leHRlbnNpb25zVXNlZFtpXTtcbiAgICAgICAgICB2YXIgZXh0ZW5zaW9uc1JlcXVpcmVkID0ganNvbi5leHRlbnNpb25zUmVxdWlyZWQgfHwgW107XG5cbiAgICAgICAgICBzd2l0Y2ggKGV4dGVuc2lvbk5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMOlxuICAgICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gbmV3IEdMVEZMaWdodHNFeHRlbnNpb24oanNvbik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1hdGVyaWFsc0NsZWFyY29hdEV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfVU5MSVQ6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTUzpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWF0ZXJpYWxzUGJyU3BlY3VsYXJHbG9zc2luZXNzRXh0ZW5zaW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEVYVEVOU0lPTlMuS0hSX0RSQUNPX01FU0hfQ09NUFJFU1NJT046XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURkRyYWNvTWVzaENvbXByZXNzaW9uRXh0ZW5zaW9uKFxuICAgICAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFjb0xvYWRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFM6XG4gICAgICAgICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBuZXcgR0xURlRleHR1cmVERFNFeHRlbnNpb24odGhpcy5kZHNMb2FkZXIpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STTpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGVGV4dHVyZVRyYW5zZm9ybUV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjpcbiAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25OYW1lXSA9IG5ldyBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKGV4dGVuc2lvbnNSZXF1aXJlZC5pbmRleE9mKGV4dGVuc2lvbk5hbWUpID49IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IFVua25vd24gZXh0ZW5zaW9uIFwiJyArIGV4dGVuc2lvbk5hbWUgKyAnXCIuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnNlciA9IG5ldyBHTFRGUGFyc2VyKGpzb24sIGV4dGVuc2lvbnMsIHtcbiAgICAgICAgcGF0aDogcGF0aCB8fCB0aGlzLnJlc291cmNlUGF0aCB8fCAnJyxcbiAgICAgICAgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG1hbmFnZXI6IHRoaXMubWFuYWdlclxuICAgICAgfSk7XG5cbiAgICAgIHBhcnNlci5wYXJzZShvbkxvYWQsIG9uRXJyb3IpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qIEdMVEZSRUdJU1RSWSAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZSZWdpc3RyeSgpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHt9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0c1trZXldO1xuICAgICAgfSxcblxuICAgICAgYWRkOiBmdW5jdGlvbiAoa2V5LCBvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0c1trZXldID0gb2JqZWN0O1xuICAgICAgfSxcblxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3RzW2tleV07XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2JqZWN0cyA9IHt9O1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyoqKioqKioqKiogRVhURU5TSU9OUyAqKioqKioqKioqKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICB2YXIgRVhURU5TSU9OUyA9IHtcbiAgICBLSFJfQklOQVJZX0dMVEY6ICdLSFJfYmluYXJ5X2dsVEYnLFxuICAgIEtIUl9EUkFDT19NRVNIX0NPTVBSRVNTSU9OOiAnS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb24nLFxuICAgIEtIUl9MSUdIVFNfUFVOQ1RVQUw6ICdLSFJfbGlnaHRzX3B1bmN0dWFsJyxcbiAgICBLSFJfTUFURVJJQUxTX0NMRUFSQ09BVDogJ0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0JyxcbiAgICBLSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTOiAnS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3MnLFxuICAgIEtIUl9NQVRFUklBTFNfVU5MSVQ6ICdLSFJfbWF0ZXJpYWxzX3VubGl0JyxcbiAgICBLSFJfVEVYVFVSRV9UUkFOU0ZPUk06ICdLSFJfdGV4dHVyZV90cmFuc2Zvcm0nLFxuICAgIEtIUl9NRVNIX1FVQU5USVpBVElPTjogJ0tIUl9tZXNoX3F1YW50aXphdGlvbicsXG4gICAgTVNGVF9URVhUVVJFX0REUzogJ01TRlRfdGV4dHVyZV9kZHMnXG4gIH07XG5cbiAgLyoqXG4gICAqIEREUyBUZXh0dXJlIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvVmVuZG9yL01TRlRfdGV4dHVyZV9kZHNcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlRERTRXh0ZW5zaW9uKGRkc0xvYWRlcikge1xuICAgIGlmICghZGRzTG9hZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBBdHRlbXB0aW5nIHRvIGxvYWQgLmRkcyB0ZXh0dXJlIHdpdGhvdXQgaW1wb3J0aW5nIEREU0xvYWRlcidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5NU0ZUX1RFWFRVUkVfRERTO1xuICAgIHRoaXMuZGRzTG9hZGVyID0gZGRzTG9hZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1bmN0dWFsIExpZ2h0cyBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2xpZ2h0c19wdW5jdHVhbFxuICAgKi9cbiAgZnVuY3Rpb24gR0xURkxpZ2h0c0V4dGVuc2lvbihqc29uKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMO1xuXG4gICAgdmFyIGV4dGVuc2lvbiA9IChqc29uLmV4dGVuc2lvbnMgJiYganNvbi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0pIHx8IHt9O1xuICAgIHRoaXMubGlnaHREZWZzID0gZXh0ZW5zaW9uLmxpZ2h0cyB8fCBbXTtcbiAgfVxuXG4gIEdMVEZMaWdodHNFeHRlbnNpb24ucHJvdG90eXBlLmxvYWRMaWdodCA9IGZ1bmN0aW9uIChsaWdodEluZGV4KSB7XG4gICAgdmFyIGxpZ2h0RGVmID0gdGhpcy5saWdodERlZnNbbGlnaHRJbmRleF07XG4gICAgdmFyIGxpZ2h0Tm9kZTtcblxuICAgIHZhciBjb2xvciA9IG5ldyBDb2xvcigweGZmZmZmZik7XG4gICAgaWYgKGxpZ2h0RGVmLmNvbG9yICE9PSB1bmRlZmluZWQpIGNvbG9yLmZyb21BcnJheShsaWdodERlZi5jb2xvcik7XG5cbiAgICB2YXIgcmFuZ2UgPSBsaWdodERlZi5yYW5nZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYucmFuZ2UgOiAwO1xuXG4gICAgc3dpdGNoIChsaWdodERlZi50eXBlKSB7XG4gICAgICBjYXNlICdkaXJlY3Rpb25hbCc6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBEaXJlY3Rpb25hbExpZ2h0KGNvbG9yKTtcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncG9pbnQnOlxuICAgICAgICBsaWdodE5vZGUgPSBuZXcgUG9pbnRMaWdodChjb2xvcik7XG4gICAgICAgIGxpZ2h0Tm9kZS5kaXN0YW5jZSA9IHJhbmdlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3BvdCc6XG4gICAgICAgIGxpZ2h0Tm9kZSA9IG5ldyBTcG90TGlnaHQoY29sb3IpO1xuICAgICAgICBsaWdodE5vZGUuZGlzdGFuY2UgPSByYW5nZTtcbiAgICAgICAgLy8gSGFuZGxlIHNwb3RsaWdodCBwcm9wZXJ0aWVzLlxuICAgICAgICBsaWdodERlZi5zcG90ID0gbGlnaHREZWYuc3BvdCB8fCB7fTtcbiAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA9XG4gICAgICAgICAgbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSAhPT0gdW5kZWZpbmVkID8gbGlnaHREZWYuc3BvdC5pbm5lckNvbmVBbmdsZSA6IDA7XG4gICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgPVxuICAgICAgICAgIGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgIT09IHVuZGVmaW5lZCA/IGxpZ2h0RGVmLnNwb3Qub3V0ZXJDb25lQW5nbGUgOiBNYXRoLlBJIC8gNC4wO1xuICAgICAgICBsaWdodE5vZGUuYW5nbGUgPSBsaWdodERlZi5zcG90Lm91dGVyQ29uZUFuZ2xlO1xuICAgICAgICBsaWdodE5vZGUucGVudW1icmEgPSAxLjAgLSBsaWdodERlZi5zcG90LmlubmVyQ29uZUFuZ2xlIC8gbGlnaHREZWYuc3BvdC5vdXRlckNvbmVBbmdsZTtcbiAgICAgICAgbGlnaHROb2RlLnRhcmdldC5wb3NpdGlvbi5zZXQoMCwgMCwgLTEpO1xuICAgICAgICBsaWdodE5vZGUuYWRkKGxpZ2h0Tm9kZS50YXJnZXQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbmV4cGVjdGVkIGxpZ2h0IHR5cGUsIFwiJyArIGxpZ2h0RGVmLnR5cGUgKyAnXCIuJyk7XG4gICAgfVxuXG4gICAgLy8gU29tZSBsaWdodHMgKGUuZy4gc3BvdCkgZGVmYXVsdCB0byBhIHBvc2l0aW9uIG90aGVyIHRoYW4gdGhlIG9yaWdpbi4gUmVzZXQgdGhlIHBvc2l0aW9uXG4gICAgLy8gaGVyZSwgYmVjYXVzZSBub2RlLWxldmVsIHBhcnNpbmcgd2lsbCBvbmx5IG92ZXJyaWRlIHBvc2l0aW9uIGlmIGV4cGxpY2l0bHkgc3BlY2lmaWVkLlxuICAgIGxpZ2h0Tm9kZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG5cbiAgICBsaWdodE5vZGUuZGVjYXkgPSAyO1xuXG4gICAgaWYgKGxpZ2h0RGVmLmludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSBsaWdodE5vZGUuaW50ZW5zaXR5ID0gbGlnaHREZWYuaW50ZW5zaXR5O1xuXG4gICAgbGlnaHROb2RlLm5hbWUgPSBsaWdodERlZi5uYW1lIHx8ICdsaWdodF8nICsgbGlnaHRJbmRleDtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlnaHROb2RlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5saXQgTWF0ZXJpYWxzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3VubGl0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb24oKSB7XG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1VOTElUO1xuICB9XG5cbiAgR0xURk1hdGVyaWFsc1VubGl0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1lc2hCYXNpY01hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZNYXRlcmlhbHNVbmxpdEV4dGVuc2lvbi5wcm90b3R5cGUuZXh0ZW5kUGFyYW1zID0gZnVuY3Rpb24gKFxuICAgIG1hdGVyaWFsUGFyYW1zLFxuICAgIG1hdGVyaWFsRGVmLFxuICAgIHBhcnNlclxuICApIHtcbiAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgIHZhciBtZXRhbGxpY1JvdWdobmVzcyA9IG1hdGVyaWFsRGVmLnBick1ldGFsbGljUm91Z2huZXNzO1xuXG4gICAgaWYgKG1ldGFsbGljUm91Z2huZXNzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IpKSB7XG4gICAgICAgIHZhciBhcnJheSA9IG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvcjtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jb2xvci5mcm9tQXJyYXkoYXJyYXkpO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5vcGFjaXR5ID0gYXJyYXlbM107XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbWFwJywgbWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsZWFyY29hdCBNYXRlcmlhbHMgRXh0ZW5zaW9uXG4gICAqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi90cmVlL21hc3Rlci9leHRlbnNpb25zLzIuMC9LaHJvbm9zL0tIUl9tYXRlcmlhbHNfY2xlYXJjb2F0XG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uKCkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19DTEVBUkNPQVQ7XG4gIH1cblxuICBHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uLnByb3RvdHlwZS5nZXRNYXRlcmlhbFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1lc2hQaHlzaWNhbE1hdGVyaWFsO1xuICB9O1xuXG4gIEdMVEZNYXRlcmlhbHNDbGVhcmNvYXRFeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFBhcmFtcyA9IGZ1bmN0aW9uIChcbiAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICBtYXRlcmlhbERlZixcbiAgICBwYXJzZXJcbiAgKSB7XG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIHZhciBleHRlbnNpb24gPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdEZhY3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXQgPSBleHRlbnNpb24uY2xlYXJjb2F0RmFjdG9yO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0VGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnY2xlYXJjb2F0TWFwJywgZXh0ZW5zaW9uLmNsZWFyY29hdFRleHR1cmUpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChleHRlbnNpb24uY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNsZWFyY29hdFJvdWdobmVzcyA9IGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NGYWN0b3I7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvbi5jbGVhcmNvYXRSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUoXG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgJ2NsZWFyY29hdFJvdWdobmVzc01hcCcsXG4gICAgICAgICAgZXh0ZW5zaW9uLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcyxcbiAgICAgICAgICAnY2xlYXJjb2F0Tm9ybWFsTWFwJyxcbiAgICAgICAgICBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAoZXh0ZW5zaW9uLmNsZWFyY29hdE5vcm1hbFRleHR1cmUuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc2NhbGUgPSBleHRlbnNpb24uY2xlYXJjb2F0Tm9ybWFsVGV4dHVyZS5zY2FsZTtcblxuICAgICAgICBtYXRlcmlhbFBhcmFtcy5jbGVhcmNvYXROb3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKHNjYWxlLCBzY2FsZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICB9O1xuXG4gIC8qIEJJTkFSWSBFWFRFTlNJT04gKi9cbiAgdmFyIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX01BR0lDID0gJ2dsVEYnO1xuICB2YXIgQklOQVJZX0VYVEVOU0lPTl9IRUFERVJfTEVOR1RIID0gMTI7XG4gIHZhciBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTID0geyBKU09OOiAweDRlNGY1MzRhLCBCSU46IDB4MDA0ZTQ5NDIgfTtcblxuICBmdW5jdGlvbiBHTFRGQmluYXJ5RXh0ZW5zaW9uKGRhdGEpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURjtcbiAgICB0aGlzLmNvbnRlbnQgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG5cbiAgICB2YXIgaGVhZGVyVmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLCAwLCBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEgpO1xuXG4gICAgdGhpcy5oZWFkZXIgPSB7XG4gICAgICBtYWdpYzogTG9hZGVyVXRpbHMuZGVjb2RlVGV4dChuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKDAsIDQpKSksXG4gICAgICB2ZXJzaW9uOiBoZWFkZXJWaWV3LmdldFVpbnQzMig0LCB0cnVlKSxcbiAgICAgIGxlbmd0aDogaGVhZGVyVmlldy5nZXRVaW50MzIoOCwgdHJ1ZSlcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuaGVhZGVyLm1hZ2ljICE9PSBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9NQUdJQykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBnbFRGLUJpbmFyeSBoZWFkZXIuJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhlYWRlci52ZXJzaW9uIDwgMi4wKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IExlZ2FjeSBiaW5hcnkgZmlsZSBkZXRlY3RlZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2h1bmtWaWV3ID0gbmV3IERhdGFWaWV3KGRhdGEsIEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCk7XG4gICAgdmFyIGNodW5rSW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGNodW5rSW5kZXggPCBjaHVua1ZpZXcuYnl0ZUxlbmd0aCkge1xuICAgICAgdmFyIGNodW5rTGVuZ3RoID0gY2h1bmtWaWV3LmdldFVpbnQzMihjaHVua0luZGV4LCB0cnVlKTtcbiAgICAgIGNodW5rSW5kZXggKz0gNDtcblxuICAgICAgdmFyIGNodW5rVHlwZSA9IGNodW5rVmlldy5nZXRVaW50MzIoY2h1bmtJbmRleCwgdHJ1ZSk7XG4gICAgICBjaHVua0luZGV4ICs9IDQ7XG5cbiAgICAgIGlmIChjaHVua1R5cGUgPT09IEJJTkFSWV9FWFRFTlNJT05fQ0hVTktfVFlQRVMuSlNPTikge1xuICAgICAgICB2YXIgY29udGVudEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBCSU5BUllfRVhURU5TSU9OX0hFQURFUl9MRU5HVEggKyBjaHVua0luZGV4LFxuICAgICAgICAgIGNodW5rTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29udGVudCA9IExvYWRlclV0aWxzLmRlY29kZVRleHQoY29udGVudEFycmF5KTtcbiAgICAgIH0gZWxzZSBpZiAoY2h1bmtUeXBlID09PSBCSU5BUllfRVhURU5TSU9OX0NIVU5LX1RZUEVTLkJJTikge1xuICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IEJJTkFSWV9FWFRFTlNJT05fSEVBREVSX0xFTkdUSCArIGNodW5rSW5kZXg7XG4gICAgICAgIHRoaXMuYm9keSA9IGRhdGEuc2xpY2UoYnl0ZU9mZnNldCwgYnl0ZU9mZnNldCArIGNodW5rTGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xpZW50cyBtdXN0IGlnbm9yZSBjaHVua3Mgd2l0aCB1bmtub3duIHR5cGVzLlxuXG4gICAgICBjaHVua0luZGV4ICs9IGNodW5rTGVuZ3RoO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRlbnQgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogSlNPTiBjb250ZW50IG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRFJBQ08gTWVzaCBDb21wcmVzc2lvbiBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX2RyYWNvX21lc2hfY29tcHJlc3Npb25cbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbihqc29uLCBkcmFjb0xvYWRlcikge1xuICAgIGlmICghZHJhY29Mb2FkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogTm8gRFJBQ09Mb2FkZXIgaW5zdGFuY2UgcHJvdmlkZWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTjtcbiAgICB0aGlzLmpzb24gPSBqc29uO1xuICAgIHRoaXMuZHJhY29Mb2FkZXIgPSBkcmFjb0xvYWRlcjtcbiAgICB0aGlzLmRyYWNvTG9hZGVyLnByZWxvYWQoKTtcbiAgfVxuXG4gIEdMVEZEcmFjb01lc2hDb21wcmVzc2lvbkV4dGVuc2lvbi5wcm90b3R5cGUuZGVjb2RlUHJpbWl0aXZlID0gZnVuY3Rpb24gKHByaW1pdGl2ZSwgcGFyc2VyKSB7XG4gICAgdmFyIGpzb24gPSB0aGlzLmpzb247XG4gICAgdmFyIGRyYWNvTG9hZGVyID0gdGhpcy5kcmFjb0xvYWRlcjtcbiAgICB2YXIgYnVmZmVyVmlld0luZGV4ID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5idWZmZXJWaWV3O1xuICAgIHZhciBnbHRmQXR0cmlidXRlTWFwID0gcHJpbWl0aXZlLmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5hdHRyaWJ1dGVzO1xuICAgIHZhciB0aHJlZUF0dHJpYnV0ZU1hcCA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVOb3JtYWxpemVkTWFwID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZVR5cGVNYXAgPSB7fTtcblxuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gZ2x0ZkF0dHJpYnV0ZU1hcCkge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbYXR0cmlidXRlTmFtZV0gfHwgYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICB0aHJlZUF0dHJpYnV0ZU1hcFt0aHJlZUF0dHJpYnV0ZU5hbWVdID0gZ2x0ZkF0dHJpYnV0ZU1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICB9XG5cbiAgICBmb3IgKGF0dHJpYnV0ZU5hbWUgaW4gcHJpbWl0aXZlLmF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciB0aHJlZUF0dHJpYnV0ZU5hbWUgPSBBVFRSSUJVVEVTW2F0dHJpYnV0ZU5hbWVdIHx8IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKGdsdGZBdHRyaWJ1dGVNYXBbYXR0cmlidXRlTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgYWNjZXNzb3JEZWYgPSBqc29uLmFjY2Vzc29yc1twcmltaXRpdmUuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXV07XG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAgIGF0dHJpYnV0ZVR5cGVNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIGF0dHJpYnV0ZU5vcm1hbGl6ZWRNYXBbdGhyZWVBdHRyaWJ1dGVOYW1lXSA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlci5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYnVmZmVyVmlld0luZGV4KS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgZHJhY29Mb2FkZXIuZGVjb2RlRHJhY29GaWxlKFxuICAgICAgICAgIGJ1ZmZlclZpZXcsXG4gICAgICAgICAgZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgIHZhciBub3JtYWxpemVkID0gYXR0cmlidXRlTm9ybWFsaXplZE1hcFthdHRyaWJ1dGVOYW1lXTtcblxuICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZCAhPT0gdW5kZWZpbmVkKSBhdHRyaWJ1dGUubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoZ2VvbWV0cnkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhyZWVBdHRyaWJ1dGVNYXAsXG4gICAgICAgICAgYXR0cmlidXRlVHlwZU1hcFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRleHR1cmUgVHJhbnNmb3JtIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfdGV4dHVyZV90cmFuc2Zvcm1cbiAgICovXG4gIGZ1bmN0aW9uIEdMVEZUZXh0dXJlVHJhbnNmb3JtRXh0ZW5zaW9uKCkge1xuICAgIHRoaXMubmFtZSA9IEVYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNO1xuICB9XG5cbiAgR0xURlRleHR1cmVUcmFuc2Zvcm1FeHRlbnNpb24ucHJvdG90eXBlLmV4dGVuZFRleHR1cmUgPSBmdW5jdGlvbiAodGV4dHVyZSwgdHJhbnNmb3JtKSB7XG4gICAgdGV4dHVyZSA9IHRleHR1cmUuY2xvbmUoKTtcblxuICAgIGlmICh0cmFuc2Zvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRleHR1cmUub2Zmc2V0LmZyb21BcnJheSh0cmFuc2Zvcm0ub2Zmc2V0KTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRleHR1cmUucm90YXRpb24gPSB0cmFuc2Zvcm0ucm90YXRpb247XG4gICAgfVxuXG4gICAgaWYgKHRyYW5zZm9ybS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZXh0dXJlLnJlcGVhdC5mcm9tQXJyYXkodHJhbnNmb3JtLnNjYWxlKTtcbiAgICB9XG5cbiAgICBpZiAodHJhbnNmb3JtLnRleENvb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXI6IEN1c3RvbSBVViBzZXRzIGluIFwiJyArIHRoaXMubmFtZSArICdcIiBleHRlbnNpb24gbm90IHlldCBzdXBwb3J0ZWQuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0ZXh0dXJlLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblxuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjdWxhci1HbG9zc2luZXNzIEV4dGVuc2lvblxuICAgKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvZXh0ZW5zaW9ucy8yLjAvS2hyb25vcy9LSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzc1xuICAgKi9cblxuICAvKipcbiAgICogQSBzdWIgY2xhc3Mgb2YgU3RhbmRhcmRNYXRlcmlhbCB3aXRoIHNvbWUgb2YgdGhlIGZ1bmN0aW9uYWxpdHlcbiAgICogY2hhbmdlZCB2aWEgdGhlIGBvbkJlZm9yZUNvbXBpbGVgIGNhbGxiYWNrXG4gICAqIEBwYWlsaGVhZFxuICAgKi9cblxuICBmdW5jdGlvbiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChwYXJhbXMpIHtcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5pc0dMVEZTcGVjdWxhckdsb3NzaW5lc3NNYXRlcmlhbCA9IHRydWU7XG5cbiAgICAvL3ZhcmlvdXMgY2h1bmtzIHRoYXQgbmVlZCByZXBsYWNpbmdcbiAgICB2YXIgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICcjaWZkZWYgVVNFX1NQRUNVTEFSTUFQJyxcbiAgICAgICdcdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFyTWFwOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICcjaWZkZWYgVVNFX0dMT1NTSU5FU1NNQVAnLFxuICAgICAgJ1x0dW5pZm9ybSBzYW1wbGVyMkQgZ2xvc3NpbmVzc01hcDsnLFxuICAgICAgJyNlbmRpZicsXG4gICAgXS5qb2luKCdcXG4nKTtcblxuICAgIHZhciBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmsgPSBbXG4gICAgICAndmVjMyBzcGVjdWxhckZhY3RvciA9IHNwZWN1bGFyOycsXG4gICAgICAnI2lmZGVmIFVTRV9TUEVDVUxBUk1BUCcsXG4gICAgICAnXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTsnLFxuICAgICAgJ1x0dGV4ZWxTcGVjdWxhciA9IHNSR0JUb0xpbmVhciggdGV4ZWxTcGVjdWxhciApOycsXG4gICAgICAnXHQvLyByZWFkcyBjaGFubmVsIFJHQiwgY29tcGF0aWJsZSB3aXRoIGEgZ2xURiBTcGVjdWxhci1HbG9zc2luZXNzIChSR0JBKSB0ZXh0dXJlJyxcbiAgICAgICdcdHNwZWN1bGFyRmFjdG9yICo9IHRleGVsU3BlY3VsYXIucmdiOycsXG4gICAgICAnI2VuZGlmJyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIGdsb3NzaW5lc3NNYXBGcmFnbWVudENodW5rID0gW1xuICAgICAgJ2Zsb2F0IGdsb3NzaW5lc3NGYWN0b3IgPSBnbG9zc2luZXNzOycsXG4gICAgICAnI2lmZGVmIFVTRV9HTE9TU0lORVNTTUFQJyxcbiAgICAgICdcdHZlYzQgdGV4ZWxHbG9zc2luZXNzID0gdGV4dHVyZTJEKCBnbG9zc2luZXNzTWFwLCB2VXYgKTsnLFxuICAgICAgJ1x0Ly8gcmVhZHMgY2hhbm5lbCBBLCBjb21wYXRpYmxlIHdpdGggYSBnbFRGIFNwZWN1bGFyLUdsb3NzaW5lc3MgKFJHQkEpIHRleHR1cmUnLFxuICAgICAgJ1x0Z2xvc3NpbmVzc0ZhY3RvciAqPSB0ZXhlbEdsb3NzaW5lc3MuYTsnLFxuICAgICAgJyNlbmRpZicsXG4gICAgXS5qb2luKCdcXG4nKTtcblxuICAgIHZhciBsaWdodFBoeXNpY2FsRnJhZ21lbnRDaHVuayA9IFtcbiAgICAgICdQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsOycsXG4gICAgICAnbWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjsnLFxuICAgICAgJ3ZlYzMgZHh5ID0gbWF4KCBhYnMoIGRGZHgoIGdlb21ldHJ5Tm9ybWFsICkgKSwgYWJzKCBkRmR5KCBnZW9tZXRyeU5vcm1hbCApICkgKTsnLFxuICAgICAgJ2Zsb2F0IGdlb21ldHJ5Um91Z2huZXNzID0gbWF4KCBtYXgoIGR4eS54LCBkeHkueSApLCBkeHkueiApOycsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtYXgoIDEuMCAtIGdsb3NzaW5lc3NGYWN0b3IsIDAuMDUyNSApOy8vIDAuMDUyNSBjb3JyZXNwb25kcyB0byB0aGUgYmFzZSBtaXAgb2YgYSAyNTYgY3ViZW1hcC4nLFxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzOycsXG4gICAgICAnbWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCAxLjAgKTsnLFxuICAgICAgJ21hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhckZhY3Rvci5yZ2I7JyxcbiAgICBdLmpvaW4oJ1xcbicpO1xuXG4gICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgc3BlY3VsYXI6IHsgdmFsdWU6IG5ldyBDb2xvcigpLnNldEhleCgweGZmZmZmZikgfSxcbiAgICAgIGdsb3NzaW5lc3M6IHsgdmFsdWU6IDEgfSxcbiAgICAgIHNwZWN1bGFyTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgICBnbG9zc2luZXNzTWFwOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgfTtcblxuICAgIHRoaXMuX2V4dHJhVW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgIC8vIHBsZWFzZSBzZWUgIzE0MDMxIG9yICMxMzE5OCBmb3IgYW4gYWx0ZXJuYXRlIGFwcHJvYWNoXG4gICAgdGhpcy5vbkJlZm9yZUNvbXBpbGUgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICBmb3IgKHZhciB1bmlmb3JtTmFtZSBpbiB1bmlmb3Jtcykge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXNbdW5pZm9ybU5hbWVdID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xuICAgICAgfVxuXG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgcm91Z2huZXNzOycsXG4gICAgICAgICd1bmlmb3JtIHZlYzMgc3BlY3VsYXI7J1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAndW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7JyxcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgZ2xvc3NpbmVzczsnXG4gICAgICApO1xuICAgICAgc2hhZGVyLmZyYWdtZW50U2hhZGVyID0gc2hhZGVyLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXG4gICAgICAgICcjaW5jbHVkZSA8cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ+JyxcbiAgICAgICAgc3BlY3VsYXJNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PicsXG4gICAgICAgIGdsb3NzaW5lc3NNYXBQYXJzRnJhZ21lbnRDaHVua1xuICAgICAgKTtcbiAgICAgIHNoYWRlci5mcmFnbWVudFNoYWRlciA9IHNoYWRlci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFxuICAgICAgICAnI2luY2x1ZGUgPHJvdWdobmVzc21hcF9mcmFnbWVudD4nLFxuICAgICAgICBzcGVjdWxhck1hcEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJyNpbmNsdWRlIDxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ+JyxcbiAgICAgICAgZ2xvc3NpbmVzc01hcEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcbiAgICAgICAgJyNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+JyxcbiAgICAgICAgbGlnaHRQaHlzaWNhbEZyYWdtZW50Q2h1bmtcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8qZXNsaW50LWRpc2FibGUqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIHNwZWN1bGFyOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1bmlmb3Jtcy5zcGVjdWxhci52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLnNwZWN1bGFyLnZhbHVlID0gdjtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzcGVjdWxhck1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB1bmlmb3Jtcy5zcGVjdWxhck1hcC52YWx1ZSA9IHY7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZ2xvc3NpbmVzczoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdW5pZm9ybXMuZ2xvc3NpbmVzcy52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHVuaWZvcm1zLmdsb3NzaW5lc3MudmFsdWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGdsb3NzaW5lc3NNYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHVuaWZvcm1zLmdsb3NzaW5lc3NNYXAudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICB1bmlmb3Jtcy5nbG9zc2luZXNzTWFwLnZhbHVlID0gdjtcbiAgICAgICAgICAvL2hvdyBhYm91dCBzb21ldGhpbmcgbGlrZSB0aGlzIC0gQHBhaWxoZWFkXG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUCA9ICcnO1xuICAgICAgICAgICAgLy8gc2V0IFVTRV9ST1VHSE5FU1NNQVAgdG8gZW5hYmxlIHZVdlxuICAgICAgICAgICAgdGhpcy5kZWZpbmVzLlVTRV9ST1VHSE5FU1NNQVAgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfUk9VR0hORVNTTUFQO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVmaW5lcy5VU0VfR0xPU1NJTkVTU01BUDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyplc2xpbnQtZW5hYmxlKi9cbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG5cbiAgICB0aGlzLnNldFZhbHVlcyhwYXJhbXMpO1xuICB9XG5cbiAgR0xURk1lc2hTdGFuZGFyZFNHTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUpO1xuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcblxuICBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsIHNvdXJjZSk7XG4gICAgdGhpcy5zcGVjdWxhck1hcCA9IHNvdXJjZS5zcGVjdWxhck1hcDtcbiAgICB0aGlzLnNwZWN1bGFyLmNvcHkoc291cmNlLnNwZWN1bGFyKTtcbiAgICB0aGlzLmdsb3NzaW5lc3NNYXAgPSBzb3VyY2UuZ2xvc3NpbmVzc01hcDtcbiAgICB0aGlzLmdsb3NzaW5lc3MgPSBzb3VyY2UuZ2xvc3NpbmVzcztcbiAgICBkZWxldGUgdGhpcy5tZXRhbG5lc3M7XG4gICAgZGVsZXRlIHRoaXMucm91Z2huZXNzO1xuICAgIGRlbGV0ZSB0aGlzLm1ldGFsbmVzc01hcDtcbiAgICBkZWxldGUgdGhpcy5yb3VnaG5lc3NNYXA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gR0xURk1hdGVyaWFsc1BiclNwZWN1bGFyR2xvc3NpbmVzc0V4dGVuc2lvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTLFxuXG4gICAgICBzcGVjdWxhckdsb3NzaW5lc3NQYXJhbXM6IFtcbiAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgJ21hcCcsXG4gICAgICAgICdsaWdodE1hcCcsXG4gICAgICAgICdsaWdodE1hcEludGVuc2l0eScsXG4gICAgICAgICdhb01hcCcsXG4gICAgICAgICdhb01hcEludGVuc2l0eScsXG4gICAgICAgICdlbWlzc2l2ZScsXG4gICAgICAgICdlbWlzc2l2ZUludGVuc2l0eScsXG4gICAgICAgICdlbWlzc2l2ZU1hcCcsXG4gICAgICAgICdidW1wTWFwJyxcbiAgICAgICAgJ2J1bXBTY2FsZScsXG4gICAgICAgICdub3JtYWxNYXAnLFxuICAgICAgICAnbm9ybWFsTWFwVHlwZScsXG4gICAgICAgICdkaXNwbGFjZW1lbnRNYXAnLFxuICAgICAgICAnZGlzcGxhY2VtZW50U2NhbGUnLFxuICAgICAgICAnZGlzcGxhY2VtZW50QmlhcycsXG4gICAgICAgICdzcGVjdWxhck1hcCcsXG4gICAgICAgICdzcGVjdWxhcicsXG4gICAgICAgICdnbG9zc2luZXNzTWFwJyxcbiAgICAgICAgJ2dsb3NzaW5lc3MnLFxuICAgICAgICAnYWxwaGFNYXAnLFxuICAgICAgICAnZW52TWFwJyxcbiAgICAgICAgJ2Vudk1hcEludGVuc2l0eScsXG4gICAgICAgICdyZWZyYWN0aW9uUmF0aW8nLFxuICAgICAgXSxcblxuICAgICAgZ2V0TWF0ZXJpYWxUeXBlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbDtcbiAgICAgIH0sXG5cbiAgICAgIGV4dGVuZFBhcmFtczogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXRlcmlhbERlZiwgcGFyc2VyKSB7XG4gICAgICAgIHZhciBwYnJTcGVjdWxhckdsb3NzaW5lc3MgPSBtYXRlcmlhbERlZi5leHRlbnNpb25zW3RoaXMubmFtZV07XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm9wYWNpdHkgPSAxLjA7XG5cbiAgICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcikpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZUZhY3RvcjtcblxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yLmZyb21BcnJheShhcnJheSk7XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5kaWZmdXNlVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdtYXAnLCBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZGlmZnVzZVRleHR1cmUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmVtaXNzaXZlID0gbmV3IENvbG9yKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzID1cbiAgICAgICAgICBwYnJTcGVjdWxhckdsb3NzaW5lc3MuZ2xvc3NpbmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHBiclNwZWN1bGFyR2xvc3NpbmVzcy5nbG9zc2luZXNzRmFjdG9yXG4gICAgICAgICAgICA6IDEuMDtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXIgPSBuZXcgQ29sb3IoMS4wLCAxLjAsIDEuMCk7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyRmFjdG9yKSkge1xuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyLmZyb21BcnJheShwYnJTcGVjdWxhckdsb3NzaW5lc3Muc3BlY3VsYXJGYWN0b3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBiclNwZWN1bGFyR2xvc3NpbmVzcy5zcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc3BlY0dsb3NzTWFwRGVmID0gcGJyU3BlY3VsYXJHbG9zc2luZXNzLnNwZWN1bGFyR2xvc3NpbmVzc1RleHR1cmU7XG4gICAgICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnZ2xvc3NpbmVzc01hcCcsIHNwZWNHbG9zc01hcERlZikpO1xuICAgICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ3NwZWN1bGFyTWFwJywgc3BlY0dsb3NzTWFwRGVmKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gICAgICB9LFxuXG4gICAgICBjcmVhdGVNYXRlcmlhbDogZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zKSB7XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbChtYXRlcmlhbFBhcmFtcyk7XG4gICAgICAgIG1hdGVyaWFsLmZvZyA9IHRydWU7XG5cbiAgICAgICAgbWF0ZXJpYWwuY29sb3IgPSBtYXRlcmlhbFBhcmFtcy5jb2xvcjtcblxuICAgICAgICBtYXRlcmlhbC5tYXAgPSBtYXRlcmlhbFBhcmFtcy5tYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5tYXA7XG5cbiAgICAgICAgbWF0ZXJpYWwubGlnaHRNYXAgPSBudWxsO1xuICAgICAgICBtYXRlcmlhbC5saWdodE1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5hb01hcCA9IG1hdGVyaWFsUGFyYW1zLmFvTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuYW9NYXA7XG4gICAgICAgIG1hdGVyaWFsLmFvTWFwSW50ZW5zaXR5ID0gMS4wO1xuXG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlID0gbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmU7XG4gICAgICAgIG1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5ID0gMS4wO1xuICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZU1hcCA9XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZW1pc3NpdmVNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZU1hcDtcblxuICAgICAgICBtYXRlcmlhbC5idW1wTWFwID0gbWF0ZXJpYWxQYXJhbXMuYnVtcE1hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmJ1bXBNYXA7XG4gICAgICAgIG1hdGVyaWFsLmJ1bXBTY2FsZSA9IDE7XG5cbiAgICAgICAgbWF0ZXJpYWwubm9ybWFsTWFwID1cbiAgICAgICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5ub3JtYWxNYXA7XG4gICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcFR5cGUgPSBUYW5nZW50U3BhY2VOb3JtYWxNYXA7XG5cbiAgICAgICAgaWYgKG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlKSBtYXRlcmlhbC5ub3JtYWxTY2FsZSA9IG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlO1xuXG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCA9IG51bGw7XG4gICAgICAgIG1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlID0gMTtcbiAgICAgICAgbWF0ZXJpYWwuZGlzcGxhY2VtZW50QmlhcyA9IDA7XG5cbiAgICAgICAgbWF0ZXJpYWwuc3BlY3VsYXJNYXAgPVxuICAgICAgICAgIG1hdGVyaWFsUGFyYW1zLnNwZWN1bGFyTWFwID09PSB1bmRlZmluZWQgPyBudWxsIDogbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXJNYXA7XG4gICAgICAgIG1hdGVyaWFsLnNwZWN1bGFyID0gbWF0ZXJpYWxQYXJhbXMuc3BlY3VsYXI7XG5cbiAgICAgICAgbWF0ZXJpYWwuZ2xvc3NpbmVzc01hcCA9XG4gICAgICAgICAgbWF0ZXJpYWxQYXJhbXMuZ2xvc3NpbmVzc01hcCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IG1hdGVyaWFsUGFyYW1zLmdsb3NzaW5lc3NNYXA7XG4gICAgICAgIG1hdGVyaWFsLmdsb3NzaW5lc3MgPSBtYXRlcmlhbFBhcmFtcy5nbG9zc2luZXNzO1xuXG4gICAgICAgIG1hdGVyaWFsLmFscGhhTWFwID0gbnVsbDtcblxuICAgICAgICBtYXRlcmlhbC5lbnZNYXAgPSBtYXRlcmlhbFBhcmFtcy5lbnZNYXAgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBtYXRlcmlhbFBhcmFtcy5lbnZNYXA7XG4gICAgICAgIG1hdGVyaWFsLmVudk1hcEludGVuc2l0eSA9IDEuMDtcblxuICAgICAgICBtYXRlcmlhbC5yZWZyYWN0aW9uUmF0aW8gPSAwLjk4O1xuXG4gICAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNZXNoIFF1YW50aXphdGlvbiBFeHRlbnNpb25cbiAgICpcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21lc2hfcXVhbnRpemF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBHTFRGTWVzaFF1YW50aXphdGlvbkV4dGVuc2lvbigpIHtcbiAgICB0aGlzLm5hbWUgPSBFWFRFTlNJT05TLktIUl9NRVNIX1FVQU5USVpBVElPTjtcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIElOVEVSUE9MQVRJT04gKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLy8gU3BsaW5lIEludGVycG9sYXRpb25cbiAgLy8gU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhcHBlbmRpeC1jLXNwbGluZS1pbnRlcnBvbGF0aW9uXG4gIGZ1bmN0aW9uIEdMVEZDdWJpY1NwbGluZUludGVycG9sYW50KHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpIHtcbiAgICBJbnRlcnBvbGFudC5jYWxsKHRoaXMsIHBhcmFtZXRlclBvc2l0aW9ucywgc2FtcGxlVmFsdWVzLCBzYW1wbGVTaXplLCByZXN1bHRCdWZmZXIpO1xuICB9XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbnRlcnBvbGFudC5wcm90b3R5cGUpO1xuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudDtcblxuICBHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGFudC5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIC8vIENvcGllcyBhIHNhbXBsZSB2YWx1ZSB0byB0aGUgcmVzdWx0IGJ1ZmZlci4gU2VlIGRlc2NyaXB0aW9uIG9mIGdsVEZcbiAgICAvLyBDVUJJQ1NQTElORSB2YWx1ZXMgbGF5b3V0IGluIGludGVycG9sYXRlXygpIGZ1bmN0aW9uIGJlbG93LlxuXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyLFxuICAgICAgICB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcyxcbiAgICAgICAgdmFsdWVTaXplID0gdGhpcy52YWx1ZVNpemUsXG4gICAgICAgIG9mZnNldCA9IGluZGV4ICogdmFsdWVTaXplICogMyArIHZhbHVlU2l6ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSB2YWx1ZVNpemU7IGkrKykge1xuICAgICAgcmVzdWx0W2ldID0gdmFsdWVzW29mZnNldCArIGldO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmJlZm9yZVN0YXJ0XyA9XG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmFmdGVyRW5kXyA9XG4gICAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87XG5cbiAgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQucHJvdG90eXBlLmludGVycG9sYXRlXyA9IGZ1bmN0aW9uIChpMSwgdDAsIHQsIHQxKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0QnVmZmVyO1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLnNhbXBsZVZhbHVlcztcbiAgICB2YXIgc3RyaWRlID0gdGhpcy52YWx1ZVNpemU7XG5cbiAgICB2YXIgc3RyaWRlMiA9IHN0cmlkZSAqIDI7XG4gICAgdmFyIHN0cmlkZTMgPSBzdHJpZGUgKiAzO1xuXG4gICAgdmFyIHRkID0gdDEgLSB0MDtcblxuICAgIHZhciBwID0gKHQgLSB0MCkgLyB0ZDtcbiAgICB2YXIgcHAgPSBwICogcDtcbiAgICB2YXIgcHBwID0gcHAgKiBwO1xuXG4gICAgdmFyIG9mZnNldDEgPSBpMSAqIHN0cmlkZTM7XG4gICAgdmFyIG9mZnNldDAgPSBvZmZzZXQxIC0gc3RyaWRlMztcblxuICAgIHZhciBzMiA9IC0yICogcHBwICsgMyAqIHBwO1xuICAgIHZhciBzMyA9IHBwcCAtIHBwO1xuICAgIHZhciBzMCA9IDEgLSBzMjtcbiAgICB2YXIgczEgPSBzMyAtIHBwICsgcDtcblxuICAgIC8vIExheW91dCBvZiBrZXlmcmFtZSBvdXRwdXQgdmFsdWVzIGZvciBDVUJJQ1NQTElORSBhbmltYXRpb25zOlxuICAgIC8vICAgWyBpblRhbmdlbnRfMSwgc3BsaW5lVmVydGV4XzEsIG91dFRhbmdlbnRfMSwgaW5UYW5nZW50XzIsIHNwbGluZVZlcnRleF8yLCAuLi4gXVxuICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSBzdHJpZGU7IGkrKykge1xuICAgICAgdmFyIHAwID0gdmFsdWVzW29mZnNldDAgKyBpICsgc3RyaWRlXTsgLy8gc3BsaW5lVmVydGV4X2tcbiAgICAgIHZhciBtMCA9IHZhbHVlc1tvZmZzZXQwICsgaSArIHN0cmlkZTJdICogdGQ7IC8vIG91dFRhbmdlbnRfayAqICh0X2srMSAtIHRfaylcbiAgICAgIHZhciBwMSA9IHZhbHVlc1tvZmZzZXQxICsgaSArIHN0cmlkZV07IC8vIHNwbGluZVZlcnRleF9rKzFcbiAgICAgIHZhciBtMSA9IHZhbHVlc1tvZmZzZXQxICsgaV0gKiB0ZDsgLy8gaW5UYW5nZW50X2srMSAqICh0X2srMSAtIHRfaylcblxuICAgICAgcmVzdWx0W2ldID0gczAgKiBwMCArIHMxICogbTAgKyBzMiAqIHAxICsgczMgKiBtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqIElOVEVSTkFMUyAqKioqKioqKioqKiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyogQ09OU1RBTlRTICovXG5cbiAgdmFyIFdFQkdMX0NPTlNUQU5UUyA9IHtcbiAgICBGTE9BVDogNTEyNixcbiAgICAvL0ZMT0FUX01BVDI6IDM1Njc0LFxuICAgIEZMT0FUX01BVDM6IDM1Njc1LFxuICAgIEZMT0FUX01BVDQ6IDM1Njc2LFxuICAgIEZMT0FUX1ZFQzI6IDM1NjY0LFxuICAgIEZMT0FUX1ZFQzM6IDM1NjY1LFxuICAgIEZMT0FUX1ZFQzQ6IDM1NjY2LFxuICAgIExJTkVBUjogOTcyOSxcbiAgICBSRVBFQVQ6IDEwNDk3LFxuICAgIFNBTVBMRVJfMkQ6IDM1Njc4LFxuICAgIFBPSU5UUzogMCxcbiAgICBMSU5FUzogMSxcbiAgICBMSU5FX0xPT1A6IDIsXG4gICAgTElORV9TVFJJUDogMyxcbiAgICBUUklBTkdMRVM6IDQsXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgVFJJQU5HTEVfRkFOOiA2LFxuICAgIFVOU0lHTkVEX0JZVEU6IDUxMjEsXG4gICAgVU5TSUdORURfU0hPUlQ6IDUxMjMsXG4gIH07XG5cbiAgdmFyIFdFQkdMX0NPTVBPTkVOVF9UWVBFUyA9IHtcbiAgICA1MTIwOiBJbnQ4QXJyYXksXG4gICAgNTEyMTogVWludDhBcnJheSxcbiAgICA1MTIyOiBJbnQxNkFycmF5LFxuICAgIDUxMjM6IFVpbnQxNkFycmF5LFxuICAgIDUxMjU6IFVpbnQzMkFycmF5LFxuICAgIDUxMjY6IEZsb2F0MzJBcnJheSxcbiAgfTtcblxuICB2YXIgV0VCR0xfRklMVEVSUyA9IHtcbiAgICA5NzI4OiBOZWFyZXN0RmlsdGVyLFxuICAgIDk3Mjk6IExpbmVhckZpbHRlcixcbiAgICA5OTg0OiBOZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcixcbiAgICA5OTg1OiBMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLFxuICAgIDk5ODY6IE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsXG4gICAgOTk4NzogTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLFxuICB9O1xuXG4gIHZhciBXRUJHTF9XUkFQUElOR1MgPSB7XG4gICAgMzMwNzE6IENsYW1wVG9FZGdlV3JhcHBpbmcsXG4gICAgMzM2NDg6IE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsXG4gICAgMTA0OTc6IFJlcGVhdFdyYXBwaW5nLFxuICB9O1xuXG4gIHZhciBXRUJHTF9UWVBFX1NJWkVTID0ge1xuICAgIFNDQUxBUjogMSxcbiAgICBWRUMyOiAyLFxuICAgIFZFQzM6IDMsXG4gICAgVkVDNDogNCxcbiAgICBNQVQyOiA0LFxuICAgIE1BVDM6IDksXG4gICAgTUFUNDogMTYsXG4gIH07XG5cbiAgdmFyIEFUVFJJQlVURVMgPSB7XG4gICAgUE9TSVRJT046ICdwb3NpdGlvbicsXG4gICAgTk9STUFMOiAnbm9ybWFsJyxcbiAgICBUQU5HRU5UOiAndGFuZ2VudCcsXG4gICAgVEVYQ09PUkRfMDogJ3V2JyxcbiAgICBURVhDT09SRF8xOiAndXYyJyxcbiAgICBDT0xPUl8wOiAnY29sb3InLFxuICAgIFdFSUdIVFNfMDogJ3NraW5XZWlnaHQnLFxuICAgIEpPSU5UU18wOiAnc2tpbkluZGV4JyxcbiAgfTtcblxuICB2YXIgUEFUSF9QUk9QRVJUSUVTID0ge1xuICAgIHNjYWxlOiAnc2NhbGUnLFxuICAgIHRyYW5zbGF0aW9uOiAncG9zaXRpb24nLFxuICAgIHJvdGF0aW9uOiAncXVhdGVybmlvbicsXG4gICAgd2VpZ2h0czogJ21vcnBoVGFyZ2V0SW5mbHVlbmNlcycsXG4gIH07XG5cbiAgdmFyIElOVEVSUE9MQVRJT04gPSB7XG4gICAgQ1VCSUNTUExJTkU6IHVuZGVmaW5lZCwgLy8gV2UgdXNlIGEgY3VzdG9tIGludGVycG9sYW50IChHTFRGQ3ViaWNTcGxpbmVJbnRlcnBvbGF0aW9uKSBmb3IgQ1VCSUNTUExJTkUgdHJhY2tzLiBFYWNoXG4gICAgLy8ga2V5ZnJhbWUgdHJhY2sgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGEgZGVmYXVsdCBpbnRlcnBvbGF0aW9uIHR5cGUsIHRoZW4gbW9kaWZpZWQuXG4gICAgTElORUFSOiBJbnRlcnBvbGF0ZUxpbmVhcixcbiAgICBTVEVQOiBJbnRlcnBvbGF0ZURpc2NyZXRlLFxuICB9O1xuXG4gIHZhciBBTFBIQV9NT0RFUyA9IHtcbiAgICBPUEFRVUU6ICdPUEFRVUUnLFxuICAgIE1BU0s6ICdNQVNLJyxcbiAgICBCTEVORDogJ0JMRU5EJyxcbiAgfTtcblxuICB2YXIgTUlNRV9UWVBFX0ZPUk1BVFMgPSB7XG4gICAgJ2ltYWdlL3BuZyc6IFJHQkFGb3JtYXQsXG4gICAgJ2ltYWdlL2pwZWcnOiBSR0JGb3JtYXQsXG4gIH07XG5cbiAgLyogVVRJTElUWSBGVU5DVElPTlMgKi9cblxuICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCwgcGF0aCkge1xuICAgIC8vIEludmFsaWQgVVJMXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHVybCA9PT0gJycpIHJldHVybiAnJztcblxuICAgIC8vIEhvc3QgUmVsYXRpdmUgVVJMXG4gICAgaWYgKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QocGF0aCkgJiYgL15cXC8vLnRlc3QodXJsKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC8oXmh0dHBzPzpcXC9cXC9bXlxcL10rKS4qL2ksICckMScpO1xuICAgIH1cblxuICAgIC8vIEFic29sdXRlIFVSTCBodHRwOi8vLGh0dHBzOi8vLC8vXG4gICAgaWYgKC9eKGh0dHBzPzopP1xcL1xcLy9pLnRlc3QodXJsKSkgcmV0dXJuIHVybDtcblxuICAgIC8vIERhdGEgVVJJXG4gICAgaWYgKC9eZGF0YTouKiwuKiQvaS50ZXN0KHVybCkpIHJldHVybiB1cmw7XG5cbiAgICAvLyBCbG9iIFVSTFxuICAgIGlmICgvXmJsb2I6LiokL2kudGVzdCh1cmwpKSByZXR1cm4gdXJsO1xuXG4gICAgLy8gUmVsYXRpdmUgVVJMXG4gICAgcmV0dXJuIHBhdGggKyB1cmw7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNkZWZhdWx0LW1hdGVyaWFsXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0TWF0ZXJpYWwoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGVbJ0RlZmF1bHRNYXRlcmlhbCddID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNhY2hlWydEZWZhdWx0TWF0ZXJpYWwnXSA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICAgICAgZW1pc3NpdmU6IDB4MDAwMDAwLFxuICAgICAgICBtZXRhbG5lc3M6IDEsXG4gICAgICAgIHJvdWdobmVzczogMSxcbiAgICAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICAgICAgICBkZXB0aFRlc3Q6IHRydWUsXG4gICAgICAgIHNpZGU6IEZyb250U2lkZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjYWNoZVsnRGVmYXVsdE1hdGVyaWFsJ107XG4gIH1cblxuICBmdW5jdGlvbiBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoa25vd25FeHRlbnNpb25zLCBvYmplY3QsIG9iamVjdERlZikge1xuICAgIC8vIEFkZCB1bmtub3duIGdsVEYgZXh0ZW5zaW9ucyB0byBhbiBvYmplY3QncyB1c2VyRGF0YS5cblxuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0RGVmLmV4dGVuc2lvbnMpIHtcbiAgICAgIGlmIChrbm93bkV4dGVuc2lvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgPSBvYmplY3QudXNlckRhdGEuZ2x0ZkV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIG9iamVjdC51c2VyRGF0YS5nbHRmRXh0ZW5zaW9uc1tuYW1lXSA9IG9iamVjdERlZi5leHRlbnNpb25zW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDNEfE1hdGVyaWFsfEJ1ZmZlckdlb21ldHJ5fSBvYmplY3RcbiAgICogQHBhcmFtIHtHTFRGLmRlZmluaXRpb259IGdsdGZEZWZcbiAgICovXG4gIGZ1bmN0aW9uIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEob2JqZWN0LCBnbHRmRGVmKSB7XG4gICAgaWYgKGdsdGZEZWYuZXh0cmFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgZ2x0ZkRlZi5leHRyYXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LnVzZXJEYXRhLCBnbHRmRGVmLmV4dHJhcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IElnbm9yaW5nIHByaW1pdGl2ZSB0eXBlIC5leHRyYXMsICcgKyBnbHRmRGVmLmV4dHJhcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbW9ycGgtdGFyZ2V0c1xuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge0FycmF5PEdMVEYuVGFyZ2V0Pn0gdGFyZ2V0c1xuICAgKiBAcGFyYW0ge0dMVEZQYXJzZXJ9IHBhcnNlclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJ1ZmZlckdlb21ldHJ5Pn1cbiAgICovXG4gIGZ1bmN0aW9uIGFkZE1vcnBoVGFyZ2V0cyhnZW9tZXRyeSwgdGFyZ2V0cywgcGFyc2VyKSB7XG4gICAgdmFyIGhhc01vcnBoUG9zaXRpb24gPSBmYWxzZTtcbiAgICB2YXIgaGFzTW9ycGhOb3JtYWwgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIHRhcmdldCA9IHRhcmdldHNbaV07XG5cbiAgICAgIGlmICh0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkgaGFzTW9ycGhQb3NpdGlvbiA9IHRydWU7XG4gICAgICBpZiAodGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkKSBoYXNNb3JwaE5vcm1hbCA9IHRydWU7XG5cbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uICYmIGhhc01vcnBoTm9ybWFsKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIWhhc01vcnBoUG9zaXRpb24gJiYgIWhhc01vcnBoTm9ybWFsKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJ5KTtcblxuICAgIHZhciBwZW5kaW5nUG9zaXRpb25BY2Nlc3NvcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ05vcm1hbEFjY2Vzc29ycyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKGhhc01vcnBoUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHBlbmRpbmdBY2Nlc3NvciA9XG4gICAgICAgICAgICAgIHRhcmdldC5QT1NJVElPTiAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuUE9TSVRJT04pXG4gICAgICAgICAgICAgICAgOiBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xuXG4gICAgICAgIHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkge1xuICAgICAgICB2YXIgcGVuZGluZ0FjY2Vzc29yID1cbiAgICAgICAgICAgICAgdGFyZ2V0Lk5PUk1BTCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCB0YXJnZXQuTk9STUFMKVxuICAgICAgICAgICAgICAgIDogZ2VvbWV0cnkuYXR0cmlidXRlcy5ub3JtYWw7XG5cbiAgICAgICAgcGVuZGluZ05vcm1hbEFjY2Vzc29ycy5wdXNoKHBlbmRpbmdBY2Nlc3Nvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdQb3NpdGlvbkFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nTm9ybWFsQWNjZXNzb3JzKSxcbiAgICBdKS50aGVuKGZ1bmN0aW9uIChhY2Nlc3NvcnMpIHtcbiAgICAgIHZhciBtb3JwaFBvc2l0aW9ucyA9IGFjY2Vzc29yc1swXTtcbiAgICAgIHZhciBtb3JwaE5vcm1hbHMgPSBhY2Nlc3NvcnNbMV07XG5cbiAgICAgIGlmIChoYXNNb3JwaFBvc2l0aW9uKSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24gPSBtb3JwaFBvc2l0aW9ucztcbiAgICAgIGlmIChoYXNNb3JwaE5vcm1hbCkgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCA9IG1vcnBoTm9ybWFscztcbiAgICAgIGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWVzaH0gbWVzaFxuICAgKiBAcGFyYW0ge0dMVEYuTWVzaH0gbWVzaERlZlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKG1lc2gsIG1lc2hEZWYpIHtcbiAgICBtZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO1xuXG4gICAgaWYgKG1lc2hEZWYud2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoRGVmLndlaWdodHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tpXSA9IG1lc2hEZWYud2VpZ2h0c1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAuZXh0cmFzIGhhcyB1c2VyLWRlZmluZWQgZGF0YSwgc28gY2hlY2sgdGhhdCAuZXh0cmFzLnRhcmdldE5hbWVzIGlzIGFuIGFycmF5LlxuICAgIGlmIChtZXNoRGVmLmV4dHJhcyAmJiBBcnJheS5pc0FycmF5KG1lc2hEZWYuZXh0cmFzLnRhcmdldE5hbWVzKSkge1xuICAgICAgdmFyIHRhcmdldE5hbWVzID0gbWVzaERlZi5leHRyYXMudGFyZ2V0TmFtZXM7XG5cbiAgICAgIGlmIChtZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGggPT09IHRhcmdldE5hbWVzLmxlbmd0aCkge1xuICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRhcmdldE5hbWVzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICBtZXNoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0YXJnZXROYW1lc1tpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IEludmFsaWQgZXh0cmFzLnRhcmdldE5hbWVzIGxlbmd0aC4gSWdub3JpbmcgbmFtZXMuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlS2V5KHByaW1pdGl2ZURlZikge1xuICAgIHZhciBkcmFjb0V4dGVuc2lvbiA9XG4gICAgICAgICAgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl07XG4gICAgdmFyIGdlb21ldHJ5S2V5O1xuXG4gICAgaWYgKGRyYWNvRXh0ZW5zaW9uKSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgICdkcmFjbzonICtcbiAgICAgICAgZHJhY29FeHRlbnNpb24uYnVmZmVyVmlldyArXG4gICAgICAgICc6JyArXG4gICAgICAgIGRyYWNvRXh0ZW5zaW9uLmluZGljZXMgK1xuICAgICAgICAnOicgK1xuICAgICAgICBjcmVhdGVBdHRyaWJ1dGVzS2V5KGRyYWNvRXh0ZW5zaW9uLmF0dHJpYnV0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW9tZXRyeUtleSA9XG4gICAgICAgIHByaW1pdGl2ZURlZi5pbmRpY2VzICtcbiAgICAgICAgJzonICtcbiAgICAgICAgY3JlYXRlQXR0cmlidXRlc0tleShwcmltaXRpdmVEZWYuYXR0cmlidXRlcykgK1xuICAgICAgICAnOicgK1xuICAgICAgICBwcmltaXRpdmVEZWYubW9kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvbWV0cnlLZXk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVzS2V5KGF0dHJpYnV0ZXMpIHtcbiAgICB2YXIgYXR0cmlidXRlc0tleSA9ICcnO1xuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5zb3J0KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBrZXlzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgIGF0dHJpYnV0ZXNLZXkgKz0ga2V5c1tpXSArICc6JyArIGF0dHJpYnV0ZXNba2V5c1tpXV0gKyAnOyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXNLZXk7XG4gIH1cblxuICAvKiBHTFRGIFBBUlNFUiAqL1xuXG4gIGZ1bmN0aW9uIEdMVEZQYXJzZXIoanNvbiwgZXh0ZW5zaW9ucywgb3B0aW9ucykge1xuICAgIHRoaXMuanNvbiA9IGpzb24gfHwge307XG4gICAgdGhpcy5leHRlbnNpb25zID0gZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLy8gbG9hZGVyIG9iamVjdCBjYWNoZVxuICAgIHRoaXMuY2FjaGUgPSBuZXcgR0xURlJlZ2lzdHJ5KCk7XG5cbiAgICAvLyBCdWZmZXJHZW9tZXRyeSBjYWNoaW5nXG4gICAgdGhpcy5wcmltaXRpdmVDYWNoZSA9IHt9O1xuXG4gICAgdGhpcy50ZXh0dXJlTG9hZGVyID0gbmV3IFRleHR1cmVMb2FkZXIodGhpcy5vcHRpb25zLm1hbmFnZXIpO1xuICAgIHRoaXMudGV4dHVyZUxvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLm9wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuXG4gICAgdGhpcy5maWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIodGhpcy5vcHRpb25zLm1hbmFnZXIpO1xuICAgIHRoaXMuZmlsZUxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNyb3NzT3JpZ2luID09PSAndXNlLWNyZWRlbnRpYWxzJykge1xuICAgICAgdGhpcy5maWxlTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChvbkxvYWQsIG9uRXJyb3IpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcbiAgICB2YXIgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZW5zaW9ucztcblxuICAgIC8vIENsZWFyIHRoZSBsb2FkZXIgY2FjaGVcbiAgICB0aGlzLmNhY2hlLnJlbW92ZUFsbCgpO1xuXG4gICAgLy8gTWFyayB0aGUgc3BlY2lhbCBub2Rlcy9tZXNoZXMgaW4ganNvbiBmb3IgZWZmaWNpZW50IHBhcnNlXG4gICAgdGhpcy5tYXJrRGVmcygpO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5nZXREZXBlbmRlbmNpZXMoJ3NjZW5lJyksXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnYW5pbWF0aW9uJyksXG4gICAgICB0aGlzLmdldERlcGVuZGVuY2llcygnY2FtZXJhJyksXG4gICAgXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICBzY2VuZTogZGVwZW5kZW5jaWVzWzBdW2pzb24uc2NlbmUgfHwgMF0sXG4gICAgICAgICAgc2NlbmVzOiBkZXBlbmRlbmNpZXNbMF0sXG4gICAgICAgICAgYW5pbWF0aW9uczogZGVwZW5kZW5jaWVzWzFdLFxuICAgICAgICAgIGNhbWVyYXM6IGRlcGVuZGVuY2llc1syXSxcbiAgICAgICAgICBhc3NldDoganNvbi5hc3NldCxcbiAgICAgICAgICBwYXJzZXI6IHBhcnNlcixcbiAgICAgICAgICB1c2VyRGF0YToge30sXG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIHJlc3VsdCwganNvbik7XG5cbiAgICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShyZXN1bHQsIGpzb24pO1xuXG4gICAgICAgIG9uTG9hZChyZXN1bHQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChvbkVycm9yKTtcbiAgfTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHNwZWNpYWwgbm9kZXMvbWVzaGVzIGluIGpzb24gZm9yIGVmZmljaWVudCBwYXJzZS5cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLm1hcmtEZWZzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub2RlRGVmcyA9IHRoaXMuanNvbi5ub2RlcyB8fCBbXTtcbiAgICB2YXIgc2tpbkRlZnMgPSB0aGlzLmpzb24uc2tpbnMgfHwgW107XG4gICAgdmFyIG1lc2hEZWZzID0gdGhpcy5qc29uLm1lc2hlcyB8fCBbXTtcblxuICAgIHZhciBtZXNoUmVmZXJlbmNlcyA9IHt9O1xuICAgIHZhciBtZXNoVXNlcyA9IHt9O1xuXG4gICAgLy8gTm90aGluZyBpbiB0aGUgbm9kZSBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzIGEgQm9uZSBvciBhblxuICAgIC8vIE9iamVjdDNELiBVc2UgdGhlIHNraW5zJyBqb2ludCByZWZlcmVuY2VzIHRvIG1hcmsgYm9uZXMuXG4gICAgZm9yICh2YXIgc2tpbkluZGV4ID0gMCwgc2tpbkxlbmd0aCA9IHNraW5EZWZzLmxlbmd0aDsgc2tpbkluZGV4IDwgc2tpbkxlbmd0aDsgc2tpbkluZGV4KyspIHtcbiAgICAgIHZhciBqb2ludHMgPSBza2luRGVmc1tza2luSW5kZXhdLmpvaW50cztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gam9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgbm9kZURlZnNbam9pbnRzW2ldXS5pc0JvbmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1lc2hlcyBjYW4gKGFuZCBzaG91bGQpIGJlIHJldXNlZCBieSBtdWx0aXBsZSBub2RlcyBpbiBhIGdsVEYgYXNzZXQuIFRvXG4gICAgLy8gYXZvaWQgaGF2aW5nIG1vcmUgdGhhbiBvbmUgTWVzaCB3aXRoIHRoZSBzYW1lIG5hbWUsIGNvdW50XG4gICAgLy8gcmVmZXJlbmNlcyBhbmQgcmVuYW1lIGluc3RhbmNlcyBiZWxvdy5cbiAgICAvL1xuICAgIC8vIEV4YW1wbGU6IENlc2l1bU1pbGtUcnVjayBzYW1wbGUgbW9kZWwgcmV1c2VzIFwiV2hlZWxcIiBtZXNoZXMuXG4gICAgZm9yICh2YXIgbm9kZUluZGV4ID0gMCwgbm9kZUxlbmd0aCA9IG5vZGVEZWZzLmxlbmd0aDsgbm9kZUluZGV4IDwgbm9kZUxlbmd0aDsgbm9kZUluZGV4KyspIHtcbiAgICAgIHZhciBub2RlRGVmID0gbm9kZURlZnNbbm9kZUluZGV4XTtcblxuICAgICAgaWYgKG5vZGVEZWYubWVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdID0gbWVzaFVzZXNbbm9kZURlZi5tZXNoXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNoUmVmZXJlbmNlc1tub2RlRGVmLm1lc2hdKys7XG5cbiAgICAgICAgLy8gTm90aGluZyBpbiB0aGUgbWVzaCBkZWZpbml0aW9uIGluZGljYXRlcyB3aGV0aGVyIGl0IGlzXG4gICAgICAgIC8vIGEgU2tpbm5lZE1lc2ggb3IgTWVzaC4gVXNlIHRoZSBub2RlJ3MgbWVzaCByZWZlcmVuY2VcbiAgICAgICAgLy8gdG8gbWFyayBTa2lubmVkTWVzaCBpZiBub2RlIGhhcyBza2luLlxuICAgICAgICBpZiAobm9kZURlZi5za2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtZXNoRGVmc1tub2RlRGVmLm1lc2hdLmlzU2tpbm5lZE1lc2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uLm1lc2hSZWZlcmVuY2VzID0gbWVzaFJlZmVyZW5jZXM7XG4gICAgdGhpcy5qc29uLm1lc2hVc2VzID0gbWVzaFVzZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIHRoZSBzcGVjaWZpZWQgZGVwZW5kZW5jeSBhc3luY2hyb25vdXNseSwgd2l0aCBjYWNoaW5nLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxPYmplY3QzRHxNYXRlcmlhbHxUSFJFRS5UZXh0dXJlfEFuaW1hdGlvbkNsaXB8QXJyYXlCdWZmZXJ8T2JqZWN0Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAodHlwZSwgaW5kZXgpIHtcbiAgICB2YXIgY2FjaGVLZXkgPSB0eXBlICsgJzonICsgaW5kZXg7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICBpZiAoIWRlcGVuZGVuY3kpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdzY2VuZSc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZFNjZW5lKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdub2RlJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTm9kZShpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzaCc6XG4gICAgICAgICAgZGVwZW5kZW5jeSA9IHRoaXMubG9hZE1lc2goaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2FjY2Vzc29yJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQWNjZXNzb3IoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2J1ZmZlclZpZXcnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXJWaWV3KGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdidWZmZXInOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRCdWZmZXIoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21hdGVyaWFsJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkTWF0ZXJpYWwoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3RleHR1cmUnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRUZXh0dXJlKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdza2luJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkU2tpbihpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5sb2FkQW5pbWF0aW9uKGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjYW1lcmEnOlxuICAgICAgICAgIGRlcGVuZGVuY3kgPSB0aGlzLmxvYWRDYW1lcmEoaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgICBkZXBlbmRlbmN5ID0gdGhpcy5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubG9hZExpZ2h0KGluZGV4KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlOiAnICsgdHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBkZXBlbmRlbmN5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwZW5kZW5jeTtcbiAgfTtcblxuICAvKipcbiAgICogUmVxdWVzdHMgYWxsIGRlcGVuZGVuY2llcyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXN5bmNocm9ub3VzbHksIHdpdGggY2FjaGluZy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheTxPYmplY3Q+Pn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmdldERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIGRlcGVuZGVuY2llcyA9IHRoaXMuY2FjaGUuZ2V0KHR5cGUpO1xuXG4gICAgaWYgKCFkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgICAgdmFyIGRlZnMgPSB0aGlzLmpzb25bdHlwZSArICh0eXBlID09PSAnbWVzaCcgPyAnZXMnIDogJ3MnKV0gfHwgW107XG5cbiAgICAgIGRlcGVuZGVuY2llcyA9IFByb21pc2UuYWxsKFxuICAgICAgICBkZWZzLm1hcChmdW5jdGlvbiAoZGVmLCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSh0eXBlLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLmNhY2hlLmFkZCh0eXBlLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBkZXBlbmRlbmNpZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5QnVmZmVyPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVySW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyRGVmID0gdGhpcy5qc29uLmJ1ZmZlcnNbYnVmZmVySW5kZXhdO1xuICAgIHZhciBsb2FkZXIgPSB0aGlzLmZpbGVMb2FkZXI7XG5cbiAgICBpZiAoYnVmZmVyRGVmLnR5cGUgJiYgYnVmZmVyRGVmLnR5cGUgIT09ICdhcnJheWJ1ZmZlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogJyArIGJ1ZmZlckRlZi50eXBlICsgJyBidWZmZXIgdHlwZSBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIC8vIElmIHByZXNlbnQsIEdMQiBjb250YWluZXIgaXMgcmVxdWlyZWQgdG8gYmUgdGhlIGZpcnN0IGJ1ZmZlci5cbiAgICBpZiAoYnVmZmVyRGVmLnVyaSA9PT0gdW5kZWZpbmVkICYmIGJ1ZmZlckluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9CSU5BUllfR0xURl0uYm9keSk7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbG9hZGVyLmxvYWQocmVzb2x2ZVVSTChidWZmZXJEZWYudXJpLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVEhSRUUuR0xURkxvYWRlcjogRmFpbGVkIHRvIGxvYWQgYnVmZmVyIFwiJyArIGJ1ZmZlckRlZi51cmkgKyAnXCIuJykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjYnVmZmVycy1hbmQtYnVmZmVyLXZpZXdzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBidWZmZXJWaWV3SW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBcnJheUJ1ZmZlcj59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkQnVmZmVyVmlldyA9IGZ1bmN0aW9uIChidWZmZXJWaWV3SW5kZXgpIHtcbiAgICB2YXIgYnVmZmVyVmlld0RlZiA9IHRoaXMuanNvbi5idWZmZXJWaWV3c1tidWZmZXJWaWV3SW5kZXhdO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyJywgYnVmZmVyVmlld0RlZi5idWZmZXIpLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgdmFyIGJ5dGVMZW5ndGggPSBidWZmZXJWaWV3RGVmLmJ5dGVMZW5ndGggfHwgMDtcbiAgICAgIHZhciBieXRlT2Zmc2V0ID0gYnVmZmVyVmlld0RlZi5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKGJ5dGVPZmZzZXQsIGJ5dGVPZmZzZXQgKyBieXRlTGVuZ3RoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNhY2Nlc3NvcnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFjY2Vzc29ySW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxCdWZmZXJBdHRyaWJ1dGV8SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZEFjY2Vzc29yID0gZnVuY3Rpb24gKGFjY2Vzc29ySW5kZXgpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgIHZhciBhY2Nlc3NvckRlZiA9IHRoaXMuanNvbi5hY2Nlc3NvcnNbYWNjZXNzb3JJbmRleF07XG5cbiAgICBpZiAoYWNjZXNzb3JEZWYuYnVmZmVyVmlldyA9PT0gdW5kZWZpbmVkICYmIGFjY2Vzc29yRGVmLnNwYXJzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBJZ25vcmUgZW1wdHkgYWNjZXNzb3JzLCB3aGljaCBtYXkgYmUgdXNlZCB0byBkZWNsYXJlIHJ1bnRpbWVcbiAgICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgY29taW5nIGZyb20gYW5vdGhlciBzb3VyY2UgKGUuZy4gRHJhY29cbiAgICAgIC8vIGNvbXByZXNzaW9uIGV4dGVuc2lvbikuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBwZW5kaW5nQnVmZmVyVmlld3MgPSBbXTtcblxuICAgIGlmIChhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHBlbmRpbmdCdWZmZXJWaWV3cy5wdXNoKHRoaXMuZ2V0RGVwZW5kZW5jeSgnYnVmZmVyVmlldycsIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0J1ZmZlclZpZXdzLnB1c2gobnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKGFjY2Vzc29yRGVmLnNwYXJzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLmluZGljZXMuYnVmZmVyVmlldylcbiAgICAgICk7XG4gICAgICBwZW5kaW5nQnVmZmVyVmlld3MucHVzaChcbiAgICAgICAgdGhpcy5nZXREZXBlbmRlbmN5KCdidWZmZXJWaWV3JywgYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5idWZmZXJWaWV3KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZ0J1ZmZlclZpZXdzKS50aGVuKGZ1bmN0aW9uIChidWZmZXJWaWV3cykge1xuICAgICAgdmFyIGJ1ZmZlclZpZXcgPSBidWZmZXJWaWV3c1swXTtcblxuICAgICAgdmFyIGl0ZW1TaXplID0gV0VCR0xfVFlQRV9TSVpFU1thY2Nlc3NvckRlZi50eXBlXTtcbiAgICAgIHZhciBUeXBlZEFycmF5ID0gV0VCR0xfQ09NUE9ORU5UX1RZUEVTW2FjY2Vzc29yRGVmLmNvbXBvbmVudFR5cGVdO1xuXG4gICAgICAvLyBGb3IgVkVDMzogaXRlbVNpemUgaXMgMywgZWxlbWVudEJ5dGVzIGlzIDQsIGl0ZW1CeXRlcyBpcyAxMi5cbiAgICAgIHZhciBlbGVtZW50Qnl0ZXMgPSBUeXBlZEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgICAgdmFyIGl0ZW1CeXRlcyA9IGVsZW1lbnRCeXRlcyAqIGl0ZW1TaXplO1xuICAgICAgdmFyIGJ5dGVPZmZzZXQgPSBhY2Nlc3NvckRlZi5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICB2YXIgYnl0ZVN0cmlkZSA9XG4gICAgICAgICAgICBhY2Nlc3NvckRlZi5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBqc29uLmJ1ZmZlclZpZXdzW2FjY2Vzc29yRGVmLmJ1ZmZlclZpZXddLmJ5dGVTdHJpZGVcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbm9ybWFsaXplZCA9IGFjY2Vzc29yRGVmLm5vcm1hbGl6ZWQgPT09IHRydWU7XG4gICAgICB2YXIgYXJyYXksIGJ1ZmZlckF0dHJpYnV0ZTtcblxuICAgICAgLy8gVGhlIGJ1ZmZlciBpcyBub3QgaW50ZXJsZWF2ZWQgaWYgdGhlIHN0cmlkZSBpcyB0aGUgaXRlbSBzaXplIGluIGJ5dGVzLlxuICAgICAgaWYgKGJ5dGVTdHJpZGUgJiYgYnl0ZVN0cmlkZSAhPT0gaXRlbUJ5dGVzKSB7XG4gICAgICAgIC8vIEVhY2ggXCJzbGljZVwiIG9mIHRoZSBidWZmZXIsIGFzIGRlZmluZWQgYnkgJ2NvdW50JyBlbGVtZW50cyBvZiAnYnl0ZVN0cmlkZScgYnl0ZXMsIGdldHMgaXRzIG93biBJbnRlcmxlYXZlZEJ1ZmZlclxuICAgICAgICAvLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCBJQkEuY291bnQgcmVmbGVjdHMgYWNjZXNzb3IuY291bnQgcHJvcGVybHlcbiAgICAgICAgdmFyIGliU2xpY2UgPSBNYXRoLmZsb29yKGJ5dGVPZmZzZXQgLyBieXRlU3RyaWRlKTtcbiAgICAgICAgdmFyIGliQ2FjaGVLZXkgPVxuICAgICAgICAgICAgICAnSW50ZXJsZWF2ZWRCdWZmZXI6JyArXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmJ1ZmZlclZpZXcgK1xuICAgICAgICAgICAgICAnOicgK1xuICAgICAgICAgICAgICBhY2Nlc3NvckRlZi5jb21wb25lbnRUeXBlICtcbiAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgaWJTbGljZSArXG4gICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgIGFjY2Vzc29yRGVmLmNvdW50O1xuICAgICAgICB2YXIgaWIgPSBwYXJzZXIuY2FjaGUuZ2V0KGliQ2FjaGVLZXkpO1xuXG4gICAgICAgIGlmICghaWIpIHtcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KFxuICAgICAgICAgICAgYnVmZmVyVmlldyxcbiAgICAgICAgICAgIGliU2xpY2UgKiBieXRlU3RyaWRlLFxuICAgICAgICAgICAgKGFjY2Vzc29yRGVmLmNvdW50ICogYnl0ZVN0cmlkZSkgLyBlbGVtZW50Qnl0ZXNcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gSW50ZWdlciBwYXJhbWV0ZXJzIHRvIElCL0lCQSBhcmUgaW4gYXJyYXkgZWxlbWVudHMsIG5vdCBieXRlcy5cbiAgICAgICAgICBpYiA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlcihhcnJheSwgYnl0ZVN0cmlkZSAvIGVsZW1lbnRCeXRlcyk7XG5cbiAgICAgICAgICBwYXJzZXIuY2FjaGUuYWRkKGliQ2FjaGVLZXksIGliKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlckF0dHJpYnV0ZSA9IG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICBpYixcbiAgICAgICAgICBpdGVtU2l6ZSxcbiAgICAgICAgICAoYnl0ZU9mZnNldCAlIGJ5dGVTdHJpZGUpIC8gZWxlbWVudEJ5dGVzLFxuICAgICAgICAgIG5vcm1hbGl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChidWZmZXJWaWV3ID09PSBudWxsKSB7XG4gICAgICAgICAgYXJyYXkgPSBuZXcgVHlwZWRBcnJheShhY2Nlc3NvckRlZi5jb3VudCAqIGl0ZW1TaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheSA9IG5ldyBUeXBlZEFycmF5KGJ1ZmZlclZpZXcsIGJ5dGVPZmZzZXQsIGFjY2Vzc29yRGVmLmNvdW50ICogaXRlbVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSwgaXRlbVNpemUsIG5vcm1hbGl6ZWQpO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvYmxvYi9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAvUkVBRE1FLm1kI3NwYXJzZS1hY2Nlc3NvcnNcbiAgICAgIGlmIChhY2Nlc3NvckRlZi5zcGFyc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgaXRlbVNpemVJbmRpY2VzID0gV0VCR0xfVFlQRV9TSVpFUy5TQ0FMQVI7XG4gICAgICAgIHZhciBUeXBlZEFycmF5SW5kaWNlcyA9IFdFQkdMX0NPTVBPTkVOVF9UWVBFU1thY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5jb21wb25lbnRUeXBlXTtcblxuICAgICAgICB2YXIgYnl0ZU9mZnNldEluZGljZXMgPSBhY2Nlc3NvckRlZi5zcGFyc2UuaW5kaWNlcy5ieXRlT2Zmc2V0IHx8IDA7XG4gICAgICAgIHZhciBieXRlT2Zmc2V0VmFsdWVzID0gYWNjZXNzb3JEZWYuc3BhcnNlLnZhbHVlcy5ieXRlT2Zmc2V0IHx8IDA7XG5cbiAgICAgICAgdmFyIHNwYXJzZUluZGljZXMgPSBuZXcgVHlwZWRBcnJheUluZGljZXMoXG4gICAgICAgICAgYnVmZmVyVmlld3NbMV0sXG4gICAgICAgICAgYnl0ZU9mZnNldEluZGljZXMsXG4gICAgICAgICAgYWNjZXNzb3JEZWYuc3BhcnNlLmNvdW50ICogaXRlbVNpemVJbmRpY2VzXG4gICAgICAgICk7XG4gICAgICAgIHZhciBzcGFyc2VWYWx1ZXMgPSBuZXcgVHlwZWRBcnJheShcbiAgICAgICAgICBidWZmZXJWaWV3c1syXSxcbiAgICAgICAgICBieXRlT2Zmc2V0VmFsdWVzLFxuICAgICAgICAgIGFjY2Vzc29yRGVmLnNwYXJzZS5jb3VudCAqIGl0ZW1TaXplXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGJ1ZmZlclZpZXcgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBBdm9pZCBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsIEFycmF5QnVmZmVyLCBpZiB0aGUgYnVmZmVyVmlldyB3YXNuJ3QgaW5pdGlhbGl6ZWQgd2l0aCB6ZXJvZXMuXG4gICAgICAgICAgYnVmZmVyQXR0cmlidXRlID0gbmV3IEJ1ZmZlckF0dHJpYnV0ZShcbiAgICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5hcnJheS5zbGljZSgpLFxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLml0ZW1TaXplLFxuICAgICAgICAgICAgYnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc3BhcnNlSW5kaWNlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc3BhcnNlSW5kaWNlc1tpXTtcblxuICAgICAgICAgIGJ1ZmZlckF0dHJpYnV0ZS5zZXRYKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDIpIGJ1ZmZlckF0dHJpYnV0ZS5zZXRZKGluZGV4LCBzcGFyc2VWYWx1ZXNbaSAqIGl0ZW1TaXplICsgMV0pO1xuICAgICAgICAgIGlmIChpdGVtU2l6ZSA+PSAzKSBidWZmZXJBdHRyaWJ1dGUuc2V0WihpbmRleCwgc3BhcnNlVmFsdWVzW2kgKiBpdGVtU2l6ZSArIDJdKTtcbiAgICAgICAgICBpZiAoaXRlbVNpemUgPj0gNCkgYnVmZmVyQXR0cmlidXRlLnNldFcoaW5kZXgsIHNwYXJzZVZhbHVlc1tpICogaXRlbVNpemUgKyAzXSk7XG4gICAgICAgICAgaWYgKGl0ZW1TaXplID49IDUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLkdMVEZMb2FkZXI6IFVuc3VwcG9ydGVkIGl0ZW1TaXplIGluIHNwYXJzZSBCdWZmZXJBdHRyaWJ1dGUuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZmZlckF0dHJpYnV0ZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3RleHR1cmVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0ZXh0dXJlSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5UZXh0dXJlPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKHRleHR1cmVJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIHZhciB0ZXh0dXJlTG9hZGVyID0gdGhpcy50ZXh0dXJlTG9hZGVyO1xuXG4gICAgdmFyIFVSTCA9IHNlbGYuVVJMIHx8IHNlbGYud2Via2l0VVJMO1xuXG4gICAgdmFyIHRleHR1cmVEZWYgPSBqc29uLnRleHR1cmVzW3RleHR1cmVJbmRleF07XG5cbiAgICB2YXIgdGV4dHVyZUV4dGVuc2lvbnMgPSB0ZXh0dXJlRGVmLmV4dGVuc2lvbnMgfHwge307XG5cbiAgICB2YXIgc291cmNlO1xuXG4gICAgaWYgKHRleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10pIHtcbiAgICAgIHNvdXJjZSA9IGpzb24uaW1hZ2VzW3RleHR1cmVFeHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10uc291cmNlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgc291cmNlID0ganNvbi5pbWFnZXNbdGV4dHVyZURlZi5zb3VyY2VdO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VVUkkgPSBzb3VyY2UudXJpO1xuICAgIHZhciBpc09iamVjdFVSTCA9IGZhbHNlO1xuXG4gICAgaWYgKHNvdXJjZS5idWZmZXJWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIExvYWQgYmluYXJ5IGltYWdlIGRhdGEgZnJvbSBidWZmZXJWaWV3LCBpZiBwcm92aWRlZC5cblxuICAgICAgc291cmNlVVJJID0gcGFyc2VyLmdldERlcGVuZGVuY3koJ2J1ZmZlclZpZXcnLCBzb3VyY2UuYnVmZmVyVmlldykudGhlbihmdW5jdGlvbiAoYnVmZmVyVmlldykge1xuICAgICAgICBpc09iamVjdFVSTCA9IHRydWU7XG4gICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2J1ZmZlclZpZXddLCB7IHR5cGU6IHNvdXJjZS5taW1lVHlwZSB9KTtcbiAgICAgICAgc291cmNlVVJJID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVVSSTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc291cmNlVVJJKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHNvdXJjZVVSSSkge1xuICAgICAgICAvLyBMb2FkIFRleHR1cmUgcmVzb3VyY2UuXG5cbiAgICAgICAgdmFyIGxvYWRlciA9IG9wdGlvbnMubWFuYWdlci5nZXRIYW5kbGVyKHNvdXJjZVVSSSk7XG5cbiAgICAgICAgaWYgKCFsb2FkZXIpIHtcbiAgICAgICAgICBsb2FkZXIgPSB0ZXh0dXJlRXh0ZW5zaW9uc1tFWFRFTlNJT05TLk1TRlRfVEVYVFVSRV9ERFNdXG4gICAgICAgICAgICA/IHBhcnNlci5leHRlbnNpb25zW0VYVEVOU0lPTlMuTVNGVF9URVhUVVJFX0REU10uZGRzTG9hZGVyXG4gICAgICAgICAgICA6IHRleHR1cmVMb2FkZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGxvYWRlci5sb2FkKHJlc29sdmVVUkwoc291cmNlVVJJLCBvcHRpb25zLnBhdGgpLCByZXNvbHZlLCB1bmRlZmluZWQsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgIC8vIENsZWFuIHVwIHJlc291cmNlcyBhbmQgY29uZmlndXJlIFRleHR1cmUuXG5cbiAgICAgICAgaWYgKGlzT2JqZWN0VVJMID09PSB0cnVlKSB7XG4gICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzb3VyY2VVUkkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dHVyZS5mbGlwWSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlRGVmLm5hbWUpIHRleHR1cmUubmFtZSA9IHRleHR1cmVEZWYubmFtZTtcblxuICAgICAgICAvLyBJZ25vcmUgdW5rbm93biBtaW1lIHR5cGVzLCBsaWtlIEREUyBmaWxlcy5cbiAgICAgICAgaWYgKHNvdXJjZS5taW1lVHlwZSBpbiBNSU1FX1RZUEVfRk9STUFUUykge1xuICAgICAgICAgIHRleHR1cmUuZm9ybWF0ID0gTUlNRV9UWVBFX0ZPUk1BVFNbc291cmNlLm1pbWVUeXBlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzYW1wbGVycyA9IGpzb24uc2FtcGxlcnMgfHwge307XG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbdGV4dHVyZURlZi5zYW1wbGVyXSB8fCB7fTtcblxuICAgICAgICB0ZXh0dXJlLm1hZ0ZpbHRlciA9IFdFQkdMX0ZJTFRFUlNbc2FtcGxlci5tYWdGaWx0ZXJdIHx8IExpbmVhckZpbHRlcjtcbiAgICAgICAgdGV4dHVyZS5taW5GaWx0ZXIgPSBXRUJHTF9GSUxURVJTW3NhbXBsZXIubWluRmlsdGVyXSB8fCBMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI7XG4gICAgICAgIHRleHR1cmUud3JhcFMgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwU10gfHwgUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgIHRleHR1cmUud3JhcFQgPSBXRUJHTF9XUkFQUElOR1Nbc2FtcGxlci53cmFwVF0gfHwgUmVwZWF0V3JhcHBpbmc7XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQXN5bmNocm9ub3VzbHkgYXNzaWducyBhIHRleHR1cmUgdG8gdGhlIGdpdmVuIG1hdGVyaWFsIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXRlcmlhbFBhcmFtc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFwTmFtZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwRGVmXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25UZXh0dXJlID0gZnVuY3Rpb24gKG1hdGVyaWFsUGFyYW1zLCBtYXBOYW1lLCBtYXBEZWYpIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLmdldERlcGVuZGVuY3koJ3RleHR1cmUnLCBtYXBEZWYuaW5kZXgpLnRoZW4oZnVuY3Rpb24gKHRleHR1cmUpIHtcbiAgICAgIGlmICghdGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKSB7XG4gICAgICAgIHN3aXRjaCAobWFwTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ2FvTWFwJzpcbiAgICAgICAgICBjYXNlICdlbWlzc2l2ZU1hcCc6XG4gICAgICAgICAgY2FzZSAnbWV0YWxuZXNzTWFwJzpcbiAgICAgICAgICBjYXNlICdub3JtYWxNYXAnOlxuICAgICAgICAgIGNhc2UgJ3JvdWdobmVzc01hcCc6XG4gICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCA9IFJHQkZvcm1hdDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE1hdGVyaWFscyBzYW1wbGUgYW9NYXAgZnJvbSBVViBzZXQgMSBhbmQgb3RoZXIgbWFwcyBmcm9tIFVWIHNldCAwIC0gdGhpcyBjYW4ndCBiZSBjb25maWd1cmVkXG4gICAgICAvLyBIb3dldmVyLCB3ZSB3aWxsIGNvcHkgVVYgc2V0IDAgdG8gVVYgc2V0IDEgb24gZGVtYW5kIGZvciBhb01hcFxuICAgICAgaWYgKFxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBtYXBEZWYudGV4Q29vcmQgIT0gMCAmJlxuICAgICAgICAhKG1hcE5hbWUgPT09ICdhb01hcCcgJiYgbWFwRGVmLnRleENvb3JkID09IDEpXG4gICAgICApIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBDdXN0b20gVVYgc2V0ICcgK1xuICAgICAgICAgIG1hcERlZi50ZXhDb29yZCArXG4gICAgICAgICAgJyBmb3IgdGV4dHVyZSAnICtcbiAgICAgICAgICBtYXBOYW1lICtcbiAgICAgICAgICAnIG5vdCB5ZXQgc3VwcG9ydGVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcnNlci5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX1RFWFRVUkVfVFJBTlNGT1JNXSkge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID1cbiAgICAgICAgICAgICAgbWFwRGVmLmV4dGVuc2lvbnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWFwRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfVEVYVFVSRV9UUkFOU0ZPUk1dXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgIHRleHR1cmUgPSBwYXJzZXIuZXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9URVhUVVJFX1RSQU5TRk9STV0uZXh0ZW5kVGV4dHVyZShcbiAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zW21hcE5hbWVdID0gdGV4dHVyZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQXNzaWducyBmaW5hbCBtYXRlcmlhbCB0byBhIE1lc2gsIExpbmUsIG9yIFBvaW50cyBpbnN0YW5jZS4gVGhlIGluc3RhbmNlXG4gICAqIGFscmVhZHkgaGFzIGEgbWF0ZXJpYWwgKGdlbmVyYXRlZCBmcm9tIHRoZSBnbFRGIG1hdGVyaWFsIG9wdGlvbnMgYWxvbmUpXG4gICAqIGJ1dCByZXVzZSBvZiB0aGUgc2FtZSBnbFRGIG1hdGVyaWFsIG1heSByZXF1aXJlIG11bHRpcGxlIHRocmVlanMgbWF0ZXJpYWxzXG4gICAqIHRvIGFjY29tb2RhdGUgZGlmZmVyZW50IHByaW1pdGl2ZSB0eXBlcywgZGVmaW5lcywgZXRjLiBOZXcgbWF0ZXJpYWxzIHdpbGxcbiAgICogYmUgY3JlYXRlZCBpZiBuZWNlc3NhcnksIGFuZCByZXVzZWQgZnJvbSBhIGNhY2hlLlxuICAgKiBAcGFyYW0gIHtPYmplY3QzRH0gbWVzaCBNZXNoLCBMaW5lLCBvciBQb2ludHMgaW5zdGFuY2UuXG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25GaW5hbE1hdGVyaWFsID0gZnVuY3Rpb24gKG1lc2gpIHtcbiAgICB2YXIgZ2VvbWV0cnkgPSBtZXNoLmdlb21ldHJ5O1xuICAgIHZhciBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7XG5cbiAgICB2YXIgdXNlVmVydGV4VGFuZ2VudHMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnRhbmdlbnQgIT09IHVuZGVmaW5lZDtcbiAgICB2YXIgdXNlVmVydGV4Q29sb3JzID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciB1c2VGbGF0U2hhZGluZyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsID09PSB1bmRlZmluZWQ7XG4gICAgdmFyIHVzZVNraW5uaW5nID0gbWVzaC5pc1NraW5uZWRNZXNoID09PSB0cnVlO1xuICAgIHZhciB1c2VNb3JwaFRhcmdldHMgPSBPYmplY3Qua2V5cyhnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpLmxlbmd0aCA+IDA7XG4gICAgdmFyIHVzZU1vcnBoTm9ybWFscyA9IHVzZU1vcnBoVGFyZ2V0cyAmJiBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAobWVzaC5pc1BvaW50cykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gJ1BvaW50c01hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkO1xuXG4gICAgICB2YXIgcG9pbnRzTWF0ZXJpYWwgPSB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG5cbiAgICAgIGlmICghcG9pbnRzTWF0ZXJpYWwpIHtcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoKTtcbiAgICAgICAgTWF0ZXJpYWwucHJvdG90eXBlLmNvcHkuY2FsbChwb2ludHNNYXRlcmlhbCwgbWF0ZXJpYWwpO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcbiAgICAgICAgcG9pbnRzTWF0ZXJpYWwubWFwID0gbWF0ZXJpYWwubWFwO1xuICAgICAgICBwb2ludHNNYXRlcmlhbC5zaXplQXR0ZW51YXRpb24gPSBmYWxzZTsgLy8gZ2xURiBzcGVjIHNheXMgcG9pbnRzIHNob3VsZCBiZSAxcHhcblxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgcG9pbnRzTWF0ZXJpYWwpO1xuICAgICAgfVxuXG4gICAgICBtYXRlcmlhbCA9IHBvaW50c01hdGVyaWFsO1xuICAgIH0gZWxzZSBpZiAobWVzaC5pc0xpbmUpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9ICdMaW5lQmFzaWNNYXRlcmlhbDonICsgbWF0ZXJpYWwudXVpZDtcblxuICAgICAgdmFyIGxpbmVNYXRlcmlhbCA9IHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCFsaW5lTWF0ZXJpYWwpIHtcbiAgICAgICAgbGluZU1hdGVyaWFsID0gbmV3IExpbmVCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgIE1hdGVyaWFsLnByb3RvdHlwZS5jb3B5LmNhbGwobGluZU1hdGVyaWFsLCBtYXRlcmlhbCk7XG4gICAgICAgIGxpbmVNYXRlcmlhbC5jb2xvci5jb3B5KG1hdGVyaWFsLmNvbG9yKTtcblxuICAgICAgICB0aGlzLmNhY2hlLmFkZChjYWNoZUtleSwgbGluZU1hdGVyaWFsKTtcbiAgICAgIH1cblxuICAgICAgbWF0ZXJpYWwgPSBsaW5lTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLy8gQ2xvbmUgdGhlIG1hdGVyaWFsIGlmIGl0IHdpbGwgYmUgbW9kaWZpZWRcbiAgICBpZiAodXNlVmVydGV4VGFuZ2VudHMgfHwgdXNlVmVydGV4Q29sb3JzIHx8IHVzZUZsYXRTaGFkaW5nIHx8IHVzZVNraW5uaW5nIHx8IHVzZU1vcnBoVGFyZ2V0cykge1xuICAgICAgdmFyIGNhY2hlS2V5ID0gJ0Nsb25lZE1hdGVyaWFsOicgKyBtYXRlcmlhbC51dWlkICsgJzonO1xuXG4gICAgICBpZiAobWF0ZXJpYWwuaXNHTFRGU3BlY3VsYXJHbG9zc2luZXNzTWF0ZXJpYWwpIGNhY2hlS2V5ICs9ICdzcGVjdWxhci1nbG9zc2luZXNzOic7XG4gICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlS2V5ICs9ICdza2lubmluZzonO1xuICAgICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzKSBjYWNoZUtleSArPSAndmVydGV4LXRhbmdlbnRzOic7XG4gICAgICBpZiAodXNlVmVydGV4Q29sb3JzKSBjYWNoZUtleSArPSAndmVydGV4LWNvbG9yczonO1xuICAgICAgaWYgKHVzZUZsYXRTaGFkaW5nKSBjYWNoZUtleSArPSAnZmxhdC1zaGFkaW5nOic7XG4gICAgICBpZiAodXNlTW9ycGhUYXJnZXRzKSBjYWNoZUtleSArPSAnbW9ycGgtdGFyZ2V0czonO1xuICAgICAgaWYgKHVzZU1vcnBoTm9ybWFscykgY2FjaGVLZXkgKz0gJ21vcnBoLW5vcm1hbHM6JztcblxuICAgICAgdmFyIGNhY2hlZE1hdGVyaWFsID0gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xuXG4gICAgICBpZiAoIWNhY2hlZE1hdGVyaWFsKSB7XG4gICAgICAgIGNhY2hlZE1hdGVyaWFsID0gbWF0ZXJpYWwuY2xvbmUoKTtcblxuICAgICAgICBpZiAodXNlU2tpbm5pbmcpIGNhY2hlZE1hdGVyaWFsLnNraW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHVzZVZlcnRleFRhbmdlbnRzKSBjYWNoZWRNYXRlcmlhbC52ZXJ0ZXhUYW5nZW50cyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VWZXJ0ZXhDb2xvcnMpIGNhY2hlZE1hdGVyaWFsLnZlcnRleENvbG9ycyA9IHRydWU7XG4gICAgICAgIGlmICh1c2VGbGF0U2hhZGluZykgY2FjaGVkTWF0ZXJpYWwuZmxhdFNoYWRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodXNlTW9ycGhUYXJnZXRzKSBjYWNoZWRNYXRlcmlhbC5tb3JwaFRhcmdldHMgPSB0cnVlO1xuICAgICAgICBpZiAodXNlTW9ycGhOb3JtYWxzKSBjYWNoZWRNYXRlcmlhbC5tb3JwaE5vcm1hbHMgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuY2FjaGUuYWRkKGNhY2hlS2V5LCBjYWNoZWRNYXRlcmlhbCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsID0gY2FjaGVkTWF0ZXJpYWw7XG4gICAgfVxuXG4gICAgLy8gd29ya2Fyb3VuZHMgZm9yIG1lc2ggYW5kIGdlb21ldHJ5XG5cbiAgICBpZiAoXG4gICAgICBtYXRlcmlhbC5hb01hcCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51djIgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy51diAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYpO1xuICAgIH1cblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzExNDM4I2lzc3VlY29tbWVudC01MDcwMDM5OTVcbiAgICBpZiAobWF0ZXJpYWwubm9ybWFsU2NhbGUgJiYgIXVzZVZlcnRleFRhbmdlbnRzKSB7XG4gICAgICBtYXRlcmlhbC5ub3JtYWxTY2FsZS55ID0gLW1hdGVyaWFsLm5vcm1hbFNjYWxlLnk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbFNjYWxlICYmICF1c2VWZXJ0ZXhUYW5nZW50cykge1xuICAgICAgbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsU2NhbGUueSA9IC1tYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZS55O1xuICAgIH1cblxuICAgIG1lc2gubWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNtYXRlcmlhbHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1hdGVyaWFsSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxNYXRlcmlhbD59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkTWF0ZXJpYWwgPSBmdW5jdGlvbiAobWF0ZXJpYWxJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgIHZhciBtYXRlcmlhbERlZiA9IGpzb24ubWF0ZXJpYWxzW21hdGVyaWFsSW5kZXhdO1xuXG4gICAgdmFyIG1hdGVyaWFsVHlwZTtcbiAgICB2YXIgbWF0ZXJpYWxQYXJhbXMgPSB7fTtcbiAgICB2YXIgbWF0ZXJpYWxFeHRlbnNpb25zID0gbWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucyB8fCB7fTtcblxuICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19QQlJfU1BFQ1VMQVJfR0xPU1NJTkVTU10pIHtcbiAgICAgIHZhciBzZ0V4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXTtcbiAgICAgIG1hdGVyaWFsVHlwZSA9IHNnRXh0ZW5zaW9uLmdldE1hdGVyaWFsVHlwZSgpO1xuICAgICAgcGVuZGluZy5wdXNoKHNnRXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xuICAgIH0gZWxzZSBpZiAobWF0ZXJpYWxFeHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF0pIHtcbiAgICAgIHZhciBrbXVFeHRlbnNpb24gPSBleHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX01BVEVSSUFMU19VTkxJVF07XG4gICAgICBtYXRlcmlhbFR5cGUgPSBrbXVFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goa211RXh0ZW5zaW9uLmV4dGVuZFBhcmFtcyhtYXRlcmlhbFBhcmFtcywgbWF0ZXJpYWxEZWYsIHBhcnNlcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTcGVjaWZpY2F0aW9uOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI21ldGFsbGljLXJvdWdobmVzcy1tYXRlcmlhbFxuXG4gICAgICBtYXRlcmlhbFR5cGUgPSBNZXNoU3RhbmRhcmRNYXRlcmlhbDtcblxuICAgICAgdmFyIG1ldGFsbGljUm91Z2huZXNzID0gbWF0ZXJpYWxEZWYucGJyTWV0YWxsaWNSb3VnaG5lc3MgfHwge307XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zLmNvbG9yID0gbmV3IENvbG9yKDEuMCwgMS4wLCAxLjApO1xuICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IDEuMDtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yKSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBtZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I7XG5cbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMuY29sb3IuZnJvbUFycmF5KGFycmF5KTtcbiAgICAgICAgbWF0ZXJpYWxQYXJhbXMub3BhY2l0eSA9IGFycmF5WzNdO1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ21hcCcsIG1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvclRleHR1cmUpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG1hdGVyaWFsUGFyYW1zLm1ldGFsbmVzcyA9XG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yICE9PSB1bmRlZmluZWQgPyBtZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3RvciA6IDEuMDtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnJvdWdobmVzcyA9XG4gICAgICAgIG1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciAhPT0gdW5kZWZpbmVkID8gbWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yIDogMS4wO1xuXG4gICAgICBpZiAobWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICAnbWV0YWxuZXNzTWFwJyxcbiAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgcGVuZGluZy5wdXNoKFxuICAgICAgICAgIHBhcnNlci5hc3NpZ25UZXh0dXJlKFxuICAgICAgICAgICAgbWF0ZXJpYWxQYXJhbXMsXG4gICAgICAgICAgICAncm91Z2huZXNzTWFwJyxcbiAgICAgICAgICAgIG1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljUm91Z2huZXNzVGV4dHVyZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZG91YmxlU2lkZWQgPT09IHRydWUpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnNpZGUgPSBEb3VibGVTaWRlO1xuICAgIH1cblxuICAgIHZhciBhbHBoYU1vZGUgPSBtYXRlcmlhbERlZi5hbHBoYU1vZGUgfHwgQUxQSEFfTU9ERVMuT1BBUVVFO1xuXG4gICAgaWYgKGFscGhhTW9kZSA9PT0gQUxQSEFfTU9ERVMuQkxFTkQpIHtcbiAgICAgIG1hdGVyaWFsUGFyYW1zLnRyYW5zcGFyZW50ID0gdHJ1ZTtcblxuICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8xNzcwNlxuICAgICAgbWF0ZXJpYWxQYXJhbXMuZGVwdGhXcml0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICBpZiAoYWxwaGFNb2RlID09PSBBTFBIQV9NT0RFUy5NQVNLKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFscGhhVGVzdCA9XG4gICAgICAgICAgbWF0ZXJpYWxEZWYuYWxwaGFDdXRvZmYgIT09IHVuZGVmaW5lZCA/IG1hdGVyaWFsRGVmLmFscGhhQ3V0b2ZmIDogMC41O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlICE9PSB1bmRlZmluZWQgJiYgbWF0ZXJpYWxUeXBlICE9PSBNZXNoQmFzaWNNYXRlcmlhbCkge1xuICAgICAgcGVuZGluZy5wdXNoKHBhcnNlci5hc3NpZ25UZXh0dXJlKG1hdGVyaWFsUGFyYW1zLCAnbm9ybWFsTWFwJywgbWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZSkpO1xuXG4gICAgICBtYXRlcmlhbFBhcmFtcy5ub3JtYWxTY2FsZSA9IG5ldyBWZWN0b3IyKDEsIDEpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYubm9ybWFsVGV4dHVyZS5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLm5vcm1hbFNjYWxlLnNldChcbiAgICAgICAgICBtYXRlcmlhbERlZi5ub3JtYWxUZXh0dXJlLnNjYWxlLFxuICAgICAgICAgIG1hdGVyaWFsRGVmLm5vcm1hbFRleHR1cmUuc2NhbGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuYXNzaWduVGV4dHVyZShtYXRlcmlhbFBhcmFtcywgJ2FvTWFwJywgbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZSkpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1hdGVyaWFsUGFyYW1zLmFvTWFwSW50ZW5zaXR5ID0gbWF0ZXJpYWxEZWYub2NjbHVzaW9uVGV4dHVyZS5zdHJlbmd0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWF0ZXJpYWxEZWYuZW1pc3NpdmVGYWN0b3IgIT09IHVuZGVmaW5lZCAmJiBtYXRlcmlhbFR5cGUgIT09IE1lc2hCYXNpY01hdGVyaWFsKSB7XG4gICAgICBtYXRlcmlhbFBhcmFtcy5lbWlzc2l2ZSA9IG5ldyBDb2xvcigpLmZyb21BcnJheShtYXRlcmlhbERlZi5lbWlzc2l2ZUZhY3Rvcik7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSAhPT0gdW5kZWZpbmVkICYmIG1hdGVyaWFsVHlwZSAhPT0gTWVzaEJhc2ljTWF0ZXJpYWwpIHtcbiAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgcGFyc2VyLmFzc2lnblRleHR1cmUobWF0ZXJpYWxQYXJhbXMsICdlbWlzc2l2ZU1hcCcsIG1hdGVyaWFsRGVmLmVtaXNzaXZlVGV4dHVyZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGVyaWFsRXh0ZW5zaW9uc1tFWFRFTlNJT05TLktIUl9NQVRFUklBTFNfQ0xFQVJDT0FUXSkge1xuICAgICAgdmFyIGNsZWFyY29hdEV4dGVuc2lvbiA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX0NMRUFSQ09BVF07XG4gICAgICBtYXRlcmlhbFR5cGUgPSBjbGVhcmNvYXRFeHRlbnNpb24uZ2V0TWF0ZXJpYWxUeXBlKCk7XG4gICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgIGNsZWFyY29hdEV4dGVuc2lvbi5leHRlbmRQYXJhbXMobWF0ZXJpYWxQYXJhbXMsIHsgZXh0ZW5zaW9uczogbWF0ZXJpYWxFeHRlbnNpb25zIH0sIHBhcnNlcilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGVyaWFsO1xuXG4gICAgICBpZiAobWF0ZXJpYWxUeXBlID09PSBHTFRGTWVzaFN0YW5kYXJkU0dNYXRlcmlhbCkge1xuICAgICAgICBtYXRlcmlhbCA9IGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTUFURVJJQUxTX1BCUl9TUEVDVUxBUl9HTE9TU0lORVNTXS5jcmVhdGVNYXRlcmlhbChcbiAgICAgICAgICBtYXRlcmlhbFBhcmFtc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgbWF0ZXJpYWxUeXBlKG1hdGVyaWFsUGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGVyaWFsRGVmLm5hbWUpIG1hdGVyaWFsLm5hbWUgPSBtYXRlcmlhbERlZi5uYW1lO1xuXG4gICAgICAvLyBiYXNlQ29sb3JUZXh0dXJlLCBlbWlzc2l2ZVRleHR1cmUsIGFuZCBzcGVjdWxhckdsb3NzaW5lc3NUZXh0dXJlIHVzZSBzUkdCIGVuY29kaW5nLlxuICAgICAgaWYgKG1hdGVyaWFsLm1hcCkgbWF0ZXJpYWwubWFwLmVuY29kaW5nID0gc1JHQkVuY29kaW5nO1xuICAgICAgaWYgKG1hdGVyaWFsLmVtaXNzaXZlTWFwKSBtYXRlcmlhbC5lbWlzc2l2ZU1hcC5lbmNvZGluZyA9IHNSR0JFbmNvZGluZztcblxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShtYXRlcmlhbCwgbWF0ZXJpYWxEZWYpO1xuXG4gICAgICBpZiAobWF0ZXJpYWxEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG1hdGVyaWFsLCBtYXRlcmlhbERlZik7XG5cbiAgICAgIHJldHVybiBtYXRlcmlhbDtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqL1xuICBmdW5jdGlvbiBjb21wdXRlQm91bmRzKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYsIHBhcnNlcikge1xuICAgIHZhciBhdHRyaWJ1dGVzID0gcHJpbWl0aXZlRGVmLmF0dHJpYnV0ZXM7XG5cbiAgICB2YXIgYm94ID0gbmV3IEJveDMoKTtcblxuICAgIGlmIChhdHRyaWJ1dGVzLlBPU0lUSU9OICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1thdHRyaWJ1dGVzLlBPU0lUSU9OXTtcblxuICAgICAgdmFyIG1pbiA9IGFjY2Vzc29yLm1pbjtcbiAgICAgIHZhciBtYXggPSBhY2Nlc3Nvci5tYXg7XG5cbiAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgIGlmIChtaW4gIT09IHVuZGVmaW5lZCAmJiBtYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBib3guc2V0KG5ldyBWZWN0b3IzKG1pblswXSwgbWluWzFdLCBtaW5bMl0pLCBuZXcgVmVjdG9yMyhtYXhbMF0sIG1heFsxXSwgbWF4WzJdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGFyZ2V0cyA9IHByaW1pdGl2ZURlZi50YXJnZXRzO1xuXG4gICAgaWYgKHRhcmdldHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIG1heERpc3BsYWNlbWVudCA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICB2YXIgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGFyZ2V0cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgIGlmICh0YXJnZXQuUE9TSVRJT04gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlci5qc29uLmFjY2Vzc29yc1t0YXJnZXQuUE9TSVRJT05dO1xuICAgICAgICAgIHZhciBtaW4gPSBhY2Nlc3Nvci5taW47XG4gICAgICAgICAgdmFyIG1heCA9IGFjY2Vzc29yLm1heDtcblxuICAgICAgICAgIC8vIGdsVEYgcmVxdWlyZXMgJ21pbicgYW5kICdtYXgnLCBidXQgVlJNICh3aGljaCBleHRlbmRzIGdsVEYpIGN1cnJlbnRseSBpZ25vcmVzIHRoYXQgcmVxdWlyZW1lbnQuXG5cbiAgICAgICAgICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgbWF4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IG1heCBvZiBhYnNvbHV0ZSBjb21wb25lbnRzIGJlY2F1c2UgdGFyZ2V0IHdlaWdodCBpcyBbLTEsMV1cbiAgICAgICAgICAgIHZlY3Rvci5zZXRYKE1hdGgubWF4KE1hdGguYWJzKG1pblswXSksIE1hdGguYWJzKG1heFswXSkpKTtcbiAgICAgICAgICAgIHZlY3Rvci5zZXRZKE1hdGgubWF4KE1hdGguYWJzKG1pblsxXSksIE1hdGguYWJzKG1heFsxXSkpKTtcbiAgICAgICAgICAgIHZlY3Rvci5zZXRaKE1hdGgubWF4KE1hdGguYWJzKG1pblsyXSksIE1hdGguYWJzKG1heFsyXSkpKTtcblxuICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBhc3N1bWVzIHRoYXQgdGhlIHN1bSBvZiBhbGwgd2VpZ2h0cyBpcyBhdCBtb3N0IDEuIFRoaXMgaXNuJ3QgcXVpdGUgY29ycmVjdCAtIGl0J3MgbW9yZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgICAgIC8vIHRvIGFzc3VtZSB0aGF0IGVhY2ggdGFyZ2V0IGNhbiBoYXZlIGEgbWF4IHdlaWdodCBvZiAxLiBIb3dldmVyLCBmb3Igc29tZSB1c2UgY2FzZXMgLSBub3RhYmx5LCB3aGVuIG1vcnBoIHRhcmdldHNcbiAgICAgICAgICAgIC8vIGFyZSB1c2VkIHRvIGltcGxlbWVudCBrZXktZnJhbWUgYW5pbWF0aW9ucyBhbmQgYXMgc3VjaCBvbmx5IHR3byBhcmUgYWN0aXZlIGF0IGEgdGltZSAtIHRoaXMgcmVzdWx0cyBpbiB2ZXJ5IGxhcmdlXG4gICAgICAgICAgICAvLyBib3hlcy4gU28gZm9yIG5vdyB3ZSBtYWtlIGEgYm94IHRoYXQncyBzb21ldGltZXMgYSB0b3VjaCB0b28gc21hbGwgYnV0IGlzIGhvcGVmdWxseSBtb3N0bHkgb2YgcmVhc29uYWJsZSBzaXplLlxuICAgICAgICAgICAgbWF4RGlzcGxhY2VtZW50Lm1heCh2ZWN0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgbWluL21heCBwcm9wZXJ0aWVzIGZvciBhY2Nlc3NvciBQT1NJVElPTi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQXMgcGVyIGNvbW1lbnQgYWJvdmUgdGhpcyBib3ggaXNuJ3QgY29uc2VydmF0aXZlLCBidXQgaGFzIGEgcmVhc29uYWJsZSBzaXplIGZvciBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICBib3guZXhwYW5kQnlWZWN0b3IobWF4RGlzcGxhY2VtZW50KTtcbiAgICB9XG5cbiAgICBnZW9tZXRyeS5ib3VuZGluZ0JveCA9IGJveDtcblxuICAgIHZhciBzcGhlcmUgPSBuZXcgU3BoZXJlKCk7XG5cbiAgICBib3guZ2V0Q2VudGVyKHNwaGVyZS5jZW50ZXIpO1xuICAgIHNwaGVyZS5yYWRpdXMgPSBib3gubWluLmRpc3RhbmNlVG8oYm94Lm1heCkgLyAyO1xuXG4gICAgZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUgPSBzcGhlcmU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtHTFRGLlByaW1pdGl2ZX0gcHJpbWl0aXZlRGVmXG4gICAqIEBwYXJhbSB7R0xURlBhcnNlcn0gcGFyc2VyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpIHtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHByaW1pdGl2ZURlZi5hdHRyaWJ1dGVzO1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGFjY2Vzc29ySW5kZXgsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIHJldHVybiBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBhY2Nlc3NvckluZGV4KS50aGVuKGZ1bmN0aW9uIChhY2Nlc3Nvcikge1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYWNjZXNzb3IpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgZ2x0ZkF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgdmFyIHRocmVlQXR0cmlidXRlTmFtZSA9IEFUVFJJQlVURVNbZ2x0ZkF0dHJpYnV0ZU5hbWVdIHx8IGdsdGZBdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIC8vIFNraXAgYXR0cmlidXRlcyBhbHJlYWR5IHByb3ZpZGVkIGJ5IGUuZy4gRHJhY28gZXh0ZW5zaW9uLlxuICAgICAgaWYgKHRocmVlQXR0cmlidXRlTmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSBjb250aW51ZTtcblxuICAgICAgcGVuZGluZy5wdXNoKGFzc2lnbkF0dHJpYnV0ZUFjY2Vzc29yKGF0dHJpYnV0ZXNbZ2x0ZkF0dHJpYnV0ZU5hbWVdLCB0aHJlZUF0dHJpYnV0ZU5hbWUpKTtcbiAgICB9XG5cbiAgICBpZiAocHJpbWl0aXZlRGVmLmluZGljZXMgIT09IHVuZGVmaW5lZCAmJiAhZ2VvbWV0cnkuaW5kZXgpIHtcbiAgICAgIHZhciBhY2Nlc3NvciA9IHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBwcmltaXRpdmVEZWYuaW5kaWNlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgoYWNjZXNzb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgcGVuZGluZy5wdXNoKGFjY2Vzc29yKTtcbiAgICB9XG5cbiAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKGdlb21ldHJ5LCBwcmltaXRpdmVEZWYpO1xuXG4gICAgY29tcHV0ZUJvdW5kcyhnZW9tZXRyeSwgcHJpbWl0aXZlRGVmLCBwYXJzZXIpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByaW1pdGl2ZURlZi50YXJnZXRzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBhZGRNb3JwaFRhcmdldHMoZ2VvbWV0cnksIHByaW1pdGl2ZURlZi50YXJnZXRzLCBwYXJzZXIpXG4gICAgICAgIDogZ2VvbWV0cnk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtCdWZmZXJHZW9tZXRyeX0gZ2VvbWV0cnlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGRyYXdNb2RlXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICAgKi9cbiAgZnVuY3Rpb24gdG9UcmlhbmdsZXNEcmF3TW9kZShnZW9tZXRyeSwgZHJhd01vZGUpIHtcbiAgICB2YXIgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuXG4gICAgLy8gZ2VuZXJhdGUgaW5kZXggaWYgbm90IHByZXNlbnRcblxuICAgIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgICAgdmFyIGluZGljZXMgPSBbXTtcblxuICAgICAgdmFyIHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuXG4gICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcbiAgICAgICAgICBpbmRpY2VzLnB1c2goaSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5zZXRJbmRleChpbmRpY2VzKTtcbiAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuR0xURkxvYWRlci50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuZGVmaW5lZCBwb3NpdGlvbiBhdHRyaWJ1dGUuIFByb2Nlc3Npbmcgbm90IHBvc3NpYmxlLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vXG5cbiAgICB2YXIgbnVtYmVyT2ZUcmlhbmdsZXMgPSBpbmRleC5jb3VudCAtIDI7XG4gICAgdmFyIG5ld0luZGljZXMgPSBbXTtcblxuICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSkge1xuICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoMCkpO1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xuICAgICAgICBpZiAoaSAlIDIgPT09IDApIHtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3SW5kaWNlcy5sZW5ndGggLyAzICE9PSBudW1iZXJPZlRyaWFuZ2xlcykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1RIUkVFLkdMVEZMb2FkZXIudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuICAgIHZhciBuZXdHZW9tZXRyeSA9IGdlb21ldHJ5LmNsb25lKCk7XG4gICAgbmV3R2VvbWV0cnkuc2V0SW5kZXgobmV3SW5kaWNlcyk7XG5cbiAgICByZXR1cm4gbmV3R2VvbWV0cnk7XG4gIH1cblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL2Jsb2IvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wL1JFQURNRS5tZCNnZW9tZXRyeVxuICAgKlxuICAgKiBDcmVhdGVzIEJ1ZmZlckdlb21ldHJpZXMgZnJvbSBwcmltaXRpdmVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PEdMVEYuUHJpbWl0aXZlPn0gcHJpbWl0aXZlc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlPEFycmF5PEJ1ZmZlckdlb21ldHJ5Pj59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkR2VvbWV0cmllcyA9IGZ1bmN0aW9uIChwcmltaXRpdmVzKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXM7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5wcmltaXRpdmVDYWNoZTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURyYWNvUHJpbWl0aXZlKHByaW1pdGl2ZSkge1xuICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl1cbiAgICAgICAgLmRlY29kZVByaW1pdGl2ZShwcmltaXRpdmUsIHBhcnNlcilcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGdlb21ldHJ5KSB7XG4gICAgICAgICAgcmV0dXJuIGFkZFByaW1pdGl2ZUF0dHJpYnV0ZXMoZ2VvbWV0cnksIHByaW1pdGl2ZSwgcGFyc2VyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIHByaW1pdGl2ZSA9IHByaW1pdGl2ZXNbaV07XG4gICAgICB2YXIgY2FjaGVLZXkgPSBjcmVhdGVQcmltaXRpdmVLZXkocHJpbWl0aXZlKTtcblxuICAgICAgLy8gU2VlIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdlb21ldHJ5XG4gICAgICB2YXIgY2FjaGVkID0gY2FjaGVbY2FjaGVLZXldO1xuXG4gICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgY2FjaGVkIGdlb21ldHJ5IGlmIGl0IGV4aXN0c1xuICAgICAgICBwZW5kaW5nLnB1c2goY2FjaGVkLnByb21pc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdlb21ldHJ5UHJvbWlzZTtcblxuICAgICAgICBpZiAocHJpbWl0aXZlLmV4dGVuc2lvbnMgJiYgcHJpbWl0aXZlLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfRFJBQ09fTUVTSF9DT01QUkVTU0lPTl0pIHtcbiAgICAgICAgICAvLyBVc2UgRFJBQ08gZ2VvbWV0cnkgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gY3JlYXRlRHJhY29QcmltaXRpdmUocHJpbWl0aXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGdlb21ldHJ5XG4gICAgICAgICAgZ2VvbWV0cnlQcm9taXNlID0gYWRkUHJpbWl0aXZlQXR0cmlidXRlcyhuZXcgQnVmZmVyR2VvbWV0cnkoKSwgcHJpbWl0aXZlLCBwYXJzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FjaGUgdGhpcyBnZW9tZXRyeVxuICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSB7IHByaW1pdGl2ZTogcHJpbWl0aXZlLCBwcm9taXNlOiBnZW9tZXRyeVByb21pc2UgfTtcblxuICAgICAgICBwZW5kaW5nLnB1c2goZ2VvbWV0cnlQcm9taXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZmljYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9LaHJvbm9zR3JvdXAvZ2xURi9ibG9iL21hc3Rlci9zcGVjaWZpY2F0aW9uLzIuMC9SRUFETUUubWQjbWVzaGVzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtZXNoSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxHcm91cHxNZXNofFNraW5uZWRNZXNoPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKG1lc2hJbmRleCkge1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuXG4gICAgdmFyIG1lc2hEZWYgPSBqc29uLm1lc2hlc1ttZXNoSW5kZXhdO1xuICAgIHZhciBwcmltaXRpdmVzID0gbWVzaERlZi5wcmltaXRpdmVzO1xuXG4gICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHByaW1pdGl2ZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgdmFyIG1hdGVyaWFsID1cbiAgICAgICAgICAgIHByaW1pdGl2ZXNbaV0ubWF0ZXJpYWwgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGNyZWF0ZURlZmF1bHRNYXRlcmlhbCh0aGlzLmNhY2hlKVxuICAgICAgICAgICAgICA6IHRoaXMuZ2V0RGVwZW5kZW5jeSgnbWF0ZXJpYWwnLCBwcmltaXRpdmVzW2ldLm1hdGVyaWFsKTtcblxuICAgICAgcGVuZGluZy5wdXNoKG1hdGVyaWFsKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nLnB1c2gocGFyc2VyLmxvYWRHZW9tZXRyaWVzKHByaW1pdGl2ZXMpKTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICB2YXIgbWF0ZXJpYWxzID0gcmVzdWx0cy5zbGljZSgwLCByZXN1bHRzLmxlbmd0aCAtIDEpO1xuICAgICAgdmFyIGdlb21ldHJpZXMgPSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHZhciBtZXNoZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ2VvbWV0cmllcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG4gICAgICAgIHZhciBwcmltaXRpdmUgPSBwcmltaXRpdmVzW2ldO1xuXG4gICAgICAgIC8vIDEuIGNyZWF0ZSBNZXNoXG5cbiAgICAgICAgdmFyIG1lc2g7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsID0gbWF0ZXJpYWxzW2ldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFUyB8fFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSBXRUJHTF9DT05TVEFOVFMuVFJJQU5HTEVfU1RSSVAgfHxcbiAgICAgICAgICBwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX0ZBTiB8fFxuICAgICAgICAgIHByaW1pdGl2ZS5tb2RlID09PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gLmlzU2tpbm5lZE1lc2ggaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzKClcbiAgICAgICAgICBtZXNoID1cbiAgICAgICAgICAgIG1lc2hEZWYuaXNTa2lubmVkTWVzaCA9PT0gdHJ1ZVxuICAgICAgICAgICAgICA/IG5ldyBTa2lubmVkTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpXG4gICAgICAgICAgICAgIDogbmV3IE1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcblxuICAgICAgICAgIGlmIChtZXNoLmlzU2tpbm5lZE1lc2ggPT09IHRydWUgJiYgIW1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0Lm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIHdlIG5vcm1hbGl6ZSBmbG9hdGluZyBwb2ludCBza2luIHdlaWdodCBhcnJheSB0byBmaXggbWFsZm9ybWVkIGFzc2V0cyAoc2VlICMxNTMxOSlcbiAgICAgICAgICAgIC8vIGl0J3MgaW1wb3J0YW50IHRvIHNraXAgdGhpcyBmb3Igbm9uLWZsb2F0MzIgZGF0YSBzaW5jZSBub3JtYWxpemVTa2luV2VpZ2h0cyBhc3N1bWVzIG5vbi1ub3JtYWxpemVkIGlucHV0c1xuICAgICAgICAgICAgbWVzaC5ub3JtYWxpemVTa2luV2VpZ2h0cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlRSSUFOR0xFX1NUUklQKSB7XG4gICAgICAgICAgICBtZXNoLmdlb21ldHJ5ID0gdG9UcmlhbmdsZXNEcmF3TW9kZShtZXNoLmdlb21ldHJ5LCBUcmlhbmdsZVN0cmlwRHJhd01vZGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJpbWl0aXZlLm1vZGUgPT09IFdFQkdMX0NPTlNUQU5UUy5UUklBTkdMRV9GQU4pIHtcbiAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkgPSB0b1RyaWFuZ2xlc0RyYXdNb2RlKG1lc2guZ2VvbWV0cnksIFRyaWFuZ2xlRmFuRHJhd01vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVTKSB7XG4gICAgICAgICAgbWVzaCA9IG5ldyBMaW5lU2VnbWVudHMoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfU1RSSVApIHtcbiAgICAgICAgICBtZXNoID0gbmV3IExpbmUoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLkxJTkVfTE9PUCkge1xuICAgICAgICAgIG1lc2ggPSBuZXcgTGluZUxvb3AoZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgfSBlbHNlIGlmIChwcmltaXRpdmUubW9kZSA9PT0gV0VCR0xfQ09OU1RBTlRTLlBPSU5UUykge1xuICAgICAgICAgIG1lc2ggPSBuZXcgUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBQcmltaXRpdmUgbW9kZSB1bnN1cHBvcnRlZDogJyArIHByaW1pdGl2ZS5tb2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXNoLmdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHVwZGF0ZU1vcnBoVGFyZ2V0cyhtZXNoLCBtZXNoRGVmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2gubmFtZSA9IG1lc2hEZWYubmFtZSB8fCAnbWVzaF8nICsgbWVzaEluZGV4O1xuXG4gICAgICAgIGlmIChnZW9tZXRyaWVzLmxlbmd0aCA+IDEpIG1lc2gubmFtZSArPSAnXycgKyBpO1xuXG4gICAgICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEobWVzaCwgbWVzaERlZik7XG5cbiAgICAgICAgcGFyc2VyLmFzc2lnbkZpbmFsTWF0ZXJpYWwobWVzaCk7XG5cbiAgICAgICAgbWVzaGVzLnB1c2gobWVzaCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBtZXNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBtZXNoZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICBncm91cC5hZGQobWVzaGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjY2FtZXJhc1xuICAgKiBAcGFyYW0ge251bWJlcn0gY2FtZXJhSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxUSFJFRS5DYW1lcmE+fVxuICAgKi9cbiAgR0xURlBhcnNlci5wcm90b3R5cGUubG9hZENhbWVyYSA9IGZ1bmN0aW9uIChjYW1lcmFJbmRleCkge1xuICAgIHZhciBjYW1lcmE7XG4gICAgdmFyIGNhbWVyYURlZiA9IHRoaXMuanNvbi5jYW1lcmFzW2NhbWVyYUluZGV4XTtcbiAgICB2YXIgcGFyYW1zID0gY2FtZXJhRGVmW2NhbWVyYURlZi50eXBlXTtcblxuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1RIUkVFLkdMVEZMb2FkZXI6IE1pc3NpbmcgY2FtZXJhIHBhcmFtZXRlcnMuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGNhbWVyYURlZi50eXBlID09PSAncGVyc3BlY3RpdmUnKSB7XG4gICAgICBjYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICAgIE1hdGhVdGlscy5yYWRUb0RlZyhwYXJhbXMueWZvdiksXG4gICAgICAgIHBhcmFtcy5hc3BlY3RSYXRpbyB8fCAxLFxuICAgICAgICBwYXJhbXMuem5lYXIgfHwgMSxcbiAgICAgICAgcGFyYW1zLnpmYXIgfHwgMmU2XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY2FtZXJhRGVmLnR5cGUgPT09ICdvcnRob2dyYXBoaWMnKSB7XG4gICAgICBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICAtcGFyYW1zLnhtYWcsXG4gICAgICAgIHBhcmFtcy54bWFnLFxuICAgICAgICBwYXJhbXMueW1hZyxcbiAgICAgICAgLXBhcmFtcy55bWFnLFxuICAgICAgICBwYXJhbXMuem5lYXIsXG4gICAgICAgIHBhcmFtcy56ZmFyXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjYW1lcmFEZWYubmFtZSkgY2FtZXJhLm5hbWUgPSBjYW1lcmFEZWYubmFtZTtcblxuICAgIGFzc2lnbkV4dHJhc1RvVXNlckRhdGEoY2FtZXJhLCBjYW1lcmFEZWYpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYW1lcmEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjc2tpbnNcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5JbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBHTFRGUGFyc2VyLnByb3RvdHlwZS5sb2FkU2tpbiA9IGZ1bmN0aW9uIChza2luSW5kZXgpIHtcbiAgICB2YXIgc2tpbkRlZiA9IHRoaXMuanNvbi5za2luc1tza2luSW5kZXhdO1xuXG4gICAgdmFyIHNraW5FbnRyeSA9IHsgam9pbnRzOiBza2luRGVmLmpvaW50cyB9O1xuXG4gICAgaWYgKHNraW5EZWYuaW52ZXJzZUJpbmRNYXRyaWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNraW5FbnRyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVwZW5kZW5jeSgnYWNjZXNzb3InLCBza2luRGVmLmludmVyc2VCaW5kTWF0cmljZXMpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICBza2luRW50cnkuaW52ZXJzZUJpbmRNYXRyaWNlcyA9IGFjY2Vzc29yO1xuXG4gICAgICByZXR1cm4gc2tpbkVudHJ5O1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZpY2F0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYvdHJlZS9tYXN0ZXIvc3BlY2lmaWNhdGlvbi8yLjAjYW5pbWF0aW9uc1xuICAgKiBAcGFyYW0ge251bWJlcn0gYW5pbWF0aW9uSW5kZXhcbiAgICogQHJldHVybiB7UHJvbWlzZTxBbmltYXRpb25DbGlwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRBbmltYXRpb24gPSBmdW5jdGlvbiAoYW5pbWF0aW9uSW5kZXgpIHtcbiAgICB2YXIganNvbiA9IHRoaXMuanNvbjtcblxuICAgIHZhciBhbmltYXRpb25EZWYgPSBqc29uLmFuaW1hdGlvbnNbYW5pbWF0aW9uSW5kZXhdO1xuXG4gICAgdmFyIHBlbmRpbmdOb2RlcyA9IFtdO1xuICAgIHZhciBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ091dHB1dEFjY2Vzc29ycyA9IFtdO1xuICAgIHZhciBwZW5kaW5nU2FtcGxlcnMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ1RhcmdldHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVscy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IGFuaW1hdGlvbkRlZi5jaGFubmVsc1tpXTtcbiAgICAgIHZhciBzYW1wbGVyID0gYW5pbWF0aW9uRGVmLnNhbXBsZXJzW2NoYW5uZWwuc2FtcGxlcl07XG4gICAgICB2YXIgdGFyZ2V0ID0gY2hhbm5lbC50YXJnZXQ7XG4gICAgICB2YXIgbmFtZSA9IHRhcmdldC5ub2RlICE9PSB1bmRlZmluZWQgPyB0YXJnZXQubm9kZSA6IHRhcmdldC5pZDsgLy8gTk9URTogdGFyZ2V0LmlkIGlzIGRlcHJlY2F0ZWQuXG4gICAgICB2YXIgaW5wdXQgPVxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIuaW5wdXRdXG4gICAgICAgICAgICAgIDogc2FtcGxlci5pbnB1dDtcbiAgICAgIHZhciBvdXRwdXQgPVxuICAgICAgICAgICAgYW5pbWF0aW9uRGVmLnBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGFuaW1hdGlvbkRlZi5wYXJhbWV0ZXJzW3NhbXBsZXIub3V0cHV0XVxuICAgICAgICAgICAgICA6IHNhbXBsZXIub3V0cHV0O1xuXG4gICAgICBwZW5kaW5nTm9kZXMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ25vZGUnLCBuYW1lKSk7XG4gICAgICBwZW5kaW5nSW5wdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgaW5wdXQpKTtcbiAgICAgIHBlbmRpbmdPdXRwdXRBY2Nlc3NvcnMucHVzaCh0aGlzLmdldERlcGVuZGVuY3koJ2FjY2Vzc29yJywgb3V0cHV0KSk7XG4gICAgICBwZW5kaW5nU2FtcGxlcnMucHVzaChzYW1wbGVyKTtcbiAgICAgIHBlbmRpbmdUYXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgUHJvbWlzZS5hbGwocGVuZGluZ05vZGVzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdJbnB1dEFjY2Vzc29ycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nT3V0cHV0QWNjZXNzb3JzKSxcbiAgICAgIFByb21pc2UuYWxsKHBlbmRpbmdTYW1wbGVycyksXG4gICAgICBQcm9taXNlLmFsbChwZW5kaW5nVGFyZ2V0cyksXG4gICAgXSkudGhlbihmdW5jdGlvbiAoZGVwZW5kZW5jaWVzKSB7XG4gICAgICB2YXIgbm9kZXMgPSBkZXBlbmRlbmNpZXNbMF07XG4gICAgICB2YXIgaW5wdXRBY2Nlc3NvcnMgPSBkZXBlbmRlbmNpZXNbMV07XG4gICAgICB2YXIgb3V0cHV0QWNjZXNzb3JzID0gZGVwZW5kZW5jaWVzWzJdO1xuICAgICAgdmFyIHNhbXBsZXJzID0gZGVwZW5kZW5jaWVzWzNdO1xuICAgICAgdmFyIHRhcmdldHMgPSBkZXBlbmRlbmNpZXNbNF07XG5cbiAgICAgIHZhciB0cmFja3MgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZXMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICB2YXIgaW5wdXRBY2Nlc3NvciA9IGlucHV0QWNjZXNzb3JzW2ldO1xuICAgICAgICB2YXIgb3V0cHV0QWNjZXNzb3IgPSBvdXRwdXRBY2Nlc3NvcnNbaV07XG4gICAgICAgIHZhciBzYW1wbGVyID0gc2FtcGxlcnNbaV07XG4gICAgICAgIHZhciB0YXJnZXQgPSB0YXJnZXRzW2ldO1xuXG4gICAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIG5vZGUudXBkYXRlTWF0cml4KCk7XG4gICAgICAgIG5vZGUubWF0cml4QXV0b1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIFR5cGVkS2V5ZnJhbWVUcmFjaztcblxuICAgICAgICBzd2l0Y2ggKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0pIHtcbiAgICAgICAgICBjYXNlIFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzOlxuICAgICAgICAgICAgVHlwZWRLZXlmcmFtZVRyYWNrID0gTnVtYmVyS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucm90YXRpb246XG4gICAgICAgICAgICBUeXBlZEtleWZyYW1lVHJhY2sgPSBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMucG9zaXRpb246XG4gICAgICAgICAgY2FzZSBQQVRIX1BST1BFUlRJRVMuc2NhbGU6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIFR5cGVkS2V5ZnJhbWVUcmFjayA9IFZlY3RvcktleWZyYW1lVHJhY2s7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YXJnZXROYW1lID0gbm9kZS5uYW1lID8gbm9kZS5uYW1lIDogbm9kZS51dWlkO1xuXG4gICAgICAgIHZhciBpbnRlcnBvbGF0aW9uID1cbiAgICAgICAgICAgICAgc2FtcGxlci5pbnRlcnBvbGF0aW9uICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IElOVEVSUE9MQVRJT05bc2FtcGxlci5pbnRlcnBvbGF0aW9uXVxuICAgICAgICAgICAgICAgIDogSW50ZXJwb2xhdGVMaW5lYXI7XG5cbiAgICAgICAgdmFyIHRhcmdldE5hbWVzID0gW107XG5cbiAgICAgICAgaWYgKFBBVEhfUFJPUEVSVElFU1t0YXJnZXQucGF0aF0gPT09IFBBVEhfUFJPUEVSVElFUy53ZWlnaHRzKSB7XG4gICAgICAgICAgLy8gTm9kZSBtYXkgYmUgYSBHcm91cCAoZ2xURiBtZXNoIHdpdGggc2V2ZXJhbCBwcmltaXRpdmVzKSBvciBhIE1lc2guXG4gICAgICAgICAgbm9kZS50cmF2ZXJzZShmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0LmlzTWVzaCA9PT0gdHJ1ZSAmJiBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzKSB7XG4gICAgICAgICAgICAgIHRhcmdldE5hbWVzLnB1c2gob2JqZWN0Lm5hbWUgPyBvYmplY3QubmFtZSA6IG9iamVjdC51dWlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXROYW1lcy5wdXNoKHRhcmdldE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dEFycmF5ID0gb3V0cHV0QWNjZXNzb3IuYXJyYXk7XG5cbiAgICAgICAgaWYgKG91dHB1dEFjY2Vzc29yLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICB2YXIgc2NhbGU7XG5cbiAgICAgICAgICBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IEludDhBcnJheSkge1xuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMTI3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDI1NTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG91dHB1dEFycmF5LmNvbnN0cnVjdG9yID09IEludDE2QXJyYXkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMSAvIDMyNzY3O1xuICAgICAgICAgIH0gZWxzZSBpZiAob3V0cHV0QXJyYXkuY29uc3RydWN0b3IgPT09IFVpbnQxNkFycmF5KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyA2NTUzNTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUSFJFRS5HTFRGTG9hZGVyOiBVbnN1cHBvcnRlZCBvdXRwdXQgYWNjZXNzb3IgY29tcG9uZW50IHR5cGUuJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjYWxlZCA9IG5ldyBGbG9hdDMyQXJyYXkob3V0cHV0QXJyYXkubGVuZ3RoKTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbCA9IG91dHB1dEFycmF5Lmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgIHNjYWxlZFtqXSA9IG91dHB1dEFycmF5W2pdICogc2NhbGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3V0cHV0QXJyYXkgPSBzY2FsZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSB0YXJnZXROYW1lcy5sZW5ndGg7IGogPCBqbDsgaisrKSB7XG4gICAgICAgICAgdmFyIHRyYWNrID0gbmV3IFR5cGVkS2V5ZnJhbWVUcmFjayhcbiAgICAgICAgICAgIHRhcmdldE5hbWVzW2pdICsgJy4nICsgUEFUSF9QUk9QRVJUSUVTW3RhcmdldC5wYXRoXSxcbiAgICAgICAgICAgIGlucHV0QWNjZXNzb3IuYXJyYXksXG4gICAgICAgICAgICBvdXRwdXRBcnJheSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb25cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gT3ZlcnJpZGUgaW50ZXJwb2xhdGlvbiB3aXRoIGN1c3RvbSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICAgICBpZiAoc2FtcGxlci5pbnRlcnBvbGF0aW9uID09PSAnQ1VCSUNTUExJTkUnKSB7XG4gICAgICAgICAgICB0cmFjay5jcmVhdGVJbnRlcnBvbGFudCA9IGZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZShyZXN1bHQpIHtcbiAgICAgICAgICAgICAgLy8gQSBDVUJJQ1NQTElORSBrZXlmcmFtZSBpbiBnbFRGIGhhcyB0aHJlZSBvdXRwdXQgdmFsdWVzIGZvciBlYWNoIGlucHV0IHZhbHVlLFxuICAgICAgICAgICAgICAvLyByZXByZXNlbnRpbmcgaW5UYW5nZW50LCBzcGxpbmVWZXJ0ZXgsIGFuZCBvdXRUYW5nZW50LiBBcyBhIHJlc3VsdCwgdHJhY2suZ2V0VmFsdWVTaXplKClcbiAgICAgICAgICAgICAgLy8gbXVzdCBiZSBkaXZpZGVkIGJ5IHRocmVlIHRvIGdldCB0aGUgaW50ZXJwb2xhbnQncyBzYW1wbGVTaXplIGFyZ3VtZW50LlxuXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgR0xURkN1YmljU3BsaW5lSW50ZXJwb2xhbnQoXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcyxcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlU2l6ZSgpIC8gMyxcbiAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIE1hcmsgYXMgQ1VCSUNTUExJTkUuIGB0cmFjay5nZXRJbnRlcnBvbGF0aW9uKClgIGRvZXNuJ3Qgc3VwcG9ydCBjdXN0b20gaW50ZXJwb2xhbnRzLlxuICAgICAgICAgICAgdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbmFtZSA9IGFuaW1hdGlvbkRlZi5uYW1lID8gYW5pbWF0aW9uRGVmLm5hbWUgOiAnYW5pbWF0aW9uXycgKyBhbmltYXRpb25JbmRleDtcblxuICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb25DbGlwKG5hbWUsIHVuZGVmaW5lZCwgdHJhY2tzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI25vZGVzLWFuZC1oaWVyYXJjaHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPE9iamVjdDNEPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWROb2RlID0gZnVuY3Rpb24gKG5vZGVJbmRleCkge1xuICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgIHZhciBleHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zO1xuICAgIHZhciBwYXJzZXIgPSB0aGlzO1xuXG4gICAgdmFyIG1lc2hSZWZlcmVuY2VzID0ganNvbi5tZXNoUmVmZXJlbmNlcztcbiAgICB2YXIgbWVzaFVzZXMgPSBqc29uLm1lc2hVc2VzO1xuXG4gICAgdmFyIG5vZGVEZWYgPSBqc29uLm5vZGVzW25vZGVJbmRleF07XG5cbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwZW5kaW5nID0gW107XG5cbiAgICAgIGlmIChub2RlRGVmLm1lc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwZW5kaW5nLnB1c2goXG4gICAgICAgICAgcGFyc2VyLmdldERlcGVuZGVuY3koJ21lc2gnLCBub2RlRGVmLm1lc2gpLnRoZW4oZnVuY3Rpb24gKG1lc2gpIHtcbiAgICAgICAgICAgIHZhciBub2RlO1xuXG4gICAgICAgICAgICBpZiAobWVzaFJlZmVyZW5jZXNbbm9kZURlZi5tZXNoXSA+IDEpIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlTnVtID0gbWVzaFVzZXNbbm9kZURlZi5tZXNoXSsrO1xuXG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoLmNsb25lKCk7XG4gICAgICAgICAgICAgIG5vZGUubmFtZSArPSAnX2luc3RhbmNlXycgKyBpbnN0YW5jZU51bTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBtZXNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZWlnaHRzIGFyZSBwcm92aWRlZCBvbiB0aGUgbm9kZSwgb3ZlcnJpZGUgd2VpZ2h0cyBvbiB0aGUgbWVzaC5cbiAgICAgICAgICAgIGlmIChub2RlRGVmLndlaWdodHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBub2RlLnRyYXZlcnNlKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvLmlzTWVzaCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZURlZi53ZWlnaHRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIG8ubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ldID0gbm9kZURlZi53ZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlRGVmLmNhbWVyYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnY2FtZXJhJywgbm9kZURlZi5jYW1lcmEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBub2RlRGVmLmV4dGVuc2lvbnMgJiZcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0gJiZcbiAgICAgICAgbm9kZURlZi5leHRlbnNpb25zW0VYVEVOU0lPTlMuS0hSX0xJR0hUU19QVU5DVFVBTF0ubGlnaHQgIT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChcbiAgICAgICAgICBwYXJzZXIuZ2V0RGVwZW5kZW5jeSgnbGlnaHQnLCBub2RlRGVmLmV4dGVuc2lvbnNbRVhURU5TSU9OUy5LSFJfTElHSFRTX1BVTkNUVUFMXS5saWdodClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgIH0pKCkudGhlbihmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAgdmFyIG5vZGU7XG5cbiAgICAgIC8vIC5pc0JvbmUgaXNuJ3QgaW4gZ2xURiBzcGVjLiBTZWUgLm1hcmtEZWZzXG4gICAgICBpZiAobm9kZURlZi5pc0JvbmUgPT09IHRydWUpIHtcbiAgICAgICAgbm9kZSA9IG5ldyBCb25lKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID4gMSkge1xuICAgICAgICBub2RlID0gbmV3IEdyb3VwKCk7XG4gICAgICB9IGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIG5vZGUgPSBvYmplY3RzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5ldyBPYmplY3QzRCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZSAhPT0gb2JqZWN0c1swXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBvYmplY3RzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICBub2RlLmFkZChvYmplY3RzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobm9kZURlZi5uYW1lKSB7XG4gICAgICAgIG5vZGUudXNlckRhdGEubmFtZSA9IG5vZGVEZWYubmFtZTtcbiAgICAgICAgbm9kZS5uYW1lID0gUHJvcGVydHlCaW5kaW5nLnNhbml0aXplTm9kZU5hbWUobm9kZURlZi5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgYXNzaWduRXh0cmFzVG9Vc2VyRGF0YShub2RlLCBub2RlRGVmKTtcblxuICAgICAgaWYgKG5vZGVEZWYuZXh0ZW5zaW9ucykgYWRkVW5rbm93bkV4dGVuc2lvbnNUb1VzZXJEYXRhKGV4dGVuc2lvbnMsIG5vZGUsIG5vZGVEZWYpO1xuXG4gICAgICBpZiAobm9kZURlZi5tYXRyaXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgbWF0cml4LmZyb21BcnJheShub2RlRGVmLm1hdHJpeCk7XG4gICAgICAgIG5vZGUuYXBwbHlNYXRyaXg0KG1hdHJpeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZURlZi50cmFuc2xhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbm9kZS5wb3NpdGlvbi5mcm9tQXJyYXkobm9kZURlZi50cmFuc2xhdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZURlZi5yb3RhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbm9kZS5xdWF0ZXJuaW9uLmZyb21BcnJheShub2RlRGVmLnJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlRGVmLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBub2RlLnNjYWxlLmZyb21BcnJheShub2RlRGVmLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmaWNhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3NjZW5lc1xuICAgKiBAcGFyYW0ge251bWJlcn0gc2NlbmVJbmRleFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEdyb3VwPn1cbiAgICovXG4gIEdMVEZQYXJzZXIucHJvdG90eXBlLmxvYWRTY2VuZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gc2NlbmUgbm9kZSBoaWVyYWNoeSBidWlsZGVyXG5cbiAgICBmdW5jdGlvbiBidWlsZE5vZGVIaWVyYWNoeShub2RlSWQsIHBhcmVudE9iamVjdCwganNvbiwgcGFyc2VyKSB7XG4gICAgICB2YXIgbm9kZURlZiA9IGpzb24ubm9kZXNbbm9kZUlkXTtcblxuICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAuZ2V0RGVwZW5kZW5jeSgnbm9kZScsIG5vZGVJZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAobm9kZURlZi5za2luID09PSB1bmRlZmluZWQpIHJldHVybiBub2RlO1xuXG4gICAgICAgICAgLy8gYnVpbGQgc2tlbGV0b24gaGVyZSBhcyB3ZWxsXG5cbiAgICAgICAgICB2YXIgc2tpbkVudHJ5O1xuXG4gICAgICAgICAgcmV0dXJuIHBhcnNlclxuICAgICAgICAgICAgLmdldERlcGVuZGVuY3koJ3NraW4nLCBub2RlRGVmLnNraW4pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2tpbikge1xuICAgICAgICAgICAgICBza2luRW50cnkgPSBza2luO1xuXG4gICAgICAgICAgICAgIHZhciBwZW5kaW5nSm9pbnRzID0gW107XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gc2tpbkVudHJ5LmpvaW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZ0pvaW50cy5wdXNoKHBhcnNlci5nZXREZXBlbmRlbmN5KCdub2RlJywgc2tpbkVudHJ5LmpvaW50c1tpXSkpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmdKb2ludHMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChqb2ludE5vZGVzKSB7XG4gICAgICAgICAgICAgIG5vZGUudHJhdmVyc2UoZnVuY3Rpb24gKG1lc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1lc2guaXNNZXNoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB2YXIgYm9uZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYm9uZUludmVyc2VzID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamwgPSBqb2ludE5vZGVzLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciBqb2ludE5vZGUgPSBqb2ludE5vZGVzW2pdO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoam9pbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvbmVzLnB1c2goam9pbnROb2RlKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeDQoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdC5mcm9tQXJyYXkoc2tpbkVudHJ5LmludmVyc2VCaW5kTWF0cmljZXMuYXJyYXksIGogKiAxNik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBib25lSW52ZXJzZXMucHVzaChtYXQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICdUSFJFRS5HTFRGTG9hZGVyOiBKb2ludCBcIiVzXCIgY291bGQgbm90IGJlIGZvdW5kLicsXG4gICAgICAgICAgICAgICAgICAgICAgc2tpbkVudHJ5LmpvaW50c1tqXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1lc2guYmluZChuZXcgU2tlbGV0b24oYm9uZXMsIGJvbmVJbnZlcnNlcyksIG1lc2gubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIC8vIGJ1aWxkIG5vZGUgaGllcmFjaHlcblxuICAgICAgICAgIHBhcmVudE9iamVjdC5hZGQobm9kZSk7XG5cbiAgICAgICAgICB2YXIgcGVuZGluZyA9IFtdO1xuXG4gICAgICAgICAgaWYgKG5vZGVEZWYuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGVEZWYuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShjaGlsZCwgbm9kZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBlbmRpbmcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbG9hZFNjZW5lKHNjZW5lSW5kZXgpIHtcbiAgICAgIHZhciBqc29uID0gdGhpcy5qc29uO1xuICAgICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmV4dGVuc2lvbnM7XG4gICAgICB2YXIgc2NlbmVEZWYgPSB0aGlzLmpzb24uc2NlbmVzW3NjZW5lSW5kZXhdO1xuICAgICAgdmFyIHBhcnNlciA9IHRoaXM7XG5cbiAgICAgIC8vIExvYWRlciByZXR1cm5zIEdyb3VwLCBub3QgU2NlbmUuXG4gICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE4MzQyI2lzc3VlY29tbWVudC01Nzg5ODExNzJcbiAgICAgIHZhciBzY2VuZSA9IG5ldyBHcm91cCgpO1xuICAgICAgaWYgKHNjZW5lRGVmLm5hbWUpIHNjZW5lLm5hbWUgPSBzY2VuZURlZi5uYW1lO1xuXG4gICAgICBhc3NpZ25FeHRyYXNUb1VzZXJEYXRhKHNjZW5lLCBzY2VuZURlZik7XG5cbiAgICAgIGlmIChzY2VuZURlZi5leHRlbnNpb25zKSBhZGRVbmtub3duRXh0ZW5zaW9uc1RvVXNlckRhdGEoZXh0ZW5zaW9ucywgc2NlbmUsIHNjZW5lRGVmKTtcblxuICAgICAgdmFyIG5vZGVJZHMgPSBzY2VuZURlZi5ub2RlcyB8fCBbXTtcblxuICAgICAgdmFyIHBlbmRpbmcgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gbm9kZUlkcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgICAgIHBlbmRpbmcucHVzaChidWlsZE5vZGVIaWVyYWNoeShub2RlSWRzW2ldLCBzY2VuZSwganNvbiwgcGFyc2VyKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZW5kaW5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNjZW5lO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSkoKTtcblxuICByZXR1cm4gR0xURkxvYWRlcjtcbn0pKCk7XG5cbmV4cG9ydCB7IEdMVEZMb2FkZXIgfTtcbiIsIi8vIEdsb2JhbCBpbXBvcnRzIC1cbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xuaW1wb3J0IFRXRUVOIGZyb20gXCJAdHdlZW5qcy90d2Vlbi5qc1wiO1xuXG4vLyBMb2NhbCBpbXBvcnRzIC1cbi8vIENvbXBvbmVudHNcbmltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi9jb21wb25lbnRzL3JlbmRlcmVyXCI7XG5pbXBvcnQgQ2FtZXJhIGZyb20gXCIuL2NvbXBvbmVudHMvY2FtZXJhXCI7XG5pbXBvcnQgTGlnaHQgZnJvbSBcIi4vY29tcG9uZW50cy9saWdodFwiO1xuXG4vLyBIZWxwZXJzXG5pbXBvcnQgU3RhdHMgZnJvbSBcIi4vaGVscGVycy9zdGF0c1wiO1xuXG4vLyBNb2RlbFxuaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4vbW9kZWwvdGV4dHVyZVwiO1xuXG4vLyBNYW5hZ2Vyc1xuaW1wb3J0IEludGVyYWN0aW9uIGZyb20gXCIuL21hbmFnZXJzL2ludGVyYWN0aW9uXCI7XG5cbi8vIGRhdGFcbmltcG9ydCBDb25maWcgZnJvbSBcIi4vLi4vZGF0YS9jb25maWdcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vZGF0YS9zdG9yZVwiO1xuXG4vLyBvYmplY3RzXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL29iamVjdHMvcGxheWVyXCI7XG5pbXBvcnQgQXN0ZXJvaWQsIHsgc3Bhd25Bc3Rlcm9pZHMgfSBmcm9tIFwiLi9vYmplY3RzL2FzdGVyb2lkXCI7XG5pbXBvcnQgU3RhciwgeyBzcGF3blN0YXJzIH0gZnJvbSBcIi4vb2JqZWN0cy9zdGFyc1wiO1xuXG4vLyB1dGlsc1xuaW1wb3J0IGdldENvbGxpc2lvbnMgZnJvbSBcIi4uL3V0aWxzL2NvbGxpc2lvbnNcIlxuLy8gLS0gRW5kIG9mIGltcG9ydHNcblxuLy8gVGhpcyBjbGFzcyBpbnN0YW50aWF0ZXMgYW5kIHRpZXMgYWxsIG9mIHRoZSBjb21wb25lbnRzIHRvZ2V0aGVyLCBzdGFydHMgdGhlIGxvYWRpbmcgcHJvY2VzcyBhbmQgcmVuZGVycyB0aGUgbWFpbiBsb29wXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgLy8gU2V0IGNvbnRhaW5lciBwcm9wZXJ0eSB0byBjb250YWluZXIgZWxlbWVudFxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgLy8gU3RhcnQgVGhyZWUgY2xvY2tcbiAgICB0aGlzLmNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XG5cbiAgICAvLyBNYWluIHNjZW5lIGNyZWF0aW9uXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZ0V4cDIoQ29uZmlnLmZvZy5jb2xvciwgQ29uZmlnLmZvZy5uZWFyKTtcblxuICAgIC8vIEdldCBEZXZpY2UgUGl4ZWwgUmF0aW8gZmlyc3QgZm9yIHJldGluYVxuICAgIGlmICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgQ29uZmlnLmRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIH1cblxuICAgIC8vIE1haW4gcmVuZGVyZXIgY29uc3RydWN0b3JcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuc2NlbmUsIGNvbnRhaW5lcik7XG5cbiAgICAvLyBDb21wb25lbnRzIGluc3RhbnRpYXRpb25zXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XG4gICAgdGhpcy5saWdodCA9IG5ldyBMaWdodCh0aGlzLnNjZW5lKTtcblxuICAgIC8vIENyZWF0ZSBhbmQgcGxhY2UgbGlnaHRzIGluIHNjZW5lXG4gICAgY29uc3QgbGlnaHRzID0gW1wiYW1iaWVudFwiLCBcImRpcmVjdGlvbmFsXCIsIFwicG9pbnRcIiwgXCJoZW1pXCJdO1xuICAgIGxpZ2h0cy5mb3JFYWNoKChsaWdodCkgPT4gdGhpcy5saWdodC5wbGFjZShsaWdodCkpO1xuXG4gICAgLy8gU2V0IHVwIHJTdGF0cyBpZiBkZXYgZW52aXJvbm1lbnRcbiAgICBpZiAoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xuICAgICAgdGhpcy5zdGF0cyA9IG5ldyBTdGF0cyh0aGlzLnJlbmRlcmVyKTtcbiAgICAgIHRoaXMuc3RhdHMuc2V0VXAoKTtcbiAgICB9XG5cbiAgICAvLyBJbnN0YW50aWF0ZSBzY29yZSBhbmQgaGVhbHRoXG4gICAgdGhpcy5oZWFsdGggPSAxMDA7XG4gICAgdGhpcy5zY29yZSA9IDA7XG5cbiAgICAvLyBJbnN0YW50aWF0ZSB0ZXh0dXJlIGNsYXNzXG4gICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUoKTtcblxuICAgIC8vIFN0YXJ0IGxvYWRpbmcgdGhlIHRleHR1cmVzIGFuZCB0aGVuIGdvIG9uIHRvIGxvYWQgdGhlIG1vZGVsIGFmdGVyIHRoZSB0ZXh0dXJlIFByb21pc2VzIGhhdmUgcmVzb2x2ZWRcbiAgICB0aGlzLnRleHR1cmUubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5tYW5hZ2VyID0gbmV3IFRIUkVFLkxvYWRpbmdNYW5hZ2VyKCk7XG5cbiAgICAgIC8vIExvYWQgbW9kZWxzXG4gICAgICAvLyBMb2FkIHBsYXllciBtb2RlbFxuICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMuc2NlbmUsIHRoaXMubWFuYWdlciwgdGhpcy50ZXh0dXJlLnRleHR1cmVzKTtcbiAgICAgIHRoaXMucGxheWVyLmxvYWQoQ29uZmlnLm1vZGVscy5wbGF5ZXIpO1xuXG4gICAgICAvLyBMb2FkIGFzdGVyb2lkIG1vZGVsc1xuICAgICAgdGhpcy5hc3Rlcm9pZE9uZSA9IG5ldyBBc3Rlcm9pZCh0aGlzLnNjZW5lLCB0aGlzLm1hbmFnZXIsIHRoaXMudGV4dHVyZXMpO1xuICAgICAgY29uc3QgYXN0ZXJvaWRPbmVEYXRhID0ge1xuICAgICAgICBwb3NpdGlvbjogWzEwMDAsIDEwMDAsIDEwMDBdLFxuICAgICAgICBwYXRoOiBDb25maWcubW9kZWxzLmFzdGVyb2lkLnBhdGhzWzBdLFxuICAgICAgICAuLi5Db25maWcubW9kZWxzLmFzdGVyb2lkXG4gICAgICB9XG4gICAgICB0aGlzLmFzdGVyb2lkT25lLmxvYWQoYXN0ZXJvaWRPbmVEYXRhKTtcblxuICAgICAgdGhpcy5hc3Rlcm9pZFR3byA9IG5ldyBBc3Rlcm9pZCh0aGlzLnNjZW5lLCB0aGlzLm1hbmFnZXIsIHRoaXMudGV4dHVyZXMpO1xuICAgICAgY29uc3QgYXN0ZXJvaWRUd29EYXRhID0ge1xuICAgICAgICBwb3NpdGlvbjogWzEwMDAsIDEwMDAsIDEwMDBdLFxuICAgICAgICBwYXRoOiBDb25maWcubW9kZWxzLmFzdGVyb2lkLnBhdGhzWzFdLFxuICAgICAgICAuLi5Db25maWcubW9kZWxzLmFzdGVyb2lkXG4gICAgICB9XG4gICAgICB0aGlzLmFzdGVyb2lkVHdvLmxvYWQoYXN0ZXJvaWRUd29EYXRhKTtcblxuICAgICAgLy8gTG9hZCBzdGFyIG1vZGVsXG4gICAgICB0aGlzLnN0YXIgPSBuZXcgU3Rhcih0aGlzLnNjZW5lLCB0aGlzLm1hbmFnZXIsIHRoaXMudGV4dHVyZXMpO1xuICAgICAgdGhpcy5zdGFyLmxvYWQoe1xuICAgICAgICBwb3NpdGlvbjogWzEwMDAsIDEwMDAsIDEwMDBdLFxuICAgICAgICAuLi5Db25maWcubW9kZWxzLnN0YXJcbiAgICAgIH0pXG5cbiAgICAgIC8vIEFycmF5IHRvIHN0b3JlIGFzdGVyb2lkcywgYnVsbGV0cyBhbmQgc3RhcnNcbiAgICAgIHRoaXMuYXN0ZXJvaWRzID0gW107XG4gICAgICB0aGlzLmJ1bGxldHMgPSBbXTtcbiAgICAgIHRoaXMuc3RhcnMgPSBbXTtcblxuICAgICAgLy8gb25Qcm9ncmVzcyBjYWxsYmFja1xuICAgICAgdGhpcy5tYW5hZ2VyLm9uUHJvZ3Jlc3MgPSAoaXRlbSwgbG9hZGVkLCB0b3RhbCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtpdGVtfTogJHtsb2FkZWR9ICR7dG90YWx9YCk7XG4gICAgICB9O1xuXG5cbiAgICAgIC8vIEFsbCBsb2FkZXJzIGRvbmUgbm93XG4gICAgICB0aGlzLm1hbmFnZXIub25Mb2FkID0gKCkgPT4ge1xuICAgICAgICAvLyBTZXQgdXAgaW50ZXJhY3Rpb24gbWFuYWdlciB3aXRoIHRoZSBhcHAgbm93IHRoYXQgdGhlIG1vZGVsIGlzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICAgICAgbmV3IEludGVyYWN0aW9uKFxuICAgICAgICAgIHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcixcbiAgICAgICAgICB0aGlzLnNjZW5lLFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEV2ZXJ5dGhpbmcgaXMgbm93IGZ1bGx5IGxvYWRlZFxuICAgICAgICBDb25maWcuaXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiI3N0YXR1c1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgU3RvcmUuc3Rhci5jYW5TcGF3biA9IHRydWVcbiAgICAgICAgfSwgQ29uZmlnLm1vZGVscy5zdGFyLmNhblNwYXduSW50ZXJ2YWwgLyAyKTtcblxuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhpc1xuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2codGhpcy5zY29yZSwgdGhpcy5oZWFsdGgpO1xuICAgICAgICB9LCAzMDAwKVxuXG4gICAgICAgIC8vIFN0YXJ0IHJlbmRlcmluZyBub3dcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIHJTdGF0cyBpZiBEZXZcbiAgICBpZiAoQ29uZmlnLmlzRGV2ICYmIENvbmZpZy5pc1Nob3dpbmdTdGF0cykge1xuICAgICAgU3RhdHMuc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHJlbmRlciBmdW5jdGlvbiBhbmQgcGFzcyBpbiBjcmVhdGVkIHNjZW5lIGFuZCBjYW1lcmFcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XG5cbiAgICAvLyByU3RhdHMgaGFzIGZpbmlzaGVkIGRldGVybWluaW5nIHJlbmRlciBjYWxsIG5vd1xuICAgIGlmIChDb25maWcuaXNEZXYgJiYgQ29uZmlnLmlzU2hvd2luZ1N0YXRzKSB7XG4gICAgICBTdGF0cy5lbmQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkge1xuICAgICAgU3RvcmUuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNzdGF0dXNcIikuc3R5bGUuZGlzcGxheSA9IFwiaW5pdGlhbFwiO1xuICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNzdGF0dXNcIikuc3R5bGUuZm9udFNpemUgPSBcIjQ4XCI7XG4gICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiI3N0YXR1c1wiKS5pbm5lckhUTUwgPSBcIkdhbWUgT3ZlciFcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZWx0YSB0aW1lIGlzIHNvbWV0aW1lcyBuZWVkZWQgZm9yIGNlcnRhaW4gdXBkYXRlc1xuICAgIC8vIGNvbnN0IGRlbHRhID0gdGhpcy5jbG9jay5nZXREZWx0YSgpO1xuXG4gICAgLy8gQ2FsbCBhbnkgdmVuZG9yIG9yIG1vZHVsZSBmcmFtZSB1cGRhdGVzIGhlcmVcbiAgICBUV0VFTi51cGRhdGUoKTtcblxuICAgIC8vIEdldCBidWxsZXRzIHNob3RcbiAgICB0aGlzLmJ1bGxldHMgPSB0aGlzLmJ1bGxldHMuY29uY2F0KHRoaXMucGxheWVyLnVwZGF0ZSgpKTtcblxuICAgIC8vIEdldCBhc3Rlcm9pZCBzcGF3bmVkXG4gICAgdGhpcy5hc3Rlcm9pZHMgPSB0aGlzLmFzdGVyb2lkcy5jb25jYXQoc3Bhd25Bc3Rlcm9pZHModGhpcy5hc3Rlcm9pZE9uZSwgdGhpcy5hc3Rlcm9pZFR3bykpXG5cbiAgICAvLyBHZXQgc3RhcnMgc3Bhd25lZFxuICAgIHRoaXMuc3RhcnMgPSB0aGlzLnN0YXJzLmNvbmNhdChzcGF3blN0YXJzKHRoaXMuc3RhcikpO1xuXG4gICAgLy8gQ2hlY2sgY29sbGlzaW9uc1xuICAgIGNvbnN0IGNvbGxpZGFibGVBc3Rlcm9pZHMgPSB0aGlzLmFzdGVyb2lkcy5maWx0ZXIoYXN0ZXJvaWQgPT4gIWFzdGVyb2lkLmRlbGV0ZWQpO1xuICAgIGNvbnN0IGNvbGxpZGFibGVCdWxsZXRzID0gdGhpcy5idWxsZXRzLmZpbHRlcihidWxsZXQgPT4gIWJ1bGxldC5kZWxldGVkKTtcbiAgICBjb25zdCBjb2xsaWRhYmxlU3RhcnMgPSB0aGlzLnN0YXJzLmZpbHRlcihzdGFyPT4gIXN0YXIuZGVsZXRlZCk7XG5cbiAgICAvLyBQbGF5ZXIgLSBBc3Rlcm9pZFxuICAgIGxldCBjb2xsaXNpb25zPSBnZXRDb2xsaXNpb25zKHRoaXMucGxheWVyLnJlZiwgY29sbGlkYWJsZUFzdGVyb2lkcy5tYXAoYXN0ZXJvaWQgPT4gYXN0ZXJvaWQucmVmKSk7XG4gICAgaWYoY29sbGlzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmhlYWx0aCArPSBDb25maWcubW9kZWxzLmFzdGVyb2lkLmhlYWx0aDtcbiAgICB9XG4gICAgY29sbGlzaW9ucy5mb3JFYWNoKGFzdGVyb2lkSWR4ID0+IHtcbiAgICAgIGNvbGxpZGFibGVBc3Rlcm9pZHNbYXN0ZXJvaWRJZHhdLnVubG9hZCgpO1xuICAgICAgY29sbGlkYWJsZUFzdGVyb2lkc1thc3Rlcm9pZElkeF0uZGVsZXRlZCA9IHRydWU7XG4gICAgfSlcblxuICAgIC8vIFBsYXllciAtIFN0YXJcbiAgICBjb2xsaXNpb25zID0gZ2V0Q29sbGlzaW9ucyh0aGlzLnBsYXllci5yZWYsIGNvbGxpZGFibGVTdGFycy5tYXAoc3RhciA9PiBzdGFyLnJlZikpO1xuICAgIGlmKGNvbGxpc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zY29yZSArPSBDb25maWcubW9kZWxzLnN0YXIuc2NvcmU7XG4gICAgfVxuICAgIGNvbGxpc2lvbnMuZm9yRWFjaChzdGFySWR4ID0+IHtcbiAgICAgIGNvbGxpZGFibGVTdGFyc1tzdGFySWR4XS51bmxvYWQoKTtcbiAgICAgIGNvbGxpZGFibGVTdGFyc1tzdGFySWR4XS5kZWxldGVkID0gdHJ1ZTtcbiAgICB9KVxuXG4gICAgLy8gQnVsbGV0IC0gQXN0ZXJvaWRcbiAgICAvLyBJdGVyYXRlIGluIHBhaXJzLCBiZWNhdXNlIGJ1bGxldHMgYXJlIHN0b3JlZCBhcyBwYWlyc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sbGlkYWJsZUJ1bGxldHMubGVuZ3RoOyBpICs9IDIpIHtcblxuICAgICAgLy8gRGVsZXRlIGFzdGVyb2lkc1xuICAgICAgY29uc3QgY29sbGlzaW9ucyA9IGdldENvbGxpc2lvbnMoY29sbGlkYWJsZUJ1bGxldHNbaV0ucmVmLm1lc2gsIGNvbGxpZGFibGVBc3Rlcm9pZHMubWFwKGFzdGVyb2lkID0+IGFzdGVyb2lkLnJlZikpO1xuICAgICAgY29uc29sZS5sb2coY29sbGlzaW9ucy5sZW5ndGgpO1xuICAgICAgY29sbGlzaW9ucy5mb3JFYWNoKGFzdGVyb2lkSWR4ID0+IHtcbiAgICAgICAgY29sbGlkYWJsZUFzdGVyb2lkc1thc3Rlcm9pZElkeF0udW5sb2FkKCk7XG4gICAgICAgIGNvbGxpZGFibGVBc3Rlcm9pZHNbYXN0ZXJvaWRJZHhdLmRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNjb3JlICs9IENvbmZpZy5tb2RlbHMuYXN0ZXJvaWQuc2NvcmU7XG4gICAgICB9KVxuXG4gICAgICAvLyBEZWxldGUgYnVsbGV0c1xuICAgICAgaWYgKGNvbGxpc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbGxpZGFibGVCdWxsZXRzW2ldLnVubG9hZCgpO1xuICAgICAgICBjb2xsaWRhYmxlQnVsbGV0c1tpXS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgY29sbGlkYWJsZUJ1bGxldHNbaSsxXS51bmxvYWQoKTtcbiAgICAgICAgY29sbGlkYWJsZUJ1bGxldHNbaSsxXS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgSFVEXG4gICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNoZWFsdGhIVURcIikuaW5uZXJIVE1MID0gdGhpcy5oZWFsdGg7XG4gICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNzY29yZUhVRFwiKS5pbm5lckhUTUwgPSB0aGlzLnNjb3JlO1xuXG4gICAgLy8gUkFGXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpOyAvLyBCaW5kIHRoZSBtYWluIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxuICB9XG59XG4iLCJpbXBvcnQgS2V5Ym9hcmQgZnJvbSBcIi4uLy4uL3V0aWxzL2tleWJvYXJkXCI7XG5pbXBvcnQgSGVscGVycyBmcm9tIFwiLi4vLi4vdXRpbHMvaGVscGVyc1wiO1xuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcbmltcG9ydCBTdG9yZSBmcm9tIFwiLi4vLi4vZGF0YS9zdG9yZVwiO1xuXG4vLyBNYW5hZ2VzIGFsbCBpbnB1dCBpbnRlcmFjdGlvbnNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIHNjZW5lKSB7XG4gICAgLy8gUHJvcGVydGllc1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG5cbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXG4gICAgLy8gSW5zdGFudGlhdGUga2V5Ym9hcmQgaGVscGVyXG4gICAgdGhpcy5rZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpO1xuXG4gICAgLy8gTGlzdGVuZXJzXG4gICAgLy8gTW91c2UgZXZlbnRzXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1vdXNlbW92ZVwiLFxuICAgICAgKGV2ZW50KSA9PiBIZWxwZXJzLnRocm90dGxlKHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpLCAyNTApLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtb3VzZWxlYXZlXCIsXG4gICAgICAoZXZlbnQpID0+IHRoaXMub25Nb3VzZUxlYXZlKGV2ZW50KSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2VvdmVyXCIsXG4gICAgICAoZXZlbnQpID0+IHRoaXMub25Nb3VzZU92ZXIoZXZlbnQpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgLy8gS2V5Ym9hcmQgZXZlbnRzXG4gICAgdGhpcy5rZXlib2FyZC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnJlcGVhdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmtleWJvYXJkLnByZXNzZWQoXCJhXCIpKSB7XG4gICAgICAgIFN0b3JlLnBsYXllci5kaXJlY3Rpb24gPSBcImxlZnRcIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5rZXlib2FyZC5wcmVzc2VkKFwiZFwiKSkge1xuICAgICAgICBTdG9yZS5wbGF5ZXIuZGlyZWN0aW9uID0gXCJyaWdodFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5rZXlib2FyZC5wcmVzc2VkKFwic3BhY2VcIikpIHtcbiAgICAgICAgU3RvcmUucGxheWVyLnNob290ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IHRydWU7XG4gIH1cblxuICBvbk1vdXNlTGVhdmUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gZmFsc2U7XG4gIH1cblxuICBvbk1vdXNlTW92ZShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblxuICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSBmYWxzZTtcbiAgICB9LCAyMDApO1xuXG4gICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSB0cnVlO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuaW1wb3J0IEhlbHBlcnMgZnJvbSBcIi4uLy4uL3V0aWxzL2hlbHBlcnNcIjtcbmltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5VXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlsc1wiO1xuaW1wb3J0IHsgR0xURkxvYWRlciB9IGZyb20gXCIuLi9sb2FkZXJzL0dMVEZMb2FkZXJcIjtcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XG5cbi8vIExvYWRzIGluIGEgc2luZ2xlIG9iamVjdCBmcm9tIHRoZSBjb25maWcgZmlsZSAoTWF5IGNvbnRhaW4gbXVsdGlwbGUgY29tcG9uZW50cylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUsIG1hbmFnZXIsIHRleHR1cmVzKSB7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuXG4gICAgdGhpcy5kZWxldGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlZiA9IG51bGw7XG4gIH1cblxuICBsb2FkKG1vZGVsRGF0YSkge1xuICAgIC8vIE1hbmFnZXIgaXMgcGFzc2VkIGluIHRvIGxvYWRlciB0byBkZXRlcm1pbmUgd2hlbiBsb2FkaW5nIGRvbmUgaW4gbWFpblxuICAgIG5ldyBHTFRGTG9hZGVyKHRoaXMubWFuYWdlcikubG9hZChcbiAgICAgIG1vZGVsRGF0YS5wYXRoLFxuICAgICAgKGdsdGYpID0+IHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBnbHRmLnNjZW5lO1xuICAgICAgICBsZXQgbWVzaDtcblxuICAgICAgICBjb25zdCBub2RlcyA9IFtdO1xuICAgICAgICBzY2VuZS50cmF2ZXJzZShmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIGlmIChub2RlLmlzTWVzaCB8fCBub2RlLmlzTGlnaHQpIHtcbiAgICAgICAgICAgIG5vZGUuY2FzdFNoYWRvdyA9IENvbmZpZy5zaGFkb3cuZW5hYmxlZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUuaXNNZXNoKSB7XG4gICAgICAgICAgICBub2RlLm1hdGVyaWFsLndpcmVmcmFtZSA9IENvbmZpZy5tZXNoLndpcmVmcmFtZTtcbiAgICAgICAgICAgIG1lc2ggPSBub2RlO1xuICAgICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgICAgIG5vZGVzLmZvckVhY2goKG5vZGUpID0+IGdyb3VwLmFkZChub2RlKSk7XG4gICAgICAgIGdyb3VwLnNjYWxlLm11bHRpcGx5U2NhbGFyKG1vZGVsRGF0YS5zY2FsZSk7XG4gICAgICAgIGdyb3VwLnBvc2l0aW9uLnNldCguLi4obW9kZWxEYXRhLnBvc2l0aW9uIHx8IFswLCAwLCAwXSkpO1xuXG4gICAgICAgIEJ1ZmZlckdlb21ldHJ5VXRpbHMuY29tcHV0ZVRhbmdlbnRzKG1lc2guZ2VvbWV0cnkpO1xuXG4gICAgICAgIHRoaXMucmVmID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKGdyb3VwKTtcblxuICAgICAgICAvLyBUbyBtYWtlIHN1cmUgdGhhdCB0aGUgbWF0cml4V29ybGQgaXMgdXAgdG8gZGF0ZSBmb3IgdGhlIGJveGhlbHBlcnNcbiAgICAgICAgZ3JvdXAudXBkYXRlTWF0cml4V29ybGQodHJ1ZSk7XG5cbiAgICAgICAgLy8gQWRkIHRvIHNjZW5lXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHNjZW5lKTtcbiAgICAgIH0sXG4gICAgICBIZWxwZXJzLmxvZ1Byb2dyZXNzKCksXG4gICAgICBIZWxwZXJzLmxvZ0Vycm9yKClcbiAgICApO1xuICB9XG5cbiAgdW5sb2FkKCkge1xuICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMucmVmKTtcbiAgICB0aGlzLnJlZi5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGNoaWxkLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgIGNoaWxkLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlKCkge31cblxuICBjbG9uZSgpIHtcbiAgICBjb25zdCBtb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnNjZW5lLCB0aGlzLm1hbmFnZXIsIHRoaXMudGV4dHVyZXMpO1xuICAgIG1vZGVsLnJlZiA9IHRoaXMucmVmLmNsb25lKCk7XG4gICAgdGhpcy5zY2VuZS5hZGQobW9kZWwucmVmKTtcblxuICAgIC8vIFRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBtYXRyaXhXb3JsZCBpcyB1cCB0byBkYXRlIGZvciB0aGUgYm94aGVscGVyc1xuICAgIG1vZGVsLnJlZi51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTtcblxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuLy8gUHJvbWlzZSBwb2x5ZmlsbCBmb3IgSUVcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICdlczYtcHJvbWlzZSc7XG5cbmltcG9ydCBIZWxwZXJzIGZyb20gJy4uLy4uL3V0aWxzL2hlbHBlcnMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi8uLi9kYXRhL2NvbmZpZyc7XG5cbi8vIFRoaXMgY2xhc3MgcHJlbG9hZHMgYWxsIHRleHR1cmVzIGluIHRoZSBpbWFnZUZpbGVzIGFycmF5IGluIHRoZSBDb25maWcgdmlhIEVTNiBQcm9taXNlcy5cbi8vIE9uY2UgYWxsIHRleHR1cmVzIGFyZSBkb25lIGxvYWRpbmcgdGhlIG1vZGVsIGl0c2VsZiB3aWxsIGJlIGxvYWRlZCBhZnRlciB0aGUgUHJvbWlzZSAudGhlbigpIGNhbGxiYWNrLlxuLy8gVXNpbmcgcHJvbWlzZXMgdG8gcHJlbG9hZCB0ZXh0dXJlcyBwcmV2ZW50cyBpc3N1ZXMgd2hlbiBhcHBseWluZyB0ZXh0dXJlcyB0byBtYXRlcmlhbHNcbi8vIGJlZm9yZSB0aGUgdGV4dHVyZXMgaGF2ZSBsb2FkZWQuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcCB0aGF0IHdpbGwgY29udGFpbiBhbGwgbG9hZGVkIHRleHR1cmVzXG4gICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpO1xuICAgIGNvbnN0IG1heEFuaXNvdHJvcHkgPSBDb25maWcubWF4QW5pc290cm9weTtcbiAgICBjb25zdCBpbWFnZUZpbGVzID0gQ29uZmlnLnRleHR1cmUuaW1hZ2VGaWxlcztcbiAgICBjb25zdCBwcm9taXNlQXJyYXkgPSBbXTtcblxuICAgIGxvYWRlci5zZXRQYXRoKENvbmZpZy50ZXh0dXJlLnBhdGgpO1xuXG4gICAgaW1hZ2VGaWxlcy5mb3JFYWNoKGltYWdlRmlsZSA9PiB7XG4gICAgICAvLyBBZGQgYW4gaW5kaXZpZHVhbCBQcm9taXNlIGZvciBlYWNoIGltYWdlIGluIGFycmF5XG4gICAgICBwcm9taXNlQXJyYXkucHVzaChuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIEVhY2ggUHJvbWlzZSB3aWxsIGF0dGVtcHQgdG8gbG9hZCB0aGUgaW1hZ2UgZmlsZVxuICAgICAgICBsb2FkZXIubG9hZChpbWFnZUZpbGUuaW1hZ2UsXG4gICAgICAgICAgLy8gVGhpcyBnZXRzIGNhbGxlZCBvbiBsb2FkIHdpdGggdGhlIGxvYWRlZCB0ZXh0dXJlXG4gICAgICAgICAgdGV4dHVyZSA9PiB7XG4gICAgICAgICAgICB0ZXh0dXJlLmFuaXNvdHJvcHkgPSBtYXhBbmlzb3Ryb3B5O1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIFByb21pc2Ugd2l0aCBvYmplY3Qgb2YgdGV4dHVyZSBpZiBpdCBpcyBpbnN0YW5jZSBvZiBUSFJFRS5UZXh0dXJlXG4gICAgICAgICAgICBjb25zdCBtb2RlbE9CSiA9IHt9O1xuICAgICAgICAgICAgbW9kZWxPQkpbaW1hZ2VGaWxlLm5hbWVdID0gdGV4dHVyZTtcbiAgICAgICAgICAgIGlmKG1vZGVsT0JKW2ltYWdlRmlsZS5uYW1lXSBpbnN0YW5jZW9mIFRIUkVFLlRleHR1cmUpXG4gICAgICAgICAgICAgIHJlc29sdmUobW9kZWxPQkopO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgSGVscGVycy5sb2dQcm9ncmVzcygpLFxuICAgICAgICAgIHhociA9PiByZWplY3QobmV3IEVycm9yKHhociArICdBbiBlcnJvciBvY2N1cnJlZCBsb2FkaW5nIHdoaWxlIGxvYWRpbmcgJyArIGltYWdlRmlsZS5pbWFnZSkpXG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgUHJvbWlzZXMgaW4gYXJyYXkgYW5kIHJldHVybiBhbm90aGVyIFByb21pc2Ugd2hlbiBhbGwgaGF2ZSByZXNvbHZlZCBvciBjb25zb2xlIGxvZyByZWFzb24gd2hlbiBhbnkgcmVqZWN0XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VBcnJheSkudGhlbih0ZXh0dXJlcyA9PiB7XG4gICAgICAvLyBTZXQgdGhlIHRleHR1cmVzIHByb3Agb2JqZWN0IHRvIGhhdmUgbmFtZSBiZSB0aGUgcmVzb2x2ZWQgdGV4dHVyZVxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRleHR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudGV4dHVyZXNbT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXSA9IHRleHR1cmVzW2ldW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV07XG4gICAgICB9XG4gICAgfSwgcmVhc29uID0+IGNvbnNvbGUubG9nKHJlYXNvbikpO1xuICB9XG59XG4iLCJpbXBvcnQgTW9kZWwgZnJvbSBcIi4uL21vZGVsL21vZGVsXCI7XHJcbmltcG9ydCBUV0VFTiBmcm9tIFwiQHR3ZWVuanMvdHdlZW4uanNcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuaW1wb3J0IFN0b3JlIGZyb20gXCIuLi8uLi9kYXRhL3N0b3JlXCI7XHJcblxyXG5jbGFzcyBBc3Rlcm9pZCBleHRlbmRzIE1vZGVsIHsgfTsgXHJcblxyXG5mdW5jdGlvbiBzZXR1cEFuaW1hdGlvbnMoYXN0ZXJvaWQpIHtcclxuICAvLyBQb3N0aW9uIGFuaW1hdGlvbnNcclxuICBuZXcgVFdFRU4uVHdlZW4oYXN0ZXJvaWQucmVmLnBvc2l0aW9uKVxyXG4gIC50byh7IHo6IC0xMjB9LCBDb25maWcubW9kZWxzLmFzdGVyb2lkLmFuaW1hdGlvbkludGVydmFsKVxyXG4gIC5vbkNvbXBsZXRlKCgpID0+IHtcclxuICAgIGFzdGVyb2lkLnVubG9hZCgpO1xyXG4gICAgYXN0ZXJvaWQuZGVsZXRlZCA9IHRydWU7XHJcbiAgfSlcclxuICAuc3RhcnQoKTtcclxuICBcclxuICAvLyBSb3RhdGlvbiBhbmltYXRpb25cclxuICBsZXQgZmluYWxSb3RhdGlvbjtcclxuICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xyXG4gICAgZmluYWxSb3RhdGlvbiA9IHtcclxuICAgICAgeDogYCskezIqTWF0aC5QSX1gLFxyXG4gICAgICB5OiBgKyR7MipNYXRoLlBJfWBcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZmluYWxSb3RhdGlvbiA9IHtcclxuICAgICAgeDogYCskezIqTWF0aC5QSX1gLFxyXG4gICAgICB6OiBgKyR7MipNYXRoLlBJfWBcclxuICAgIH1cclxuICB9XHJcbiAgbmV3IFRXRUVOLlR3ZWVuKGFzdGVyb2lkLnJlZi5yb3RhdGlvbikudG8oZmluYWxSb3RhdGlvbiwgQ29uZmlnLm1vZGVscy5hc3Rlcm9pZC5hbmltYXRpb25JbnRlcnZhbCkucmVwZWF0KEluZmluaXR5KS5zdGFydCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzcGF3bkFzdGVyb2lkcyhhc3Rlcm9pZE9uZSwgYXN0ZXJvaWRUd28pIHtcclxuICBjb25zdCBhc3Rlcm9pZHMgPSBbXVxyXG5cclxuICAvLyBTcGF3biBhc3Rlcm9pZHNcclxuICBpZiAoU3RvcmUuYXN0ZXJvaWQuY2FuU3Bhd24pIHtcclxuICAgIFN0b3JlLmFzdGVyb2lkLmNhblNwYXduID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIFNwYXduIGluIDEgbGFuZSB3aXRoIDAuNiBwcm9iYWJpbGl0eVxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gW11cclxuICAgIGxldCBkb25lID0gZmFsc2VcclxuICAgIGlmKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcclxuICAgICAgY29uc3QgbGFuZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgICBzd2l0Y2gobGFuZSkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbNywgMCwgMTUwXSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWy03LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3Bhd24gaW4gMiBsYW5lcyB3aXRoIDAuMyBwcm9iYWJpbGl0eVxyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjMgLyAwLjcgJiYgIWRvbmUpIHtcclxuICAgICAgY29uc3QgbGFuZTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTtcclxuICAgICAgbGV0IGxhbmUyID0gbGFuZTFcclxuICAgICAgd2hpbGUgKGxhbmUxID09PSBsYW5lMikge1xyXG4gICAgICAgIGxhbmUyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgIH1cclxuICAgICAgc3dpdGNoKGxhbmUxKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFs3LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWzAsIDAsIDE1MF0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbLTcsIDAsIDE1MF0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHN3aXRjaChsYW5lMikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbNywgMCwgMTUwXSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWy03LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkb25lID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTcGF3biB0aHJlZSBhc3Rlcm9pZHMgd2l0aCAwLjIgcHJvYmFiaWxpdHlcclxuICAgIGlmICghZG9uZSkge1xyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFs3LCAwLCAxNTBdKTtcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbMCwgMCwgMTUwXSk7XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWy03LCAwLCAxNTBdKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIFN0b3JlLmFzdGVyb2lkLmNhblNwYXduID0gdHJ1ZTtcclxuICAgIH0sIENvbmZpZy5tb2RlbHMuYXN0ZXJvaWQuY2FuU3Bhd25JbnRlcnZhbCk7XHJcbiAgICBcclxuICAgIHBvc2l0aW9ucy5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgY29uc3QgYXN0ZXJvaWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKSA/IGFzdGVyb2lkT25lLmNsb25lKCkgOiBhc3Rlcm9pZFR3by5jbG9uZSgpO1xyXG4gICAgICBhc3Rlcm9pZC5yZWYucG9zaXRpb24uc2V0KC4uLnBvc2l0aW9uKTtcclxuICAgICAgc2V0dXBBbmltYXRpb25zKGFzdGVyb2lkKTtcclxuICAgICAgYXN0ZXJvaWRzLnB1c2goYXN0ZXJvaWQpO1xyXG4gICAgfSlcclxuICB9XHJcbiAgcmV0dXJuIGFzdGVyb2lkcztcclxufVxyXG5cclxuZXhwb3J0IHsgc3Bhd25Bc3Rlcm9pZHMgfTtcclxuZXhwb3J0IGRlZmF1bHQgQXN0ZXJvaWQ7IiwiaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcblxuaW1wb3J0IEdlb21ldHJ5IGZyb20gXCIuLi9jb21wb25lbnRzL2dlb21ldHJ5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldCB7XG4gIGNvbnN0cnVjdG9yKHNjZW5lLCBzaGlwUG9zaXRpb24sIHNpZGUpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy5kZWxldGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlZiA9IG5ldyBHZW9tZXRyeShzY2VuZSk7XG4gICAgdGhpcy5yZWYubWFrZShcImN5bGluZGVyXCIpKFxuICAgICAgQ29uZmlnLm1vZGVscy5idWxsZXRzLnJhZGl1cyxcbiAgICAgIENvbmZpZy5tb2RlbHMuYnVsbGV0cy5sZW5ndGgsXG4gICAgICBDb25maWcubW9kZWxzLmJ1bGxldHMuc2VnbWVudHNcbiAgICApO1xuICAgIGNvbnN0IHBvc1ggPSBzaWRlICogQ29uZmlnLm1vZGVscy5idWxsZXRzLnBvc2l0aW9uWzBdICsgc2hpcFBvc2l0aW9uLng7XG4gICAgY29uc3QgcG9zWSA9IENvbmZpZy5tb2RlbHMuYnVsbGV0cy5wb3NpdGlvblsxXSArIHNoaXBQb3NpdGlvbi55O1xuICAgIGNvbnN0IHBvc1ogPSBDb25maWcubW9kZWxzLmJ1bGxldHMucG9zaXRpb25bMl0gKyBzaGlwUG9zaXRpb24uejtcbiAgICB0aGlzLnJlZi5wbGFjZShcbiAgICAgIFtwb3NYLCBwb3NZLCBwb3NaXSxcbiAgICAgIENvbmZpZy5tb2RlbHMuYnVsbGV0cy5yb3RhdGlvbixcbiAgICAgIENvbmZpZy5tb2RlbHMuYnVsbGV0cy5tYXRlcmlhbFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBhZGQgYW5pbWF0aW9uXG4gIH1cblxuICB1bmxvYWQoKSB7XG4gICAgdGhpcy5yZWYudW5sb2FkKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNb2RlbCBmcm9tIFwiLi4vbW9kZWwvbW9kZWxcIjtcclxuaW1wb3J0IFRXRUVOIGZyb20gXCJAdHdlZW5qcy90d2Vlbi5qc1wiO1xyXG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uLy4uL2RhdGEvc3RvcmVcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuaW1wb3J0IEJ1bGxldCBmcm9tIFwiLi9idWxsZXRcIjtcclxuXHJcbmNsYXNzIFBsYXllciBleHRlbmRzIE1vZGVsIHtcclxuICB1cGRhdGUoKSB7XHJcbiAgICBjb25zdCBidWxsZXRzID0gW107XHJcbiAgICBpZiAoIVN0b3JlLnBsYXllci5hbmltYXRpbmcpIHtcclxuICAgICAgLy8gR2V0IHJvdGF0aW9ucyBhbmQgcG9zaXRpb25zXHJcbiAgICAgIGxldCBwb3NYID0gXCJcIjtcclxuICAgICAgbGV0IHJvdFogPSAwO1xyXG4gICAgICBpZiAoU3RvcmUucGxheWVyLmRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgJiYgU3RvcmUucGxheWVyLnBvc2l0aW9uID4gLTEpIHtcclxuICAgICAgICBwb3NYID0gXCIrN1wiO1xyXG4gICAgICAgIHJvdFogPSAtTWF0aC5QSSAvIDY7XHJcbiAgICAgICAgU3RvcmUucGxheWVyLnBvc2l0aW9uIC09IDE7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgU3RvcmUucGxheWVyLmRpcmVjdGlvbiA9PT0gXCJyaWdodFwiICYmXHJcbiAgICAgICAgU3RvcmUucGxheWVyLnBvc2l0aW9uIDwgMVxyXG4gICAgICApIHtcclxuICAgICAgICBwb3NYID0gXCItN1wiO1xyXG4gICAgICAgIHJvdFogPSArTWF0aC5QSSAvIDY7XHJcbiAgICAgICAgU3RvcmUucGxheWVyLnBvc2l0aW9uICs9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFuaW1hdGUgbW90aW9uXHJcbiAgICAgIGlmIChTdG9yZS5wbGF5ZXIuZGlyZWN0aW9uICYmIHBvc1ggJiYgcm90Wikge1xyXG4gICAgICAgIG5ldyBUV0VFTi5Ud2Vlbih0aGlzLnJlZi5wb3NpdGlvbilcclxuICAgICAgICAgIC50byh7IHg6IHBvc1ggfSwgQ29uZmlnLm1vZGVscy5wbGF5ZXIuYW5pbWF0aW9uSW50ZXJ2YWwpXHJcbiAgICAgICAgICAuZWFzaW5nKENvbmZpZy5lYXNpbmcpXHJcbiAgICAgICAgICAub25TdGFydCgoKSA9PiAoU3RvcmUucGxheWVyLmFuaW1hdGluZyA9IHRydWUpKVxyXG4gICAgICAgICAgLm9uQ29tcGxldGUoKCkgPT4gKFN0b3JlLnBsYXllci5hbmltYXRpbmcgPSBmYWxzZSkpXHJcbiAgICAgICAgICAuc3RhcnQoKTtcclxuICAgICAgICBuZXcgVFdFRU4uVHdlZW4odGhpcy5yZWYucm90YXRpb24pXHJcbiAgICAgICAgICAudG8oeyB6OiByb3RaIH0sIENvbmZpZy5tb2RlbHMucGxheWVyLmFuaW1hdGlvbkludGVydmFsIC8gMilcclxuICAgICAgICAgIC5lYXNpbmcoQ29uZmlnLmVhc2luZylcclxuICAgICAgICAgIC5jaGFpbihcclxuICAgICAgICAgICAgbmV3IFRXRUVOLlR3ZWVuKHRoaXMucmVmLnJvdGF0aW9uKVxyXG4gICAgICAgICAgICAgIC50byh7IHo6IDAgfSwgQ29uZmlnLm1vZGVscy5wbGF5ZXIuYW5pbWF0aW9uSW50ZXJ2YWwgLyAyKVxyXG4gICAgICAgICAgICAgIC5lYXNpbmcoQ29uZmlnLmVhc2luZylcclxuICAgICAgICAgIClcclxuICAgICAgICAgIC5zdGFydCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTaG9vdFxyXG4gICAgICBpZiAoU3RvcmUucGxheWVyLnNob290ICYmIFN0b3JlLnBsYXllci5jYW5TaG9vdCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBidWxsZXRzXHJcbiAgICAgICAgYnVsbGV0cy5wdXNoKG5ldyBCdWxsZXQodGhpcy5zY2VuZSwgdGhpcy5yZWYucG9zaXRpb24sIDEpKTtcclxuICAgICAgICBidWxsZXRzLnB1c2gobmV3IEJ1bGxldCh0aGlzLnNjZW5lLCB0aGlzLnJlZi5wb3NpdGlvbiwgLTEpKTtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHBsYXllciBjYW50IHNob290IG1vcmUgdGhhbiByYXRlIG9mIGZpcmVcclxuICAgICAgICBTdG9yZS5wbGF5ZXIuY2FuU2hvb3QgPSBmYWxzZTtcclxuICAgICAgICBzZXRUaW1lb3V0KFxyXG4gICAgICAgICAgKCkgPT4gKFN0b3JlLnBsYXllci5jYW5TaG9vdCA9IHRydWUpLFxyXG4gICAgICAgICAgKDEgLyBDb25maWcubW9kZWxzLnBsYXllci5maXJlUmF0ZSkgKiAxMDAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWF0aW9uXHJcbiAgICAgICAgYnVsbGV0cy5mb3JFYWNoKChidWxsZXQpID0+IHtcclxuICAgICAgICAgIG5ldyBUV0VFTi5Ud2VlbihidWxsZXQucmVmLm1lc2gucG9zaXRpb24pXHJcbiAgICAgICAgICAgIC50byh7IHo6IDE1MCB9LCBDb25maWcubW9kZWxzLmJ1bGxldHMuYW5pbWF0aW9uSW50ZXJ2YWwpXHJcbiAgICAgICAgICAgIC5vbkNvbXBsZXRlKCgpID0+IHtcclxuICAgICAgICAgICAgICBidWxsZXQudW5sb2FkKCk7XHJcbiAgICAgICAgICAgICAgYnVsbGV0LmRlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmUucGxheWVyLmRpcmVjdGlvbiA9IFwiXCI7XHJcbiAgICBTdG9yZS5wbGF5ZXIuc2hvb3QgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBSZXR1cm4gbmV3IG9iamVjdHMgY3JlYXRlZFxyXG4gICAgcmV0dXJuIGJ1bGxldHM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XHJcbiIsImltcG9ydCBNb2RlbCBmcm9tIFwiLi4vbW9kZWwvbW9kZWxcIjtcclxuaW1wb3J0IFRXRUVOIGZyb20gXCJAdHdlZW5qcy90d2Vlbi5qc1wiO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5pbXBvcnQgU3RvcmUgZnJvbSBcIi4uLy4uL2RhdGEvc3RvcmVcIjtcclxuXHJcbmNsYXNzIFN0YXIgZXh0ZW5kcyBNb2RlbCB7IH07IFxyXG5cclxuZnVuY3Rpb24gc2V0dXBBbmltYXRpb25zKHN0YXIpIHtcclxuICAvLyBQb3N0aW9uIGFuaW1hdGlvbnNcclxuICBuZXcgVFdFRU4uVHdlZW4oc3Rhci5yZWYucG9zaXRpb24pXHJcbiAgLnRvKHsgejogLTEyMH0sIENvbmZpZy5tb2RlbHMuc3Rhci5hbmltYXRpb25JbnRlcnZhbClcclxuICAub25Db21wbGV0ZSgoKSA9PiB7XHJcbiAgICBzdGFyLnVubG9hZCgpO1xyXG4gICAgc3Rhci5kZWxldGVkID0gdHJ1ZTtcclxuICB9KVxyXG4gIC5zdGFydCgpO1xyXG4gIFxyXG4gIG5ldyBUV0VFTi5Ud2VlbihzdGFyLnJlZi5yb3RhdGlvbilcclxuICAudG8oe3k6IDIqTWF0aC5QSX0sIENvbmZpZy5tb2RlbHMuc3Rhci5hbmltYXRpb25JbnRlcnZhbCAvIDQpXHJcbiAgLnJlcGVhdChJbmZpbml0eSlcclxuICAuc3RhcnQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3Bhd25TdGFycyhzdGFyKSB7XHJcbiAgY29uc3Qgc3RhcnMgPSBbXVxyXG5cclxuICAvLyBTcGF3biBzdGFyc1xyXG4gIGlmIChTdG9yZS5zdGFyLmNhblNwYXduKSB7XHJcbiAgICBTdG9yZS5zdGFyLmNhblNwYXduID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIFNwYXduIGluIDEgbGFuZSB3aXRoIDAuNCBwcm9iYWJpbGl0eVxyXG4gICAgY29uc3QgcG9zaXRpb25zID0gW11cclxuICAgIGxldCBkb25lID0gZmFsc2VcclxuICAgIGlmKE1hdGgucmFuZG9tKCkgPCAwLjQpIHtcclxuICAgICAgY29uc3QgbGFuZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xyXG4gICAgICBzd2l0Y2gobGFuZSkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbNywgMCwgMTUwXSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWy03LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkb25lID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3Bhd24gaW4gMiBsYW5lcyB3aXRoIDAuMyBwcm9iYWJpbGl0eVxyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjMgLyAwLjQgJiYgIWRvbmUpIHtcclxuICAgICAgY29uc3QgbGFuZTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKTtcclxuICAgICAgbGV0IGxhbmUyID0gbGFuZTFcclxuICAgICAgd2hpbGUgKGxhbmUxID09PSBsYW5lMikge1xyXG4gICAgICAgIGxhbmUyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgIH1cclxuICAgICAgc3dpdGNoKGxhbmUxKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFs3LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWzAsIDAsIDE1MF0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbLTcsIDAsIDE1MF0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHN3aXRjaChsYW5lMikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbNywgMCwgMTUwXSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWy03LCAwLCAxNTBdKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBkb25lID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTcGF3biB0aHJlZSBzdGFycyB3aXRoIDAuMyBwcm9iYWJpbGl0eVxyXG4gICAgaWYgKCFkb25lKSB7XHJcbiAgICAgICAgcG9zaXRpb25zLnB1c2goWzcsIDAsIDE1MF0pO1xyXG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKFswLCAwLCAxNTBdKTtcclxuICAgICAgICBwb3NpdGlvbnMucHVzaChbLTcsIDAsIDE1MF0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgU3RvcmUuc3Rhci5jYW5TcGF3biA9IHRydWU7XHJcbiAgICB9LCBDb25maWcubW9kZWxzLnN0YXIuY2FuU3Bhd25JbnRlcnZhbCk7XHJcbiAgICBcclxuICAgIHBvc2l0aW9ucy5mb3JFYWNoKHBvc2l0aW9uID0+IHtcclxuICAgICAgY29uc3QgbmV3U3RhciA9IHN0YXIuY2xvbmUoKTtcclxuICAgICAgbmV3U3Rhci5yZWYucG9zaXRpb24uc2V0KC4uLnBvc2l0aW9uKTtcclxuICAgICAgc2V0dXBBbmltYXRpb25zKG5ld1N0YXIpO1xyXG4gICAgICBzdGFycy5wdXNoKG5ld1N0YXIpO1xyXG4gICAgfSlcclxuICB9XHJcbiAgcmV0dXJuIHN0YXJzO1xyXG59XHJcblxyXG5leHBvcnQgeyBzcGF3blN0YXJzIH07XHJcbmV4cG9ydCBkZWZhdWx0IFN0YXI7IiwiaW1wb3J0IFRXRUVOIGZyb20gXCJAdHdlZW5qcy90d2Vlbi5qc1wiO1xuXG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSBcIi4uL2FwcC9jb21wb25lbnRzL21hdGVyaWFsXCI7XG5cbi8vIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSBzdGF0ZSBvZiB0aGUgYXBwXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzRGV2OiBmYWxzZSxcbiAgaXNTaG93aW5nU3RhdHM6IHRydWUsXG4gIGlzTG9hZGVkOiBmYWxzZSxcbiAgaXNUd2VlbmluZzogZmFsc2UsXG4gIG1heEFuaXNvdHJvcHk6IDEsXG4gIGRwcjogMSxcbiAgZWFzaW5nOiBUV0VFTi5FYXNpbmcuUXVhZHJhdGljLkluT3V0LFxuICBkdXJhdGlvbjogNTAwLFxuICBtb2RlbHM6IHtcbiAgICBwbGF5ZXI6IHtcbiAgICAgIHBhdGg6IFwiLi9hc3NldHMvbW9kZWxzL3BsYXllclNwYWNlc2hpcC5nbGJcIixcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgcG9zaXRpb246IFswLCAwLCAwXSxcbiAgICAgIGFuaW1hdGlvbkludGVydmFsOiA2MDAsXG4gICAgICBmaXJlUmF0ZTogMywgLy8gU2l4IGJ1bGxldHMgcGVyIHNlY29uZCAob25lIHBlciBndW4pXG4gICAgfSxcbiAgICBidWxsZXRzOiB7XG4gICAgICBtYXRlcmlhbDogbmV3IE1hdGVyaWFsKDB4MDAwMGZmKS5zdGFuZGFyZCxcbiAgICAgIHBvc2l0aW9uOiBbMC43MSwgLTAuNywgMV0sXG4gICAgICByb3RhdGlvbjogW01hdGguUEkgLyAyLCAwLCAwXSxcbiAgICAgIHJhZGl1czogMC4xLFxuICAgICAgbGVuZ3RoOiAyLFxuICAgICAgc2VnbWVudHM6IDgsXG4gICAgICBhbmltYXRpb25JbnRlcnZhbDogMTUwMCxcbiAgICB9LFxuICAgIGFzdGVyb2lkOiB7XG4gICAgICBwYXRoczogW1wiLi9hc3NldHMvbW9kZWxzL2VuZW15QXN0ZXJvaWQxLmdsYlwiLCBcIi4vYXNzZXRzL21vZGVscy9lbmVteUFzdGVyb2lkMi5nbGJcIl0sXG4gICAgICBzY2FsZTogMSxcbiAgICAgIGFuaW1hdGlvbkludGVydmFsOiA2MDAwLFxuICAgICAgY2FuU3Bhd25JbnRlcnZhbDogMjAwMCxcbiAgICAgIHNjb3JlOiAxMCxcbiAgICAgIGhlYWx0aDogLTEwXG4gICAgfSxcbiAgICBzdGFyOiB7XG4gICAgICBwYXRoOiBcIi4vYXNzZXRzL21vZGVscy9zdGFyLmdsYlwiLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICBhbmltYXRpb25JbnRlcnZhbDogNjAwMCxcbiAgICAgIGNhblNwYXduSW50ZXJ2YWw6IDIwMDAsXG4gICAgICBzY29yZTogNTBcbiAgICB9XG4gIH0sXG4gIHRleHR1cmU6IHtcbiAgICBwYXRoOiBcIi4vYXNzZXRzL3RleHR1cmVzL1wiLFxuICAgIGltYWdlRmlsZXM6IFt7IG5hbWU6IFwiVVZcIiwgaW1hZ2U6IFwiVVZfR3JpZF9TbS5qcGdcIiB9XSxcbiAgfSxcbiAgbWVzaDoge1xuICAgIGVuYWJsZUhlbHBlcjogZmFsc2UsXG4gICAgd2lyZWZyYW1lOiBmYWxzZSxcbiAgICB0cmFuc2x1Y2VudDogdHJ1ZSxcbiAgICBtYXRlcmlhbDoge1xuICAgICAgY29sb3I6IDB4ZmZmZmZmLFxuICAgICAgZW1pc3NpdmU6IDB4ZmZmZmZmLFxuICAgIH0sXG4gIH0sXG4gIGZvZzoge1xuICAgIGNvbG9yOiAweDAwMDAwMCxcbiAgICBuZWFyOiAwLjAwMDgsXG4gIH0sXG4gIGNhbWVyYToge1xuICAgIGZvdjogMTUsXG4gICAgbmVhcjogMixcbiAgICBmYXI6IDEwMDAsXG4gICAgYXNwZWN0OiAxNiAvIDksXG4gICAgcG9zaXRpb246IFswLCAxMCwgLTQyXSxcbiAgICBsb29rQXQ6IFswLCAwLCAxMF0sXG4gICAgLy8gQ3VzdG9tIGNhbWVyYSwgdW5jb21tZW50IHRvIG1vdmUgYXJvdW5kXG4gICAgLy8gcG9zaXRpb246IFsyNTAsIDAsIDBdLFxuICAgIC8vIGxvb2tBdDogWzAsIDAsIDBdLFxuICB9LFxuICBhbWJpZW50TGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweDE0MTQxNCxcbiAgfSxcbiAgZGlyZWN0aW9uYWxMaWdodDoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29sb3I6IDB4ZjBmMGYwLFxuICAgIGludGVuc2l0eTogMC40LFxuICAgIHg6IC03NSxcbiAgICB5OiAyODAsXG4gICAgejogMTUwLFxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGhlbHBlckVuYWJsZWQ6IHRydWUsXG4gICAgYmlhczogMCxcbiAgICBtYXBXaWR0aDogMjA0OCxcbiAgICBtYXBIZWlnaHQ6IDIwNDgsXG4gICAgbmVhcjogMjUwLFxuICAgIGZhcjogNDAwLFxuICAgIHRvcDogMTAwLFxuICAgIHJpZ2h0OiAxMDAsXG4gICAgYm90dG9tOiAtMTAwLFxuICAgIGxlZnQ6IC0xMDAsXG4gIH0sXG4gIHBvaW50TGlnaHQ6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbG9yOiAweGZmZmZmZixcbiAgICBpbnRlbnNpdHk6IDAuMzQsXG4gICAgZGlzdGFuY2U6IDExNSxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMCxcbiAgfSxcbiAgaGVtaUxpZ2h0OiB7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBjb2xvcjogMHhjOGM4YzgsXG4gICAgZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxuICAgIGludGVuc2l0eTogMC41NSxcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMCxcbiAgfSxcbn07XG4iLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgc2NvcmU6IDAsXHJcbiAgc3Rhcjoge1xyXG4gICAgY2FuU3Bhd246IGZhbHNlLFxyXG4gIH0sXHJcbiAgYXN0ZXJvaWQ6IHtcclxuICAgIGNhblNwYXduOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGxheWVyOiB7XHJcbiAgICBkaXJlY3Rpb246IFwiXCIsXHJcbiAgICBoZWFsdGg6IDEwMCxcclxuICAgIGFuaW1hdGluZzogZmFsc2UsXHJcbiAgICBwb3NpdGlvbjogMCxcclxuICAgIHNob290OiBmYWxzZSxcclxuICAgIGNhblNob290OiB0cnVlLFxyXG4gIH0sXHJcbiAgZ2FtZU92ZXI6IGZhbHNlLFxyXG59O1xyXG4iLCIvKipcbiAqIEBhdXRob3IgbXJkb29iIC8gaHR0cDovL21yZG9vYi5jb20vXG4gKi9cblxuaW1wb3J0IHtcbiAgQnVmZmVyQXR0cmlidXRlLFxuICBCdWZmZXJHZW9tZXRyeSxcbiAgSW50ZXJsZWF2ZWRCdWZmZXIsXG4gIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxuICBUcmlhbmdsZUZhbkRyYXdNb2RlLFxuICBUcmlhbmdsZVN0cmlwRHJhd01vZGUsXG4gIFRyaWFuZ2xlc0RyYXdNb2RlLFxuICBWZWN0b3IyLFxuICBWZWN0b3IzLFxufSBmcm9tICd0aHJlZSc7XG5cbnZhciBCdWZmZXJHZW9tZXRyeVV0aWxzID0ge1xuICBjb21wdXRlVGFuZ2VudHM6IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmluZGV4O1xuICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgIC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cudGVyYXRob24uY29tL2NvZGUvdGFuZ2VudC5odG1sXG4gICAgLy8gKHBlciB2ZXJ0ZXggdGFuZ2VudHMpXG5cbiAgICBpZiAoXG4gICAgICBpbmRleCA9PT0gbnVsbCB8fFxuICAgICAgYXR0cmlidXRlcy5wb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBhdHRyaWJ1dGVzLm5vcm1hbCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBhdHRyaWJ1dGVzLnV2ID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAuY29tcHV0ZVRhbmdlbnRzKCkgZmFpbGVkLiBNaXNzaW5nIHJlcXVpcmVkIGF0dHJpYnV0ZXMgKGluZGV4LCBwb3NpdGlvbiwgbm9ybWFsIG9yIHV2KSdcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGluZGljZXMgPSBpbmRleC5hcnJheTtcbiAgICB2YXIgcG9zaXRpb25zID0gYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtcbiAgICB2YXIgbm9ybWFscyA9IGF0dHJpYnV0ZXMubm9ybWFsLmFycmF5O1xuICAgIHZhciB1dnMgPSBhdHRyaWJ1dGVzLnV2LmFycmF5O1xuXG4gICAgdmFyIG5WZXJ0aWNlcyA9IHBvc2l0aW9ucy5sZW5ndGggLyAzO1xuXG4gICAgaWYgKGF0dHJpYnV0ZXMudGFuZ2VudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3RhbmdlbnQnLCBuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoNCAqIG5WZXJ0aWNlcyksIDQpKTtcbiAgICB9XG5cbiAgICB2YXIgdGFuZ2VudHMgPSBhdHRyaWJ1dGVzLnRhbmdlbnQuYXJyYXk7XG5cbiAgICB2YXIgdGFuMSA9IFtdLFxuICAgICAgICB0YW4yID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5WZXJ0aWNlczsgaSsrKSB7XG4gICAgICB0YW4xW2ldID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgIHRhbjJbaV0gPSBuZXcgVmVjdG9yMygpO1xuICAgIH1cblxuICAgIHZhciB2QSA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIHZCID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgdkMgPSBuZXcgVmVjdG9yMygpLFxuICAgICAgICB1dkEgPSBuZXcgVmVjdG9yMigpLFxuICAgICAgICB1dkIgPSBuZXcgVmVjdG9yMigpLFxuICAgICAgICB1dkMgPSBuZXcgVmVjdG9yMigpLFxuICAgICAgICBzZGlyID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgdGRpciA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUcmlhbmdsZShhLCBiLCBjKSB7XG4gICAgICB2QS5mcm9tQXJyYXkocG9zaXRpb25zLCBhICogMyk7XG4gICAgICB2Qi5mcm9tQXJyYXkocG9zaXRpb25zLCBiICogMyk7XG4gICAgICB2Qy5mcm9tQXJyYXkocG9zaXRpb25zLCBjICogMyk7XG5cbiAgICAgIHV2QS5mcm9tQXJyYXkodXZzLCBhICogMik7XG4gICAgICB1dkIuZnJvbUFycmF5KHV2cywgYiAqIDIpO1xuICAgICAgdXZDLmZyb21BcnJheSh1dnMsIGMgKiAyKTtcblxuICAgICAgdkIuc3ViKHZBKTtcbiAgICAgIHZDLnN1Yih2QSk7XG5cbiAgICAgIHV2Qi5zdWIodXZBKTtcbiAgICAgIHV2Qy5zdWIodXZBKTtcblxuICAgICAgdmFyIHIgPSAxLjAgLyAodXZCLnggKiB1dkMueSAtIHV2Qy54ICogdXZCLnkpO1xuXG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmUgZGVnZW5lcmF0ZSB1diB0cmlhbmdsZXMgaGF2aW5nIGNvaW5jaWRlbnQgb3IgY29saW5lYXIgdmVydGljZXNcblxuICAgICAgaWYgKCFpc0Zpbml0ZShyKSkgcmV0dXJuO1xuXG4gICAgICBzZGlyLmNvcHkodkIpLm11bHRpcGx5U2NhbGFyKHV2Qy55KS5hZGRTY2FsZWRWZWN0b3IodkMsIC11dkIueSkubXVsdGlwbHlTY2FsYXIocik7XG4gICAgICB0ZGlyLmNvcHkodkMpLm11bHRpcGx5U2NhbGFyKHV2Qi54KS5hZGRTY2FsZWRWZWN0b3IodkIsIC11dkMueCkubXVsdGlwbHlTY2FsYXIocik7XG5cbiAgICAgIHRhbjFbYV0uYWRkKHNkaXIpO1xuICAgICAgdGFuMVtiXS5hZGQoc2Rpcik7XG4gICAgICB0YW4xW2NdLmFkZChzZGlyKTtcblxuICAgICAgdGFuMlthXS5hZGQodGRpcik7XG4gICAgICB0YW4yW2JdLmFkZCh0ZGlyKTtcbiAgICAgIHRhbjJbY10uYWRkKHRkaXIpO1xuICAgIH1cblxuICAgIHZhciBncm91cHMgPSBnZW9tZXRyeS5ncm91cHM7XG5cbiAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZ3JvdXBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgY291bnQ6IGluZGljZXMubGVuZ3RoLFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldO1xuXG4gICAgICB2YXIgc3RhcnQgPSBncm91cC5zdGFydDtcbiAgICAgIHZhciBjb3VudCA9IGdyb3VwLmNvdW50O1xuXG4gICAgICBmb3IgKHZhciBqID0gc3RhcnQsIGpsID0gc3RhcnQgKyBjb3VudDsgaiA8IGpsOyBqICs9IDMpIHtcbiAgICAgICAgaGFuZGxlVHJpYW5nbGUoaW5kaWNlc1tqICsgMF0sIGluZGljZXNbaiArIDFdLCBpbmRpY2VzW2ogKyAyXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRtcCA9IG5ldyBWZWN0b3IzKCksXG4gICAgICAgIHRtcDIgPSBuZXcgVmVjdG9yMygpO1xuICAgIHZhciBuID0gbmV3IFZlY3RvcjMoKSxcbiAgICAgICAgbjIgPSBuZXcgVmVjdG9yMygpO1xuICAgIHZhciB3LCB0LCB0ZXN0O1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlVmVydGV4KHYpIHtcbiAgICAgIG4uZnJvbUFycmF5KG5vcm1hbHMsIHYgKiAzKTtcbiAgICAgIG4yLmNvcHkobik7XG5cbiAgICAgIHQgPSB0YW4xW3ZdO1xuXG4gICAgICAvLyBHcmFtLVNjaG1pZHQgb3J0aG9nb25hbGl6ZVxuXG4gICAgICB0bXAuY29weSh0KTtcbiAgICAgIHRtcC5zdWIobi5tdWx0aXBseVNjYWxhcihuLmRvdCh0KSkpLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgaGFuZGVkbmVzc1xuXG4gICAgICB0bXAyLmNyb3NzVmVjdG9ycyhuMiwgdCk7XG4gICAgICB0ZXN0ID0gdG1wMi5kb3QodGFuMlt2XSk7XG4gICAgICB3ID0gdGVzdCA8IDAuMCA/IC0xLjAgOiAxLjA7XG5cbiAgICAgIHRhbmdlbnRzW3YgKiA0XSA9IHRtcC54O1xuICAgICAgdGFuZ2VudHNbdiAqIDQgKyAxXSA9IHRtcC55O1xuICAgICAgdGFuZ2VudHNbdiAqIDQgKyAyXSA9IHRtcC56O1xuICAgICAgdGFuZ2VudHNbdiAqIDQgKyAzXSA9IHc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tpXTtcblxuICAgICAgdmFyIHN0YXJ0ID0gZ3JvdXAuc3RhcnQ7XG4gICAgICB2YXIgY291bnQgPSBncm91cC5jb3VudDtcblxuICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0LCBqbCA9IHN0YXJ0ICsgY291bnQ7IGogPCBqbDsgaiArPSAzKSB7XG4gICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAwXSk7XG4gICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAxXSk7XG4gICAgICAgIGhhbmRsZVZlcnRleChpbmRpY2VzW2ogKyAyXSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtBcnJheTxCdWZmZXJHZW9tZXRyeT59IGdlb21ldHJpZXNcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlR3JvdXBzXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5fVxuICAgKi9cbiAgbWVyZ2VCdWZmZXJHZW9tZXRyaWVzOiBmdW5jdGlvbiAoZ2VvbWV0cmllcywgdXNlR3JvdXBzKSB7XG4gICAgdmFyIGlzSW5kZXhlZCA9IGdlb21ldHJpZXNbMF0uaW5kZXggIT09IG51bGw7XG5cbiAgICB2YXIgYXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGdlb21ldHJpZXNbMF0uYXR0cmlidXRlcykpO1xuICAgIHZhciBtb3JwaEF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldChPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLm1vcnBoQXR0cmlidXRlcykpO1xuXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICB2YXIgbW9ycGhBdHRyaWJ1dGVzID0ge307XG5cbiAgICB2YXIgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyaWVzWzBdLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO1xuXG4gICAgdmFyIG1lcmdlZEdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7XG5cbiAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpXTtcbiAgICAgIHZhciBhdHRyaWJ1dGVzQ291bnQgPSAwO1xuXG4gICAgICAvLyBlbnN1cmUgdGhhdCBhbGwgZ2VvbWV0cmllcyBhcmUgaW5kZXhlZCwgb3Igbm9uZVxuXG4gICAgICBpZiAoaXNJbmRleGVkICE9PSAoZ2VvbWV0cnkuaW5kZXggIT09IG51bGwpKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICBpICtcbiAgICAgICAgICAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgaW5kZXggYXR0cmlidXRlIGV4aXN0cyBhbW9uZyBhbGwgZ2VvbWV0cmllcywgb3IgaW4gbm9uZSBvZiB0aGVtLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIGdhdGhlciBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XG5cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaSArXG4gICAgICAgICAgICAnLiBBbGwgZ2VvbWV0cmllcyBtdXN0IGhhdmUgY29tcGF0aWJsZSBhdHRyaWJ1dGVzOyBtYWtlIHN1cmUgXCInICtcbiAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgJ1wiIGF0dHJpYnV0ZSBleGlzdHMgYW1vbmcgYWxsIGdlb21ldHJpZXMsIG9yIGluIG5vbmUgb2YgdGhlbS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIGF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcblxuICAgICAgICBhdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkuYXR0cmlidXRlc1tuYW1lXSk7XG5cbiAgICAgICAgYXR0cmlidXRlc0NvdW50Kys7XG4gICAgICB9XG5cbiAgICAgIC8vIGVuc3VyZSBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXNcblxuICAgICAgaWYgKGF0dHJpYnV0ZXNDb3VudCAhPT0gYXR0cmlidXRlc1VzZWQuc2l6ZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgaSArXG4gICAgICAgICAgJy4gTWFrZSBzdXJlIGFsbCBnZW9tZXRyaWVzIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGF0dHJpYnV0ZXMuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2F0aGVyIG1vcnBoIGF0dHJpYnV0ZXMsIGV4aXQgZWFybHkgaWYgdGhleSdyZSBkaWZmZXJlbnRcblxuICAgICAgaWYgKG1vcnBoVGFyZ2V0c1JlbGF0aXZlICE9PSBnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgaSArXG4gICAgICAgICAgJy4gLm1vcnBoVGFyZ2V0c1JlbGF0aXZlIG11c3QgYmUgY29uc2lzdGVudCB0aHJvdWdob3V0IGFsbCBnZW9tZXRyaWVzLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG5hbWUgaW4gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICghbW9ycGhBdHRyaWJ1dGVzVXNlZC5oYXMobmFtZSkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2l0aCBnZW9tZXRyeSBhdCBpbmRleCAnICtcbiAgICAgICAgICAgIGkgK1xuICAgICAgICAgICAgJy4gIC5tb3JwaEF0dHJpYnV0ZXMgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9ycGhBdHRyaWJ1dGVzW25hbWVdID09PSB1bmRlZmluZWQpIG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xuXG4gICAgICAgIG1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGdhdGhlciAudXNlckRhdGFcblxuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEgPSBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YSB8fCBbXTtcbiAgICAgIG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhLnB1c2goZ2VvbWV0cnkudXNlckRhdGEpO1xuXG4gICAgICBpZiAodXNlR3JvdXBzKSB7XG4gICAgICAgIHZhciBjb3VudDtcblxuICAgICAgICBpZiAoaXNJbmRleGVkKSB7XG4gICAgICAgICAgY291bnQgPSBnZW9tZXRyeS5pbmRleC5jb3VudDtcbiAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb3VudCA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggJyArXG4gICAgICAgICAgICBpICtcbiAgICAgICAgICAgICcuIFRoZSBnZW9tZXRyeSBtdXN0IGhhdmUgZWl0aGVyIGFuIGluZGV4IG9yIGEgcG9zaXRpb24gYXR0cmlidXRlJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBtZXJnZWRHZW9tZXRyeS5hZGRHcm91cChvZmZzZXQsIGNvdW50LCBpKTtcblxuICAgICAgICBvZmZzZXQgKz0gY291bnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWVyZ2UgaW5kaWNlc1xuXG4gICAgaWYgKGlzSW5kZXhlZCkge1xuICAgICAgdmFyIGluZGV4T2Zmc2V0ID0gMDtcbiAgICAgIHZhciBtZXJnZWRJbmRleCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2VvbWV0cmllc1tpXS5pbmRleDtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4LmNvdW50OyArK2opIHtcbiAgICAgICAgICBtZXJnZWRJbmRleC5wdXNoKGluZGV4LmdldFgoaikgKyBpbmRleE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleE9mZnNldCArPSBnZW9tZXRyaWVzW2ldLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XG4gICAgICB9XG5cbiAgICAgIG1lcmdlZEdlb21ldHJ5LnNldEluZGV4KG1lcmdlZEluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBtZXJnZSBhdHRyaWJ1dGVzXG5cbiAgICBmb3IgKHZhciBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIHZhciBtZXJnZWRBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhhdHRyaWJ1dGVzW25hbWVdKTtcblxuICAgICAgaWYgKCFtZXJnZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aGlsZSB0cnlpbmcgdG8gbWVyZ2UgdGhlICcgK1xuICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICcgYXR0cmlidXRlLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIG1lcmdlZEdlb21ldHJ5LnNldEF0dHJpYnV0ZShuYW1lLCBtZXJnZWRBdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIC8vIG1lcmdlIG1vcnBoIGF0dHJpYnV0ZXNcblxuICAgIGZvciAodmFyIG5hbWUgaW4gbW9ycGhBdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgbnVtTW9ycGhUYXJnZXRzID0gbW9ycGhBdHRyaWJ1dGVzW25hbWVdWzBdLmxlbmd0aDtcblxuICAgICAgaWYgKG51bU1vcnBoVGFyZ2V0cyA9PT0gMCkgYnJlYWs7XG5cbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyA9IG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcyB8fCB7fTtcbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1vcnBoVGFyZ2V0czsgKytpKSB7XG4gICAgICAgIHZhciBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICBtb3JwaEF0dHJpYnV0ZXNUb01lcmdlLnB1c2gobW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtZXJnZWRNb3JwaEF0dHJpYnV0ZSA9IHRoaXMubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UpO1xuXG4gICAgICAgIGlmICghbWVyZ2VkTW9ycGhBdHRyaWJ1dGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSAnICtcbiAgICAgICAgICAgIG5hbWUgK1xuICAgICAgICAgICAgJyBtb3JwaEF0dHJpYnV0ZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKG1lcmdlZE1vcnBoQXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkR2VvbWV0cnk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xuICAgKiBAcmV0dXJuIHtCdWZmZXJBdHRyaWJ1dGV9XG4gICAqL1xuICBtZXJnZUJ1ZmZlckF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgdmFyIFR5cGVkQXJyYXk7XG4gICAgdmFyIGl0ZW1TaXplO1xuICAgIHZhciBub3JtYWxpemVkO1xuICAgIHZhciBhcnJheUxlbmd0aCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldO1xuXG4gICAgICBpZiAoYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XG4gICAgICBpZiAoVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5hcnJheSBtdXN0IGJlIG9mIGNvbnNpc3RlbnQgYXJyYXkgdHlwZXMgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1TaXplID09PSB1bmRlZmluZWQpIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuICAgICAgaWYgKGl0ZW1TaXplICE9PSBhdHRyaWJ1dGUuaXRlbVNpemUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLml0ZW1TaXplIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSBub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQ7XG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gYXR0cmlidXRlLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyQXR0cmlidXRlcygpIGZhaWxlZC4gQnVmZmVyQXR0cmlidXRlLm5vcm1hbGl6ZWQgbXVzdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYXJyYXlMZW5ndGgpO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBhcnJheS5zZXQoYXR0cmlidXRlc1tpXS5hcnJheSwgb2Zmc2V0KTtcblxuICAgICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZXNbaV0uYXJyYXkubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xuICAgKiBAcmV0dXJuIHtBcnJheTxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XG4gICAqL1xuICBpbnRlcmxlYXZlQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAvLyBJbnRlcmxlYXZlcyB0aGUgcHJvdmlkZWQgYXR0cmlidXRlcyBpbnRvIGFuIEludGVybGVhdmVkQnVmZmVyIGFuZCByZXR1cm5zXG4gICAgLy8gYSBzZXQgb2YgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGVzIGZvciBlYWNoIGF0dHJpYnV0ZVxuICAgIHZhciBUeXBlZEFycmF5O1xuICAgIHZhciBhcnJheUxlbmd0aCA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG5cbiAgICAvLyBjYWxjdWxhdGUgdGhlIHRoZSBsZW5ndGggYW5kIHR5cGUgb2YgdGhlIGludGVybGVhdmVkQnVmZmVyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XG5cbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XG4gICAgICBpZiAoVHlwZWRBcnJheSAhPT0gYXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F0dHJpYnV0ZUJ1ZmZlcnMgb2YgZGlmZmVyZW50IHR5cGVzIGNhbm5vdCBiZSBpbnRlcmxlYXZlZCcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgYXJyYXlMZW5ndGggKz0gYXR0cmlidXRlLmFycmF5Lmxlbmd0aDtcbiAgICAgIHN0cmlkZSArPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcbiAgICB2YXIgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIobmV3IFR5cGVkQXJyYXkoYXJyYXlMZW5ndGgpLCBzdHJpZGUpO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICB2YXIgZ2V0dGVycyA9IFsnZ2V0WCcsICdnZXRZJywgJ2dldFonLCAnZ2V0VyddO1xuICAgIHZhciBzZXR0ZXJzID0gWydzZXRYJywgJ3NldFknLCAnc2V0WicsICdzZXRXJ107XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgIHZhciBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcbiAgICAgIHZhciBjb3VudCA9IGF0dHJpYnV0ZS5jb3VudDtcbiAgICAgIHZhciBpYmEgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLFxuICAgICAgICBpdGVtU2l6ZSxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBhdHRyaWJ1dGUubm9ybWFsaXplZFxuICAgICAgKTtcbiAgICAgIHJlcy5wdXNoKGliYSk7XG5cbiAgICAgIG9mZnNldCArPSBpdGVtU2l6ZTtcblxuICAgICAgLy8gTW92ZSB0aGUgZGF0YSBmb3IgZWFjaCBhdHRyaWJ1dGUgaW50byB0aGUgbmV3IGludGVybGVhdmVkQnVmZmVyXG4gICAgICAvLyBhdCB0aGUgYXBwcm9wcmlhdGUgb2Zmc2V0XG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGNvdW50OyBjKyspIHtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XG4gICAgICAgICAgaWJhW3NldHRlcnNba11dKGMsIGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShjKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckdlb21ldHJ5Pn0gZ2VvbWV0cnlcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZXN0aW1hdGVCeXRlc1VzZWQ6IGZ1bmN0aW9uIChnZW9tZXRyeSkge1xuICAgIC8vIFJldHVybiB0aGUgZXN0aW1hdGVkIG1lbW9yeSB1c2VkIGJ5IHRoaXMgZ2VvbWV0cnkgaW4gYnl0ZXNcbiAgICAvLyBDYWxjdWxhdGUgdXNpbmcgaXRlbVNpemUsIGNvdW50LCBhbmQgQllURVNfUEVSX0VMRU1FTlQgdG8gYWNjb3VudFxuICAgIC8vIGZvciBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZXMuXG4gICAgdmFyIG1lbSA9IDA7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgICB2YXIgYXR0ciA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIG1lbSArPSBhdHRyLmNvdW50ICogYXR0ci5pdGVtU2l6ZSAqIGF0dHIuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgfVxuXG4gICAgdmFyIGluZGljZXMgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgIG1lbSArPSBpbmRpY2VzID8gaW5kaWNlcy5jb3VudCAqIGluZGljZXMuaXRlbVNpemUgKiBpbmRpY2VzLmFycmF5LkJZVEVTX1BFUl9FTEVNRU5UIDogMDtcbiAgICByZXR1cm4gbWVtO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cbiAgICovXG4gIG1lcmdlVmVydGljZXM6IGZ1bmN0aW9uIChnZW9tZXRyeSwgdG9sZXJhbmNlID0gMWUtNCkge1xuICAgIHRvbGVyYW5jZSA9IE1hdGgubWF4KHRvbGVyYW5jZSwgTnVtYmVyLkVQU0lMT04pO1xuXG4gICAgLy8gR2VuZXJhdGUgYW4gaW5kZXggYnVmZmVyIGlmIHRoZSBnZW9tZXRyeSBkb2Vzbid0IGhhdmUgb25lLCBvciBvcHRpbWl6ZSBpdFxuICAgIC8vIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXG4gICAgdmFyIGhhc2hUb0luZGV4ID0ge307XG4gICAgdmFyIGluZGljZXMgPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgIHZhciBwb3NpdGlvbnMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG4gICAgdmFyIHZlcnRleENvdW50ID0gaW5kaWNlcyA/IGluZGljZXMuY291bnQgOiBwb3NpdGlvbnMuY291bnQ7XG5cbiAgICAvLyBuZXh0IHZhbHVlIGZvciB0cmlhbmdsZSBpbmRpY2VzXG4gICAgdmFyIG5leHRJbmRleCA9IDA7XG5cbiAgICAvLyBhdHRyaWJ1dGVzIGFuZCBuZXcgYXR0cmlidXRlIGFycmF5c1xuICAgIHZhciBhdHRyaWJ1dGVOYW1lcyA9IE9iamVjdC5rZXlzKGdlb21ldHJ5LmF0dHJpYnV0ZXMpO1xuICAgIHZhciBhdHRyQXJyYXlzID0ge307XG4gICAgdmFyIG1vcnBoQXR0cnNBcnJheXMgPSB7fTtcbiAgICB2YXIgbmV3SW5kaWNlcyA9IFtdO1xuICAgIHZhciBnZXR0ZXJzID0gWydnZXRYJywgJ2dldFknLCAnZ2V0WicsICdnZXRXJ107XG5cbiAgICAvLyBpbml0aWFsaXplIHRoZSBhcnJheXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tpXTtcblxuICAgICAgYXR0ckFycmF5c1tuYW1lXSA9IFtdO1xuXG4gICAgICB2YXIgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgaWYgKG1vcnBoQXR0cikge1xuICAgICAgICBtb3JwaEF0dHJzQXJyYXlzW25hbWVdID0gbmV3IEFycmF5KG1vcnBoQXR0ci5sZW5ndGgpLmZpbGwoKS5tYXAoKCkgPT4gW10pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgdGhlIGVycm9yIHRvbGVyYW5jZSB0byBhbiBhbW91bnQgb2YgZGVjaW1hbCBwbGFjZXMgdG8gdHJ1bmNhdGUgdG9cbiAgICB2YXIgZGVjaW1hbFNoaWZ0ID0gTWF0aC5sb2cxMCgxIC8gdG9sZXJhbmNlKTtcbiAgICB2YXIgc2hpZnRNdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIGRlY2ltYWxTaGlmdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXggPSBpbmRpY2VzID8gaW5kaWNlcy5nZXRYKGkpIDogaTtcblxuICAgICAgLy8gR2VuZXJhdGUgYSBoYXNoIGZvciB0aGUgdmVydGV4IGF0dHJpYnV0ZXMgYXQgdGhlIGN1cnJlbnQgaW5kZXggJ2knXG4gICAgICB2YXIgaGFzaCA9ICcnO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tqXTtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgdmFyIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlbVNpemU7IGsrKykge1xuICAgICAgICAgIC8vIGRvdWJsZSB0aWxkZSB0cnVuY2F0ZXMgdGhlIGRlY2ltYWwgdmFsdWVcbiAgICAgICAgICBoYXNoICs9IGAke35+KGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShpbmRleCkgKiBzaGlmdE11bHRpcGxpZXIpfSxgO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBhbm90aGVyIHJlZmVyZW5jZSB0byB0aGUgdmVydGV4IGlmIGl0J3MgYWxyZWFkeVxuICAgICAgLy8gdXNlZCBieSBhbm90aGVyIGluZGV4XG4gICAgICBpZiAoaGFzaCBpbiBoYXNoVG9JbmRleCkge1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2goaGFzaFRvSW5kZXhbaGFzaF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29weSBkYXRhIHRvIHRoZSBuZXcgaW5kZXggaW4gdGhlIGF0dHJpYnV0ZSBhcnJheXNcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2pdO1xuICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgdmFyIG1vcnBoQXR0ciA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgICB2YXIgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XG4gICAgICAgICAgdmFyIG5ld2FycmF5ID0gYXR0ckFycmF5c1tuYW1lXTtcbiAgICAgICAgICB2YXIgbmV3TW9ycGhBcnJheXMgPSBtb3JwaEF0dHJzQXJyYXlzW25hbWVdO1xuXG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XG4gICAgICAgICAgICB2YXIgZ2V0dGVyRnVuYyA9IGdldHRlcnNba107XG4gICAgICAgICAgICBuZXdhcnJheS5wdXNoKGF0dHJpYnV0ZVtnZXR0ZXJGdW5jXShpbmRleCkpO1xuXG4gICAgICAgICAgICBpZiAobW9ycGhBdHRyKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIG0gPSAwLCBtbCA9IG1vcnBoQXR0ci5sZW5ndGg7IG0gPCBtbDsgbSsrKSB7XG4gICAgICAgICAgICAgICAgbmV3TW9ycGhBcnJheXNbbV0ucHVzaChtb3JwaEF0dHJbbV1bZ2V0dGVyRnVuY10oaW5kZXgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGhhc2hUb0luZGV4W2hhc2hdID0gbmV4dEluZGV4O1xuICAgICAgICBuZXdJbmRpY2VzLnB1c2gobmV4dEluZGV4KTtcbiAgICAgICAgbmV4dEluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgdHlwZWQgYXJyYXlzIGZyb20gbmV3IGF0dHJpYnV0ZSBhcnJheXMgYW5kIHVwZGF0ZVxuICAgIC8vIHRoZSBhdHRyaWJ1dGVCdWZmZXJzXG4gICAgY29uc3QgcmVzdWx0ID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lc1tpXTtcbiAgICAgIHZhciBvbGRBdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XG5cbiAgICAgIHZhciBidWZmZXIgPSBuZXcgb2xkQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKGF0dHJBcnJheXNbbmFtZV0pO1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IG5ldyBCdWZmZXJBdHRyaWJ1dGUoYnVmZmVyLCBvbGRBdHRyaWJ1dGUuaXRlbVNpemUsIG9sZEF0dHJpYnV0ZS5ub3JtYWxpemVkKTtcblxuICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyaWJ1dGUpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGF0dHJpYnV0ZSBhcnJheXNcbiAgICAgIGlmIChuYW1lIGluIG1vcnBoQXR0cnNBcnJheXMpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb3JwaEF0dHJzQXJyYXlzW25hbWVdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIG9sZE1vcnBoQXR0cmlidXRlID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdO1xuXG4gICAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBvbGRNb3JwaEF0dHJpYnV0ZS5hcnJheS5jb25zdHJ1Y3Rvcihtb3JwaEF0dHJzQXJyYXlzW25hbWVdW2pdKTtcbiAgICAgICAgICB2YXIgbW9ycGhBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxuICAgICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgICAgb2xkTW9ycGhBdHRyaWJ1dGUuaXRlbVNpemUsXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5ub3JtYWxpemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXN1bHQubW9ycGhBdHRyaWJ1dGVzW25hbWVdW2pdID0gbW9ycGhBdHRyaWJ1dGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbmRpY2VzXG5cbiAgICByZXN1bHQuc2V0SW5kZXgobmV3SW5kaWNlcyk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0J1ZmZlckdlb21ldHJ5fSBnZW9tZXRyeVxuICAgKiBAcGFyYW0ge251bWJlcn0gZHJhd01vZGVcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxuICAgKi9cbiAgdG9UcmlhbmdsZXNEcmF3TW9kZTogZnVuY3Rpb24gKGdlb21ldHJ5LCBkcmF3TW9kZSkge1xuICAgIGlmIChkcmF3TW9kZSA9PT0gVHJpYW5nbGVzRHJhd01vZGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBHZW9tZXRyeSBhbHJlYWR5IGRlZmluZWQgYXMgdHJpYW5nbGVzLidcbiAgICAgICk7XG4gICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgfVxuXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlIHx8IGRyYXdNb2RlID09PSBUcmlhbmdsZVN0cmlwRHJhd01vZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGdlb21ldHJ5LmdldEluZGV4KCk7XG5cbiAgICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XG5cbiAgICAgIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcblxuICAgICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb24uY291bnQ7IGkrKykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xuICAgICAgICAgIGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZ2VvbWV0cnk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9cblxuICAgICAgdmFyIG51bWJlck9mVHJpYW5nbGVzID0gaW5kZXguY291bnQgLSAyO1xuICAgICAgdmFyIG5ld0luZGljZXMgPSBbXTtcblxuICAgICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX0ZBTlxuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcbiAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WCgwKSk7XG4gICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSkpO1xuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXJPZlRyaWFuZ2xlczsgaSsrKSB7XG4gICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpICsgMSkpO1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnB1c2goaW5kZXguZ2V0WChpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmFibGUgdG8gZ2VuZXJhdGUgY29ycmVjdCBhbW91bnQgb2YgdHJpYW5nbGVzLidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gYnVpbGQgZmluYWwgZ2VvbWV0cnlcblxuICAgICAgdmFyIG5ld0dlb21ldHJ5ID0gZ2VvbWV0cnkuY2xvbmUoKTtcbiAgICAgIG5ld0dlb21ldHJ5LnNldEluZGV4KG5ld0luZGljZXMpO1xuICAgICAgbmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcblxuICAgICAgcmV0dXJuIG5ld0dlb21ldHJ5O1xuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmtub3duIGRyYXcgbW9kZTonLCBkcmF3TW9kZSk7XG4gICAgcmV0dXJuIGdlb21ldHJ5O1xuICB9LFxufTtcblxuZXhwb3J0IHsgQnVmZmVyR2VvbWV0cnlVdGlscyB9O1xuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENvbGxpc2lvbnMobWVzaCwgY29sbGlkYWJsZU1lc2hMaXN0KSB7XHJcbiAgICBjb25zdCBtZXNoQm94ID0gbmV3IFRIUkVFLkJveDMoKS5zZXRGcm9tT2JqZWN0KG1lc2gpO1xyXG4gICAgY29uc3QgY29sbGlkYWJsZU1lc2hMaXN0Qm94ID0gY29sbGlkYWJsZU1lc2hMaXN0Lm1hcChjb2xsaWRhYmxlTWVzaCA9PiAoXHJcbiAgICAgICAgbmV3IFRIUkVFLkJveDMoKS5zZXRGcm9tT2JqZWN0KGNvbGxpZGFibGVNZXNoKVxyXG4gICAgKSlcclxuXHJcbiAgICBjb25zdCBoaXRzID0gY29sbGlkYWJsZU1lc2hMaXN0Qm94Lm1hcCgoY29sbGlkYWJsZU1lc2gpID0+IChcclxuICAgICAgICBjb2xsaWRhYmxlTWVzaC5pbnRlcnNlY3RzQm94KG1lc2hCb3gpXHJcbiAgICApKVxyXG5cclxuICAgIHJldHVybiBoaXRzLnJlZHVjZSgob3V0LCBoaXQsIGlkeCkgPT4gaGl0ID8gb3V0LmNvbmNhdChpZHgpIDogb3V0LCBbXSk7XHJcbn0iLCIvKipcbiAqIEBhdXRob3IgYWx0ZXJlZHEgLyBodHRwOi8vYWx0ZXJlZHF1YWxpYS5jb20vXG4gKiBAYXV0aG9yIG1yLmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICB3ZWJnbDogKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgIHJldHVybiAhISh3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0ICYmIChjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJykpKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pKCksXG5cbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxuICBmaWxlYXBpOiB3aW5kb3cuRmlsZSAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZUxpc3QgJiYgd2luZG93LkJsb2IsXG5cbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5pZCA9ICd3ZWJnbC1lcnJvci1tZXNzYWdlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJztcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gJzEzcHgnO1xuICAgIGVsZW1lbnQuc3R5bGUuZm9udFdlaWdodCA9ICdub3JtYWwnO1xuICAgIGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgIGVsZW1lbnQuc3R5bGUuY29sb3IgPSAnIzAwMCc7XG4gICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzEuNWVtJztcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzQwMHB4JztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9ICc1ZW0gYXV0byAwJztcblxuICAgIGlmKCF0aGlzLndlYmdsKSB7XG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQgPyBbXG4gICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcbiAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LidcbiAgICAgIF0uam9pbignXFxuJykgOiBbXG4gICAgICAgICdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyLz4nLFxuICAgICAgICAnRmluZCBvdXQgaG93IHRvIGdldCBpdCA8YSBocmVmPVwiaHR0cDovL2dldC53ZWJnbC5vcmcvXCIgc3R5bGU9XCJjb2xvcjojMDAwMDAwXCI+aGVyZTwvYT4uJ1xuICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSxcblxuICBhZGRHZXRXZWJHTE1lc3NhZ2U6IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgICB2YXIgcGFyZW50LCBpZCwgZWxlbWVudDtcblxuICAgIHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IHt9O1xuXG4gICAgcGFyZW50ID0gcGFyYW1ldGVycy5wYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMucGFyZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICBpZCA9IHBhcmFtZXRlcnMuaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiAnb2xkaWUnO1xuXG4gICAgZWxlbWVudCA9IHRoaXMuZ2V0V2ViR0xFcnJvck1lc3NhZ2UoKTtcbiAgICBlbGVtZW50LmlkID0gaWQ7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn07XG4iLCIvLyBQcm92aWRlcyBzaW1wbGUgc3RhdGljIGZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIG11bHRpcGxlIHRpbWVzIGluIHRoZSBhcHBcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBlcnMge1xuICBzdGF0aWMgdGhyb3R0bGUoZm4sIHRocmVzaGhvbGQsIHNjb3BlKSB7XG4gICAgdGhyZXNoaG9sZCB8fCAodGhyZXNoaG9sZCA9IDI1MCk7XG4gICAgbGV0IGxhc3QsIGRlZmVyVGltZXI7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gc2NvcGUgfHwgdGhpcztcblxuICAgICAgY29uc3Qgbm93ICA9ICtuZXcgRGF0ZSxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgaWYobGFzdCAmJiBub3cgPCBsYXN0ICsgdGhyZXNoaG9sZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVmZXJUaW1lcik7XG4gICAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH0sIHRocmVzaGhvbGQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxhc3QgPSBub3c7XG4gICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgbG9nUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgaWYoeGhyLmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlID0geGhyLmxvYWRlZCAvIHhoci50b3RhbCAqIDEwMDtcblxuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSwgMikgKyAnJSBkb3dubG9hZGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGxvZ0Vycm9yKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgaGFuZGxlQ29sb3JDaGFuZ2UoY29sb3IpIHtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgnIycsICcweCcpO1xuICAgICAgfVxuXG4gICAgICBjb2xvci5zZXRIZXgodmFsdWUpO1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgdXBkYXRlKG1lc2gpIHtcbiAgICB0aGlzLm5lZWRzVXBkYXRlKG1lc2gubWF0ZXJpYWwsIG1lc2guZ2VvbWV0cnkpO1xuICB9XG5cbiAgc3RhdGljIG5lZWRzVXBkYXRlKG1hdGVyaWFsLCBnZW9tZXRyeSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIG1hdGVyaWFsLnNoYWRpbmcgPSArbWF0ZXJpYWwuc2hhZGluZzsgLy9FbnN1cmUgbnVtYmVyXG4gICAgICBtYXRlcmlhbC52ZXJ0ZXhDb2xvcnMgPSArbWF0ZXJpYWwudmVydGV4Q29sb3JzOyAvL0Vuc3VyZSBudW1iZXJcbiAgICAgIG1hdGVyaWFsLnNpZGUgPSArbWF0ZXJpYWwuc2lkZTsgLy9FbnN1cmUgbnVtYmVyXG4gICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICBnZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgZ2VvbWV0cnkubm9ybWFsc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgICAgZ2VvbWV0cnkuY29sb3JzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVUZXh0dXJlKG1hdGVyaWFsLCBtYXRlcmlhbEtleSwgdGV4dHVyZXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICBtYXRlcmlhbFttYXRlcmlhbEtleV0gPSB0ZXh0dXJlc1trZXldO1xuICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH07XG4gIH1cbn1cbiIsImNvbnN0IEFMSUFTID0ge1xuICBsZWZ0OiAzNyxcbiAgdXA6IDM4LFxuICByaWdodDogMzksXG4gIGRvd246IDQwLFxuICBzcGFjZTogMzIsXG4gIHRhYjogOSxcbiAgZXNjYXBlOiAyNyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudCkge1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgdGhpcy5rZXlDb2RlcyA9IHt9O1xuXG4gICAgLy8gYmluZCBrZXlFdmVudHNcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5ZG93blwiLFxuICAgICAgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwia2V5dXBcIixcbiAgICAgIChldmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICAvLyBiaW5kIHdpbmRvdyBibHVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IHRoaXMub25CbHVyLCBmYWxzZSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXlkb3duXCIsXG4gICAgICAoZXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXl1cFwiLFxuICAgICAgKGV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIC8vIHVuYmluZCB3aW5kb3cgYmx1ciBldmVudFxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoKSA9PiB0aGlzLm9uQmx1ciwgZmFsc2UpO1xuICB9XG5cbiAgb25CbHVyKCkge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0aGlzLmtleUNvZGVzKSB0aGlzLmtleUNvZGVzW3Byb3BdID0gZmFsc2U7XG4gIH1cblxuICBvbktleUNoYW5nZShldmVudCkge1xuICAgIC8vIGxvZyB0byBkZWJ1Z1xuICAgIC8vY29uc29sZS5sb2coJ29uS2V5Q2hhbmdlJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXG5cbiAgICAvLyB1cGRhdGUgdGhpcy5rZXlDb2Rlc1xuICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIHRoaXMua2V5Q29kZXNba2V5Q29kZV0gPSBldmVudC50eXBlID09PSBcImtleWRvd25cIjtcbiAgfVxuXG4gIHByZXNzZWQoa2V5RGVzYykge1xuICAgIGNvbnN0IGtleXMgPSBrZXlEZXNjLnNwbGl0KFwiK1wiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBsZXQgcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcbiAgICAgICAgcHJlc3NlZCA9IHRoaXMua2V5Q29kZXNbQUxJQVNba2V5XV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1trZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApXTtcbiAgICAgIH1cbiAgICAgIGlmICghcHJlc3NlZCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZXZlbnRNYXRjaGVzKGV2ZW50LCBrZXlEZXNjKSB7XG4gICAgY29uc3QgYWxpYXNlcyA9IEFMSUFTO1xuICAgIGNvbnN0IGFsaWFzS2V5cyA9IE9iamVjdC5rZXlzKGFsaWFzZXMpO1xuICAgIGNvbnN0IGtleXMgPSBrZXlEZXNjLnNwbGl0KFwiK1wiKTtcbiAgICAvLyBsb2cgdG8gZGVidWdcbiAgICAvLyBjb25zb2xlLmxvZygnZXZlbnRNYXRjaGVzJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcbiAgICAgIGlmIChrZXkgPT09IFwic2hpZnRcIikge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQuc2hpZnRLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJjdHJsXCIpIHtcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LmN0cmxLZXkgPyB0cnVlIDogZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJhbHRcIikge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQuYWx0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwibWV0YVwiKSB7XG4gICAgICAgIHByZXNzZWQgPSBldmVudC5tZXRhS2V5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChhbGlhc0tleXMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xuICAgICAgICBwcmVzc2VkID0gZXZlbnQua2V5Q29kZSA9PT0gYWxpYXNlc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBrZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIHByZXNzZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFwcmVzc2VkKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=